var nA=Object.defineProperty,rA=Object.defineProperties;var iA=Object.getOwnPropertyDescriptors;var S_=Object.getOwnPropertySymbols;var oA=Object.prototype.hasOwnProperty,sA=Object.prototype.propertyIsEnumerable;var A_=(t,e,n)=>e in t?nA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})oA.call(e,n)&&A_(t,n,e[n]);if(S_)for(var n of S_(e))sA.call(e,n)&&A_(t,n,e[n]);return t},he=(t,e)=>rA(t,iA(e));var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var M_=null;var ch=1,uh=Symbol("SIGNAL");function ie(t){let e=M_;return M_=t,e}var x_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function aA(t){if(!(hh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ch)){if(!t.producerMustRecompute(t)&&!lh(t)){t.dirty=!1,t.lastCleanEpoch=ch;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ch}}function R_(t){return t&&(t.nextProducerIndex=0),ie(t)}function N_(t,e){if(ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(hh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)dh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lh(t){ic(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(aA(n),r!==n.version))return!0}return!1}function P_(t){if(ic(t),hh(t))for(let e=0;e<t.producerNode.length;e++)dh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function dh(t,e){if(cA(t),ic(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)dh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ic(i),i.producerIndexOfThis[r]=e}}function hh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ic(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function uA(){throw new Error}var lA=uA;function O_(t){lA=t}function L(t){return typeof t=="function"}function Ai(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var oc=Ai(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ar(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(o){e=o instanceof oc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{k_(o)}catch(s){e=e??[],s instanceof oc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new oc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)k_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ar(n,e)}remove(e){let{_finalizers:n}=this;n&&Ar(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var fh=Se.EMPTY;function sc(t){return t instanceof Se||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function k_(t){L(t)?t():t.unsubscribe()}var Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mi={setTimeout(t,e,...n){let{delegate:r}=Mi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Mi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ac(t){Mi.setTimeout(()=>{let{onUnhandledError:e}=Wt;if(e)e(t);else throw t})}function ns(){}var F_=ph("C",void 0,void 0);function V_(t){return ph("E",void 0,t)}function L_(t){return ph("N",t,void 0)}function ph(t,e,n){return{kind:t,value:e,error:n}}var Mr=null;function xi(t){if(Wt.useDeprecatedSynchronousErrorHandling){let e=!Mr;if(e&&(Mr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Mr;if(Mr=null,n)throw r}}else t()}function j_(t){Wt.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=t)}var xr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sc(e)&&e.add(this)):this.destination=fA}static create(e,n,r){return new Ri(e,n,r)}next(e){this.isStopped?mh(L_(e),this):this._next(e)}error(e){this.isStopped?mh(V_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mh(F_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dA=Function.prototype.bind;function gh(t,e){return dA.call(t,e)}var yh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cc(r)}else cc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cc(n)}}},Ri=class extends xr{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Wt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gh(e.next,o),error:e.error&&gh(e.error,o),complete:e.complete&&gh(e.complete,o)}):i=e}this.destination=new yh(i)}};function cc(t){Wt.useDeprecatedSynchronousErrorHandling?j_(t):ac(t)}function hA(t){throw t}function mh(t,e){let{onStoppedNotification:n}=Wt;n&&Mi.setTimeout(()=>n(t,e))}var fA={closed:!0,next:ns,error:hA,complete:ns};var Ni=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function vh(...t){return _h(t)}function _h(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gA(n)?n:new Ri(n,r,i);return xi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=U_(r),new r((i,o)=>{let s=new Ri({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ni](){return this}pipe(...n){return _h(n)(this)}toPromise(n){return n=U_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function U_(t){var e;return(e=t??Wt.Promise)!==null&&e!==void 0?e:Promise}function pA(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function gA(t){return t&&t instanceof xr||pA(t)&&sc(t)}function wh(t){return L(t?.lift)}function te(t){return e=>{if(wh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new Ih(t,e,n,r,i)}var Ih=class extends xr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Pi(){return te((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Oi=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return Pi()(this)}};var B_=Ai(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new uc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new B_}next(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?fh:(this.currentObservers=null,o.push(n),new Se(()=>{this.currentObservers=null,Ar(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new uc(e,n),t})(),uc=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:fh}};var Ye=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Eh={now(){return(Eh.delegate||Date).now()},delegate:void 0};var lc=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var rs={setInterval(t,e,...n){let{delegate:r}=rs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=rs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ki=class extends lc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return rs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&rs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ar(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Fi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Fi.now=Eh.now;var Vi=class extends Fi{constructor(e,n=Fi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Dh=new Vi(ki);var dc=class extends ki{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var hc=class extends Vi{};var Ch=new hc(dc);var Dt=new ee(t=>t.complete());function $_(t){return t&&L(t.schedule)}function H_(t){return t[t.length-1]}function fc(t){return L(H_(t))?t.pop():void 0}function Qn(t){return $_(H_(t))?t.pop():void 0}function bh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function z_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function q_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rr(t){return this instanceof Rr?(this.v=t,this):new Rr(t)}function G_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(v,I){o.push([h,f,v,I])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(v){d(o[0][3],v)}}function c(h){h.value instanceof Rr?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function W_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof q_=="function"?q_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var pc=t=>t&&typeof t.length=="number"&&typeof t!="function";function gc(t){return L(t?.then)}function mc(t){return L(t[Ni])}function yc(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function vc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _c=mA();function wc(t){return L(t?.[_c])}function Ic(t){return G_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Rr(n.read());if(i)return yield Rr(void 0);yield yield Rr(r)}}finally{n.releaseLock()}})}function Ec(t){return L(t?.getReader)}function xe(t){if(t instanceof ee)return t;if(t!=null){if(mc(t))return yA(t);if(pc(t))return vA(t);if(gc(t))return _A(t);if(yc(t))return K_(t);if(wc(t))return wA(t);if(Ec(t))return IA(t)}throw vc(t)}function yA(t){return new ee(e=>{let n=t[Ni]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vA(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _A(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ac)})}function wA(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function K_(t){return new ee(e=>{EA(t,e).catch(n=>e.error(n))})}function IA(t){return K_(Ic(t))}function EA(t,e){var n,r,i,o;return z_(this,void 0,void 0,function*(){try{for(n=W_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Yn(t,e=0){return te((n,r)=>{n.subscribe(W(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function Zn(t,e=0){return te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Q_(t,e){return xe(t).pipe(Zn(e),Yn(e))}function Y_(t,e){return xe(t).pipe(Zn(e),Yn(e))}function Z_(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function J_(t,e){return new ee(n=>{let r;return mt(n,e,()=>{r=t[_c](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function Dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function X_(t,e){return Dc(Ic(t),e)}function ew(t,e){if(t!=null){if(mc(t))return Q_(t,e);if(pc(t))return Z_(t,e);if(gc(t))return Y_(t,e);if(yc(t))return Dc(t,e);if(wc(t))return J_(t,e);if(Ec(t))return X_(t,e)}throw vc(t)}function Ie(t,e){return e?ew(t,e):xe(t)}function k(...t){let e=Qn(t);return Ie(t,e)}function Li(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function Th(t){return!!t&&(t instanceof ee||L(t.lift)&&L(t.subscribe))}var Pn=Ai(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function K(t,e){return te((n,r)=>{let i=0;n.subscribe(W(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:DA}=Array;function CA(t,e){return DA(e)?t(...e):t(e)}function Cc(t){return K(e=>CA(t,e))}var{isArray:bA}=Array,{getPrototypeOf:TA,prototype:SA,keys:AA}=Object;function bc(t){if(t.length===1){let e=t[0];if(bA(e))return{args:e,keys:null};if(MA(e)){let n=AA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function MA(t){return t&&typeof t=="object"&&TA(t)===SA}function Tc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function is(...t){let e=Qn(t),n=fc(t),{args:r,keys:i}=bc(t);if(r.length===0)return Ie([],e);let o=new ee(xA(r,e,i?s=>Tc(i,s):Et));return n?o.pipe(Cc(n)):o}function xA(t,e,n=Et){return r=>{tw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)tw(e,()=>{let u=Ie(t[c],e),l=!1;u.subscribe(W(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function tw(t,e,n){t?mt(n,t,e):e()}function nw(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=I=>u<r?v(I):c.push(I),v=I=>{o&&e.next(I),u++;let E=!1;xe(n(I,l++)).subscribe(W(e,A=>{i?.(A),o?f(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;c.length&&u<r;){let A=c.shift();s?mt(e,s,()=>v(A)):v(A)}h()}catch(A){e.error(A)}}))};return t.subscribe(W(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Re(t,e,n=1/0){return L(e)?Re((r,i)=>K((o,s)=>e(r,o,i,s))(xe(t(r,i))),n):(typeof e=="number"&&(n=e),te((r,i)=>nw(r,i,t,n)))}function ji(t=1/0){return Re(Et,t)}function rw(){return ji(1)}function Ui(...t){return rw()(Ie(t,Qn(t)))}function Sc(t){return new ee(e=>{xe(t()).subscribe(e)})}function Sh(...t){let e=fc(t),{args:n,keys:r}=bc(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;xe(n[l]).subscribe(W(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Tc(r,a):a),o.complete())}))}});return e?i.pipe(Cc(e)):i}function Pt(t,e){return te((n,r)=>{let i=0;n.subscribe(W(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Jn(t){return te((e,n)=>{let r=null,i=!1,o;r=e.subscribe(W(n,void 0,void 0,s=>{o=xe(t(s,Jn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function iw(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(W(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Nr(t,e){return L(e)?Re(t,e,1):Re(t,1)}function Xn(t){return te((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function On(t){return t<=0?()=>Dt:te((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ah(t){return K(()=>t)}function Ac(t=RA){return te((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function RA(){return new Pn}function os(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,o)=>t(i,o,r)):Et,On(1),n?Xn(e):Ac(()=>new Pn))}function Bi(t){return t<=0?()=>Dt:te((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Mh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,o)=>t(i,o,r)):Et,Bi(1),n?Xn(e):Ac(()=>new Pn))}function xh(t,e){return te(iw(t,e,arguments.length>=2,!0))}function Rh(...t){let e=Qn(t);return te((n,r)=>{(e?Ui(t,n,e):Ui(t,n)).subscribe(r)})}function Ot(t,e){return te((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let u=0,l=o++;xe(t(c,l)).subscribe(i=W(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Nh(t){return te((e,n)=>{xe(t).subscribe(W(n,()=>n.complete(),ns)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(W(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Et}var qw="https://g.co/ng/security#xss",M=class extends Error{constructor(e,n){super(Ff(e,n)),this.code=e}};function Ff(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function vs(t){return{toString:t}.toString()}var Mc="__parameters__";function NA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function zw(t,e,n){return vs(()=>{let r=NA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Mc)?c[Mc]:Object.defineProperty(c,Mc,{value:[]})[Mc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ve=globalThis;function fe(t){for(let e in t)if(t[e]===fe)return e;throw Error("Could not find renamed property on target object.")}function PA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ow(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var OA=fe({__forward_ref__:fe});function _s(t){return t.__forward_ref__=_s,t.toString=function(){return ut(this())},t}function ct(t){return Gw(t)?t():t}function Gw(t){return typeof t=="function"&&t.hasOwnProperty(OA)&&t.__forward_ref__===_s}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Be(t){return{providers:t.providers||[],imports:t.imports||[]}}function uu(t){return sw(t,Kw)||sw(t,Qw)}function Ww(t){return uu(t)!==null}function sw(t,e){return t.hasOwnProperty(e)?t[e]:null}function kA(t){let e=t&&(t[Kw]||t[Qw]);return e||null}function aw(t){return t&&(t.hasOwnProperty(cw)||t.hasOwnProperty(FA))?t[cw]:null}var Kw=fe({\u0275prov:fe}),cw=fe({\u0275inj:fe}),Qw=fe({ngInjectableDef:fe}),FA=fe({ngInjectorDef:fe}),x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yw(t){return t&&!!t.\u0275providers}var VA=fe({\u0275cmp:fe}),LA=fe({\u0275dir:fe}),jA=fe({\u0275pipe:fe}),UA=fe({\u0275mod:fe}),jc=fe({\u0275fac:fe}),ss=fe({__NG_ELEMENT_ID__:fe}),uw=fe({__NG_ENV_ID__:fe});function lu(t){return typeof t=="string"?t:t==null?"":String(t)}function BA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():lu(t)}function $A(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,t)}function Vf(t,e){throw new M(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),Kh;function Zw(){return Kh}function yt(t){let e=Kh;return Kh=t,e}function Jw(t,e,n){let r=uu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Vf(t,"Injector")}var HA={},cs=HA,Qh="__NG_DI_FLAG__",Uc="ngTempTokenPath",qA="ngTokenPath",zA=/\n/gm,GA="\u0275",lw="__source",Gi;function WA(){return Gi}function er(t){let e=Gi;return Gi=t,e}function KA(t,e=z.Default){if(Gi===void 0)throw new M(-203,!1);return Gi===null?Jw(t,void 0,e):Gi.get(t,e&z.Optional?null:void 0,e)}function N(t,e=z.Default){return(Zw()||KA)(ct(t),e)}function D(t,e=z.Default){return N(t,du(e))}function du(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yh(t){let e=[];for(let n=0;n<t.length;n++){let r=ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=z.Default;for(let s=0;s<r.length;s++){let a=r[s],c=QA(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function Xw(t,e){return t[Qh]=e,t.prototype[Qh]=e,t}function QA(t){return t[Qh]}function YA(t,e,n,r){let i=t[Uc];throw e[lw]&&i.unshift(e[lw]),t.message=ZA(`
`+t.message,i,n,r),t[qA]=i,t[Uc]=null,t}function ZA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==GA?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zA,`
  `)}`}var Vt=Xw(zw("Optional"),8);var Lf=Xw(zw("SkipSelf"),4);function Fr(t,e){let n=t.hasOwnProperty(jc);return n?t[jc]:null}function jf(t,e){t.forEach(n=>Array.isArray(n)?jf(n,e):e(n))}function eI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function JA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function XA(t,e,n){let r=ws(t,e);return r>=0?t[r|1]=n:(r=~r,JA(t,r,e,n)),r}function Ph(t,e){let n=ws(t,e);if(n>=0)return t[n|1]}function ws(t,e){return eM(t,e,1)}function eM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ki={},kt=[],Qi=new x(""),tI=new x("",-1),nI=new x(""),$c=class{get(e,n=cs){if(n===cs){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},rI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rI||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{}),lt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(lt||{});function tM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Zh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];nM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function iI(t){return t===3||t===4||t===6}function nM(t){return t.charCodeAt(0)===64}function us(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?dw(t,n,i,null,e[++r]):dw(t,n,i,null,null))}}return t}function dw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var oI="ng-template";function rM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&tM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Uf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Uf(t){return t.type===4&&t.value!==oI}function iM(t,e,n){let r=t.type===4&&!n?oI:t.value;return e===r}function oM(t,e,n){let r=4,i=t.attrs,o=i!==null?cM(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Kt(r)&&!Kt(c))return!1;if(s&&Kt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!iM(t,c,n)||c===""&&e.length===1){if(Kt(r))return!1;s=!0}}else if(r&8){if(i===null||!rM(t,i,c,n)){if(Kt(r))return!1;s=!0}}else{let u=e[++a],l=sM(c,i,Uf(t),n);if(l===-1){if(Kt(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Kt(r))return!1;s=!0}}}}return Kt(r)||s}function Kt(t){return(t&1)===0}function sM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return uM(e,t)}function aM(t,e,n=!1){for(let r=0;r<e.length;r++)if(oM(t,e[r],n))return!0;return!1}function cM(t){for(let e=0;e<t.length;e++){let n=t[e];if(iI(n))return e}return t.length}function uM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hw(t,e){return t?":not("+e.trim()+")":e}function lM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kt(s)&&(e+=hw(o,i),i=""),r=s,o=o||!Kt(r);n++}return i!==""&&(e+=hw(o,i)),e}function dM(t){return t.map(lM).join(",")}function hM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kt(i))break;i=o}r++}return{attrs:e,classes:n}}function ye(t){return vs(()=>{let e=dI(t),n=he(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});hI(n);let r=t.dependencies;return n.directiveDefs=pw(r,!1),n.pipeDefs=pw(r,!0),n.id=gM(n),n})}function fM(t){return nr(t)||aI(t)}function pM(t){return t!==null}function $e(t){return vs(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fw(t,e){if(t==null)return Ki;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=lt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==lt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Lt(t){return vs(()=>{let e=dI(t);return hI(e),e})}function sI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function nr(t){return t[VA]||null}function aI(t){return t[LA]||null}function cI(t){return t[jA]||null}function uI(t){let e=nr(t)||aI(t)||cI(t);return e!==null?e.standalone:!1}function lI(t,e){let n=t[UA]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function dI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ki,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fw(t.inputs,e),outputs:fw(t.outputs),debugInfo:null}}function hI(t){t.features?.forEach(e=>e(t))}function pw(t,e){if(!t)return null;let n=e?cI:fM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(pM)}function gM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function mM(...t){return{\u0275providers:fI(!0,t),\u0275fromNgModule:!0}}function fI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return jf(e,s=>{let a=s;Jh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&pI(i,o),n}function pI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Bf(i,o=>{e(o,r)})}}function Jh(t,e,n,r){if(t=ct(t),!t)return!1;let i=null,o=aw(t),s=!o&&nr(t);if(!o&&!s){let c=t.ngModule;if(o=aw(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Jh(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{jf(o.imports,l=>{Jh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&pI(u,e)}if(!a){let u=Fr(i)||(()=>new i);e({provide:i,useFactory:u,deps:kt},i),e({provide:nI,useValue:i,multi:!0},i),e({provide:Qi,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;Bf(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Bf(t,e){for(let n of t)Yw(n)&&(n=n.\u0275providers),Array.isArray(n)?Bf(n,e):e(n)}var yM=fe({provide:String,useValue:fe});function gI(t){return t!==null&&typeof t=="object"&&yM in t}function vM(t){return!!(t&&t.useExisting)}function _M(t){return!!(t&&t.useFactory)}function Yi(t){return typeof t=="function"}function wM(t){return!!t.useClass}var hu=new x(""),Oc={},IM={},Oh;function $f(){return Oh===void 0&&(Oh=new $c),Oh}var Ct=class{},ls=class extends Ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ef(e,s=>this.processProvider(s)),this.records.set(tI,$i(void 0,this)),i.has("environment")&&this.records.set(Ct,$i(void 0,this));let o=this.records.get(hu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nI,kt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=er(this),r=yt(void 0),i;try{return e()}finally{er(n),yt(r)}}get(e,n=cs,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(uw))return e[uw](this);r=du(r);let i,o=er(this),s=yt(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=TM(e)&&uu(e);u&&this.injectableDefInScope(u)?c=$i(Xh(e),Oc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?$f():this.parent;return n=r&z.Optional&&n===cs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Uc]=a[Uc]||[]).unshift(ut(e)),o)throw a;return YA(a,e,"R3InjectorError",this.source)}else throw a}finally{yt(s),er(o)}}resolveInjectorInitializers(){let e=ie(null),n=er(this),r=yt(void 0),i;try{let o=this.get(Qi,kt,z.Self);for(let s of o)s()}finally{er(n),yt(r),ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=ct(e);let n=Yi(e)?e:ct(e&&e.provide),r=DM(e);if(!Yi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=$i(void 0,Oc,!0),i.factory=()=>Yh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ie(null);try{return n.value===Oc&&(n.value=IM,n.value=n.factory()),typeof n.value=="object"&&n.value&&bM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xh(t){let e=uu(t),n=e!==null?e.factory:Fr(t);if(n!==null)return n;if(t instanceof x)throw new M(204,!1);if(t instanceof Function)return EM(t);throw new M(204,!1)}function EM(t){if(t.length>0)throw new M(204,!1);let n=kA(t);return n!==null?()=>n.factory(t):()=>new t}function DM(t){if(gI(t))return $i(void 0,t.useValue);{let e=mI(t);return $i(e,Oc)}}function mI(t,e,n){let r;if(Yi(t)){let i=ct(t);return Fr(i)||Xh(i)}else if(gI(t))r=()=>ct(t.useValue);else if(_M(t))r=()=>t.useFactory(...Yh(t.deps||[]));else if(vM(t))r=()=>N(ct(t.useExisting));else{let i=ct(t&&(t.useClass||t.provide));if(CM(t))r=()=>new i(...Yh(t.deps));else return Fr(i)||Xh(i)}return r}function $i(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function CM(t){return!!t.deps}function bM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function TM(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function ef(t,e){for(let n of t)Array.isArray(n)?ef(n,e):n&&Yw(n)?ef(n.\u0275providers,e):e(n)}function Ln(t,e){t instanceof ls&&t.assertNotDestroyed();let n,r=er(t),i=yt(void 0);try{return e()}finally{er(r),yt(i)}}function yI(){return Zw()!==void 0||WA()!=null}function SM(t){if(!yI())throw new M(-203,!1)}function AM(t){let e=Ve.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function MM(t){return typeof t=="function"}var jn=0,Q=1,F=2,nt=3,Qt=4,Zt=5,Hc=6,ds=7,kn=8,Zi=9,Yt=10,je=11,hs=12,gw=13,Is=14,ln=15,fu=16,Hi=17,Ji=18,pu=19,vI=20,tr=21,kh=22,Vr=23,dn=25,_I=1;var Lr=7,qc=8,zc=9,Ft=10,Hf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hf||{});function Or(t){return Array.isArray(t)&&typeof t[_I]=="object"}function Un(t){return Array.isArray(t)&&t[_I]===!0}function wI(t){return(t.flags&4)!==0}function gu(t){return t.componentOffset>-1}function qf(t){return(t.flags&1)===1}function rr(t){return!!t.template}function xM(t){return(t[F]&512)!==0}var tf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function II(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function qr(){return EI}function EI(t){return t.type.prototype.ngOnChanges&&(t.setInput=NM),RM}qr.ngInherit=!0;function RM(){let t=CI(this),e=t?.current;if(e){let n=t.previous;if(n===Ki)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function NM(t,e,n,r,i){let o=this.declaredInputs[r],s=CI(t)||PM(t,{previous:Ki,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new tf(u&&u.currentValue,n,c===Ki),II(t,e,i,n)}var DI="__ngSimpleChanges__";function CI(t){return t[DI]||null}function PM(t,e){return t[DI]=e}var mw=null;var an=function(t,e,n){mw?.(t,e,n)},bI="svg",OM="math",kM=!1;function FM(){return kM}function hn(t){for(;Array.isArray(t);)t=t[jn];return t}function TI(t,e){return hn(e[t])}function jt(t,e){return hn(e[t.index])}function SI(t,e){return t.data[e]}function VM(t,e){return t[e]}function or(t,e){let n=e[t];return Or(n)?n:n[jn]}function zf(t){return(t[F]&128)===128}function LM(t){return Un(t[nt])}function Gc(t,e){return e==null?null:t[e]}function AI(t){t[Hi]=0}function jM(t){t[F]&1024||(t[F]|=1024,zf(t)&&fs(t))}function Gf(t){return!!(t[F]&9216||t[Vr]?.dirty)}function nf(t){t[Yt].changeDetectionScheduler?.notify(1),Gf(t)?fs(t):t[F]&64&&(FM()?(t[F]|=1024,fs(t)):t[Yt].changeDetectionScheduler?.notify())}function fs(t){t[Yt].changeDetectionScheduler?.notify();let e=ps(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!zf(e)));)e=ps(e)}function MI(t,e){if((t[F]&256)===256)throw new M(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function UM(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function ps(t){let e=t[nt];return Un(e)?e[nt]:e}var J={lFrame:FI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BM(){return J.lFrame.elementDepthCount}function $M(){J.lFrame.elementDepthCount++}function HM(){J.lFrame.elementDepthCount--}function xI(){return J.bindingsEnabled}function qM(){return J.skipHydrationRootTNode!==null}function zM(t){return J.skipHydrationRootTNode===t}function GM(){J.skipHydrationRootTNode=null}function me(){return J.lFrame.lView}function vt(){return J.lFrame.tView}function _t(){let t=RI();for(;t!==null&&t.type===64;)t=t.parent;return t}function RI(){return J.lFrame.currentTNode}function WM(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Es(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function NI(){return J.lFrame.isParent}function KM(){J.lFrame.isParent=!1}function QM(){let t=J.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function YM(t){return J.lFrame.bindingIndex=t}function mu(){return J.lFrame.bindingIndex++}function ZM(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JM(){return J.lFrame.inI18n}function XM(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,rf(e)}function ex(){return J.lFrame.currentDirectiveIndex}function rf(t){J.lFrame.currentDirectiveIndex=t}function tx(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function PI(t){J.lFrame.currentQueryIndex=t}function nx(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[Zt]:null}function OI(t,e,n){if(n&z.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=nx(o),i===null||(o=o[Is],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=J.lFrame=kI();return r.currentTNode=e,r.lView=t,!0}function Wf(t){let e=kI(),n=t[Q];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kI(){let t=J.lFrame,e=t===null?null:t.child;return e===null?FI(t):e}function FI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function VI(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var LI=VI;function Kf(){let t=VI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function no(){return J.lFrame.selectedIndex}function jr(t){J.lFrame.selectedIndex=t}function Qf(){let t=J.lFrame;return SI(t.tView,t.selectedIndex)}function ro(){J.lFrame.currentNamespace=bI}function io(){rx()}function rx(){J.lFrame.currentNamespace=null}function ix(){return J.lFrame.currentNamespace}var jI=!0;function Yf(){return jI}function Zf(t){jI=t}function ox(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=EI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Jf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function kc(t,e,n){UI(t,e,3,n)}function Fc(t,e,n,r){(t[F]&3)===n&&UI(t,e,n,r)}function Fh(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function UI(t,e,n,r){let i=r!==void 0?t[Hi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Hi]+=65536),(a<o||o==-1)&&(sx(t,n,e,c),t[Hi]=(t[Hi]&4294901760)+c+2),c++}function yw(t,e){an(4,t,e);let n=ie(null);try{e.call(t)}finally{ie(n),an(5,t,e)}}function sx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[F]>>14<t[Hi]>>16&&(t[F]&3)===e&&(t[F]+=16384,yw(a,o)):yw(a,o)}var Wi=-1,Ur=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ax(t){return t instanceof Ur}function cx(t){return(t.flags&8)!==0}function ux(t){return(t.flags&16)!==0}function BI(t){return t!==Wi}function Wc(t){return t&32767}function lx(t){return t>>16}function Kc(t,e){let n=lx(t),r=e;for(;n>0;)r=r[Is],n--;return r}var of=!0;function Qc(t){let e=of;return of=t,e}var dx=256,$I=dx-1,HI=5,hx=0,cn={};function fx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ss)&&(r=n[ss]),r==null&&(r=n[ss]=hx++);let i=r&$I,o=1<<i;e.data[t+(i>>HI)]|=o}function Yc(t,e){let n=qI(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,Vh(r.data,t),Vh(e,null),Vh(r.blueprint,null));let i=Xf(t,e),o=t.injectorIndex;if(BI(i)){let s=Wc(i),a=Kc(i,e),c=a[Q].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Vh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Xf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=QI(i),r===null)return Wi;if(n++,i=i[Is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Wi}function sf(t,e,n){fx(t,e,n)}function px(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(iI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function zI(t,e,n){if(n&z.Optional||t!==void 0)return t;Vf(e,"NodeInjector")}function GI(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[Zi],o=yt(void 0);try{return i?i.get(e,r,n&z.Optional):Jw(e,r,n&z.Optional)}finally{yt(o)}}return zI(r,e,n)}function WI(t,e,n,r=z.Default,i){if(t!==null){if(e[F]&2048&&!(r&z.Self)){let s=_x(t,e,n,r,cn);if(s!==cn)return s}let o=KI(t,e,n,r,cn);if(o!==cn)return o}return GI(e,n,r,i)}function KI(t,e,n,r,i){let o=yx(n);if(typeof o=="function"){if(!OI(e,t,r))return r&z.Host?zI(i,n,r):GI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&z.Optional))Vf(n);else return s}finally{LI()}}else if(typeof o=="number"){let s=null,a=qI(t,e),c=Wi,u=r&z.Host?e[ln][Zt]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?Xf(t,e):e[a+8],c===Wi||!_w(r,!1)?a=-1:(s=e[Q],a=Wc(c),e=Kc(c,e)));a!==-1;){let l=e[Q];if(vw(o,a,l.data)){let d=gx(a,e,n,s,r,u);if(d!==cn)return d}c=e[a+8],c!==Wi&&_w(r,e[Q].data[a+8]===u)&&vw(o,a,e)?(s=l,a=Wc(c),e=Kc(c,e)):a=-1}}return i}function gx(t,e,n,r,i,o){let s=e[Q],a=s.data[t+8],c=r==null?gu(a)&&of:r!=s&&(a.type&3)!==0,u=i&z.Host&&o===a,l=mx(a,s,n,c,u);return l!==null?Xi(e,s,l,a):cn}function mx(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let v=s[f];if(f<c&&n===v||f>=c&&v.type===n)return f}if(i){let f=s[c];if(f&&rr(f)&&f.type===n)return c}return null}function Xi(t,e,n,r){let i=t[n],o=e.data;if(ax(i)){let s=i;s.resolving&&$A(BA(o[n]));let a=Qc(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?yt(s.injectImpl):null,l=OI(t,r,z.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ox(n,o[n],e)}finally{u!==null&&yt(u),Qc(a),s.resolving=!1,LI()}}return i}function yx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ss)?t[ss]:void 0;return typeof e=="number"?e>=0?e&$I:vx:e}function vw(t,e,n){let r=1<<t;return!!(n[e+(t>>HI)]&r)}function _w(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var kr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WI(this._tNode,this._lView,e,du(r),n)}};function vx(){return new kr(_t(),me())}function Ds(t){return vs(()=>{let e=t.prototype.constructor,n=e[jc]||af(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[jc]||af(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function af(t){return Gw(t)?()=>{let e=af(ct(t));return e&&e()}:Fr(t)}function _x(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[F]&2048&&!(s[F]&512);){let a=KI(o,s,n,r|z.Self,cn);if(a!==cn)return a;let c=o.parent;if(!c){let u=s[vI];if(u){let l=u.get(n,cn,r);if(l!==cn)return l}c=QI(s),s=s[Is]}o=c}return i}function QI(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[Zt]:null}function ep(t){return px(_t(),t)}function ww(t,e=null,n=null,r){let i=YI(t,e,n,r);return i.resolveInjectorInitializers(),i}function YI(t,e=null,n=null,r,i=new Set){let o=[n||kt,mM(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new ls(o,e||$f(),r||null,i)}var dt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return ww({name:""},i,r,"");{let o=r.name??"";return ww({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=cs,e.NULL=new $c,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>N(tI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var wx="ngOriginalError";function Lh(t){return t[wx]}var fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Lh(e);for(;n&&Lh(n);)n=Lh(n);return n||null}},ZI=new x("",{providedIn:"root",factory:()=>D(fn).handleError.bind(void 0)}),tp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ix,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),cf=class extends tp{constructor(e){super(),this._lView=e}onDestroy(e){return MI(this._lView,e),()=>UM(this._lView,e)}};function Ix(){return new cf(me())}function Ex(){return yu(_t(),me())}function yu(t,e){return new sr(jt(t,e))}var sr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Ex;let t=e;return t})();var uf=class extends tt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,yI()&&(this.destroyRef=D(tp,{optional:!0})??void 0)}emit(e){let n=ie(null);try{super.next(e)}finally{ie(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=jh(o),i&&(i=jh(i)),s&&(s=jh(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(a),a}};function jh(t){return e=>{setTimeout(t,void 0,e)}}var Le=uf;function JI(t){return(t.flags&128)===128}var XI=new Map,Dx=0;function Cx(){return Dx++}function bx(t){XI.set(t[pu],t)}function Tx(t){XI.delete(t[pu])}var Iw="__ngContext__";function Br(t,e){Or(e)?(t[Iw]=e[pu],bx(e)):t[Iw]=e}function eE(t){return nE(t[hs])}function tE(t){return nE(t[Qt])}function nE(t){for(;t!==null&&!Un(t);)t=t[Qt];return t}var lf;function rE(t){lf=t}function Sx(){if(lf!==void 0)return lf;if(typeof document<"u")return document;throw new M(210,!1)}var vu=new x("",{providedIn:"root",factory:()=>Ax}),Ax="ng",np=new x(""),pn=new x("",{providedIn:"platform",factory:()=>"unknown"});var rp=new x("",{providedIn:"root",factory:()=>Sx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Mx="h",xx="b";var Rx=()=>null;function ip(t,e,n=!1){return Rx(t,e,n)}var iE=!1,Nx=new x("",{providedIn:"root",factory:()=>iE});var xc;function Px(){if(xc===void 0&&(xc=null,Ve.trustedTypes))try{xc=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xc}function Ew(t){return Px()?.createScriptURL(t)||t}var Zc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qw})`}};function Cs(t){return t instanceof Zc?t.changingThisBreaksApplicationSecurity:t}function op(t,e){let n=Ox(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${qw})`)}return n===e}function Ox(t){return t instanceof Zc&&t.getTypeName()||null}var kx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oE(t){return t=String(t),t.match(kx)?t:"unsafe:"+t}var _u=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(_u||{});function sp(t){let e=aE();return e?e.sanitize(_u.URL,t)||"":op(t,"URL")?Cs(t):oE(lu(t))}function Fx(t){let e=aE();if(e)return Ew(e.sanitize(_u.RESOURCE_URL,t)||"");if(op(t,"ResourceURL"))return Ew(Cs(t));throw new M(904,!1)}function Vx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Fx:sp}function sE(t,e,n){return Vx(e,n)(t)}function aE(){let t=me();return t&&t[Yt].sanitizer}function cE(t){return t instanceof Function?t():t}function Lx(t){return(t??D(dt)).get(pn)==="browser"}var Fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fn||{}),jx;function ap(t,e){return jx(t,e)}function qi(t,e,n,r,i){if(r!=null){let o,s=!1;Un(r)?o=r:Or(r)&&(s=!0,r=r[jn]);let a=hn(r);t===0&&n!==null?i==null?fE(e,n,a):Jc(e,n,a,i||null,!0):t===1&&n!==null?Jc(e,n,a,i||null,!0):t===2?nR(e,a,s):t===3&&e.destroyNode(a),o!=null&&iR(e,t,o,n,i)}}function Ux(t,e){return t.createText(e)}function Bx(t,e,n){t.setValue(e,n)}function uE(t,e,n){return t.createElement(e,n)}function $x(t,e){lE(t,e),e[jn]=null,e[Zt]=null}function Hx(t,e,n,r,i,o){r[jn]=i,r[Zt]=e,wu(t,r,n,1,i,o)}function lE(t,e){e[Yt].changeDetectionScheduler?.notify(1),wu(t,e,e[je],2,null,null)}function qx(t){let e=t[hs];if(!e)return Uh(t[Q],t);for(;e;){let n=null;if(Or(e))n=e[hs];else{let r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[Qt]&&e!==t;)Or(e)&&Uh(e[Q],e),e=e[nt];e===null&&(e=t),Or(e)&&Uh(e[Q],e),n=e&&e[Qt]}e=n}}function zx(t,e,n,r){let i=Ft+r,o=n.length;r>0&&(n[i-1][Qt]=e),r<o-Ft?(e[Qt]=n[i],eI(n,Ft+r,e)):(n.push(e),e[Qt]=null),e[nt]=n;let s=e[fu];s!==null&&n!==s&&Gx(s,e);let a=e[Ji];a!==null&&a.insertView(t),nf(e),e[F]|=128}function Gx(t,e){let n=t[zc],i=e[nt][nt][ln];e[ln]!==i&&(t[F]|=Hf.HasTransplantedViews),n===null?t[zc]=[e]:n.push(e)}function dE(t,e){let n=t[zc],r=n.indexOf(e);n.splice(r,1)}function df(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];if(r){let i=r[fu];i!==null&&i!==t&&dE(i,r),e>0&&(t[n-1][Qt]=r[Qt]);let o=Bc(t,Ft+e);$x(r[Q],r);let s=o[Ji];s!==null&&s.detachView(o[Q]),r[nt]=null,r[Qt]=null,r[F]&=-129}return r}function hE(t,e){if(!(e[F]&256)){let n=e[je];n.destroyNode&&wu(t,e,n,3,null,null),qx(e)}}function Uh(t,e){if(e[F]&256)return;let n=ie(null);try{e[F]&=-129,e[F]|=256,e[Vr]&&P_(e[Vr]),Kx(t,e),Wx(t,e),e[Q].type===1&&e[je].destroy();let r=e[fu];if(r!==null&&Un(e[nt])){r!==e[nt]&&dE(r,e);let i=e[Ji];i!==null&&i.detachView(t)}Tx(e)}finally{ie(n)}}function Wx(t,e){let n=t.cleanup,r=e[ds];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ds]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Kx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ur)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];an(4,a,c);try{c.call(a)}finally{an(5,a,c)}}else{an(4,i,o);try{o.call(i)}finally{an(5,i,o)}}}}}function Qx(t,e,n){return Yx(t,e.parent,n)}function Yx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===un.None||o===un.Emulated)return null}return jt(r,n)}}function Jc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fE(t,e,n){t.appendChild(e,n)}function Dw(t,e,n,r,i){r!==null?Jc(t,e,n,r,i):fE(t,e,n)}function Zx(t,e,n,r){t.removeChild(e,n,r)}function cp(t,e){return t.parentNode(e)}function Jx(t,e){return t.nextSibling(e)}function Xx(t,e,n){return tR(t,e,n)}function eR(t,e,n){return t.type&40?jt(t,n):null}var tR=eR,Cw;function up(t,e,n,r){let i=Qx(t,r,e),o=e[je],s=r.parent||e[Zt],a=Xx(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Dw(o,i,n[c],a,!1);else Dw(o,i,n,a,!1);Cw!==void 0&&Cw(o,r,e,n,i)}function Vc(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return hf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Vc(t,r);{let i=t[e.index];return Un(i)?hf(-1,i):hn(i)}}else{if(n&32)return ap(e,t)()||hn(t[e.index]);{let r=pE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ps(t[ln]);return Vc(i,r)}else return Vc(t,e.next)}}}return null}function pE(t,e){if(e!==null){let r=t[ln][Zt],i=e.projection;return r.projection[i]}return null}function hf(t,e){let n=Ft+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return Vc(r,i)}return e[Lr]}function nR(t,e,n){let r=cp(t,e);r&&Zx(t,r,e,n)}function lp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Br(hn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)lp(t,e,n.child,r,i,o,!1),qi(e,t,i,a,o);else if(c&32){let u=ap(n,r),l;for(;l=u();)qi(e,t,i,l,o);qi(e,t,i,a,o)}else c&16?rR(t,e,r,n,i,o):qi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function wu(t,e,n,r,i,o){lp(n,r,t.firstChild,e,i,o,!1)}function rR(t,e,n,r,i,o){let s=n[ln],c=s[Zt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];qi(e,t,i,l,o)}else{let u=c,l=s[nt];JI(r)&&(u.flags|=128),lp(t,e,u,l,i,o,!0)}}function iR(t,e,n,r,i){let o=n[Lr],s=hn(n);o!==s&&qi(e,t,r,o,i);for(let a=Ft;a<n.length;a++){let c=n[a];wu(c[Q],c,t,e,r,o)}}function oR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Fn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fn.Important),t.setStyle(n,r,i,o))}}function sR(t,e,n){t.setAttribute(e,"style",n)}function gE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Zh(t,e,r),i!==null&&gE(t,e,i),o!==null&&sR(t,e,o)}var zr={};function H(t=1){yE(vt(),me(),no()+t,!1)}function yE(t,e,n,r){if(!r)if((e[F]&3)===3){let o=t.preOrderCheckHooks;o!==null&&kc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fc(e,o,0,n)}jr(n)}function B(t,e=z.Default){let n=me();if(n===null)return N(t,e);let r=_t();return WI(r,n,ct(t),e)}function vE(){let t="invalid";throw new Error(t)}function _E(t,e,n,r,i,o){let s=ie(null);try{let a=null;i&lt.SignalBased&&(a=e[r][uh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&lt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):II(e,a,r,o)}finally{ie(s)}}function aR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let o=i,s=n[++r],a=n[++r];XM(s,o);let c=e[o];a(2,c)}}}finally{jr(-1)}}function Iu(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[jn]=i,d[F]=r|4|128|8|64,(u!==null||t&&t[F]&2048)&&(d[F]|=2048),AI(d),d[nt]=d[Is]=t,d[kn]=n,d[Yt]=s||t&&t[Yt],d[je]=a||t&&t[je],d[Zi]=c||t&&t[Zi]||null,d[Zt]=o,d[pu]=Cx(),d[Hc]=l,d[vI]=u,d[ln]=e.type==2?t[ln]:d,d}function Eu(t,e,n,r,i){let o=t.data[e];if(o===null)o=cR(t,e,n,r,i),JM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=WM();o.injectorIndex=s===null?-1:s.injectorIndex}return Es(o,!0),o}function cR(t,e,n,r,i){let o=RI(),s=NI(),a=s?o:o&&o.parent,c=t.data[e]=fR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function wE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function IE(t,e,n,r,i){let o=no(),s=r&2;try{jr(-1),s&&e.length>dn&&yE(t,e,dn,!1),an(s?2:0,i),n(r,i)}finally{jr(o),an(s?3:1,i)}}function EE(t,e,n){if(wI(e)){let r=ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{ie(r)}}}function DE(t,e,n){xI()&&(_R(t,e,n,jt(n,e)),(n.flags&64)===64&&ME(t,e,n))}function CE(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function bE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dp(t,e,n,r,i,o,s,a,c,u,l){let d=dn+r,h=d+i,f=uR(d,h),v=typeof u=="function"?u():u;return f[Q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:l}}function uR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:zr);return n}function lR(t,e,n,r){let o=r.get(Nx,iE)||n===un.ShadowDom,s=t.selectRootElement(e,o);return dR(s),s}function dR(t){hR(t)}var hR=()=>null;function fR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return qM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=lt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?Tw(r,n,u,a,c):Tw(r,n,u,a)}return r}function Tw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function pR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,v=h?h.outputs:null;c=bw(0,d.inputs,l,c,f),u=bw(1,d.outputs,l,u,v);let I=c!==null&&s!==null&&!Uf(e)?xR(c,l,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function gR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function TE(t,e,n,r,i,o,s,a){let c=jt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(hp(t,n,l,r,i),gu(e)&&mR(n,e.index)):e.type&3?(r=gR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function mR(t,e){let n=or(e,t);n[F]&16||(n[F]|=64)}function SE(t,e,n,r){if(xI()){let i=r===null?null:{"":-1},o=IR(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&AE(t,e,n,s,i,a),i&&ER(n,r,i)}n.mergedAttrs=us(n.mergedAttrs,n.attrs)}function AE(t,e,n,r,i,o){for(let u=0;u<r.length;u++)sf(Yc(n,e),t,r[u].type);CR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=wE(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=us(n.mergedAttrs,l.hostAttrs),bR(t,n,e,c,l),DR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}pR(t,n,o)}function yR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;vR(s)!=a&&s.push(a),s.push(n,r,o)}}function vR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function _R(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;gu(n)&&TR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Yc(n,e),Br(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=Xi(e,t,a,n);if(Br(u,e),s!==null&&MR(e,a-i,u,c,n,s),rr(c)){let l=or(n.index,e);l[kn]=Xi(e,t,a,n)}}}function ME(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ex();try{jr(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];rf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wR(c,u)}}finally{jr(-1),rf(s)}}function wR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function IR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(aM(e,s.selectors,!1))if(r||(r=[]),rr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;ff(t,e,c)}else r.unshift(s),ff(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ff(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ER(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function DR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;rr(e)&&(n[""]=t)}}function CR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Fr(i.type,!0)),s=new Ur(o,rr(i),B);t.blueprint[r]=s,n[r]=s,yR(t,e,r,wE(t,n,i.hostVars,zr),i)}function TR(t,e,n){let r=jt(e,t),i=bE(n),o=t[Yt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Du(t,Iu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function SR(t,e,n,r,i,o){let s=jt(t,e);AR(e[je],s,o,t.value,n,r,i)}function AR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?lu(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function MR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];_E(r,n,c,u,l,d)}}function xR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function xE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function RE(t,e){let n=t.contentQueries;if(n!==null){let r=ie(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];PI(o),a.contentQueries(2,e[s],s)}}}finally{ie(r)}}}function Du(t,e){return t[hs]?t[gw][Qt]=e:t[hs]=e,t[gw]=e,e}function pf(t,e,n){PI(0);let r=ie(null);try{e(t,n)}finally{ie(r)}}function RR(t){return t[ds]||(t[ds]=[])}function NR(t){return t.cleanup||(t.cleanup=[])}function NE(t,e){let n=t[Zi],r=n?n.get(fn,null):null;r&&r.handleError(e)}function hp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];_E(l,u,r,a,c,i)}}function PR(t,e,n){let r=TI(e,t);Bx(t[je],r,n)}function OR(t,e){let n=or(e,t),r=n[Q];kR(r,n);let i=n[jn];i!==null&&n[Hc]===null&&(n[Hc]=ip(i,n[Zi])),fp(r,n,n[kn])}function kR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function fp(t,e,n){Wf(e);try{let r=t.viewQuery;r!==null&&pf(1,r,n);let i=t.template;i!==null&&IE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ji]?.finishViewCreation(t),t.staticContentQueries&&RE(t,e),t.staticViewQueries&&pf(2,t.viewQuery,n);let o=t.components;o!==null&&FR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,Kf()}}function FR(t,e){for(let n=0;n<e.length;n++)OR(t,e[n])}function VR(t,e,n,r){let i=ie(null);try{let o=e.tView,a=t[F]&4096?4096:16,c=Iu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[fu]=u;let l=t[Ji];return l!==null&&(c[Ji]=l.createEmbeddedView(o)),fp(o,c,n),c}finally{ie(i)}}function Sw(t,e){return!e||e.firstChild===null||JI(t)}function LR(t,e,n,r=!0){let i=e[Q];if(zx(i,e,t,n),r){let s=hf(n,t),a=e[je],c=cp(a,t[Lr]);c!==null&&Hx(i,t[Zt],a,e,c,s)}let o=e[Hc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xc(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(hn(o)),Un(o)&&jR(o,r);let s=n.type;if(s&8)Xc(t,e,n.child,r);else if(s&32){let a=ap(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=pE(e,n);if(Array.isArray(a))r.push(...a);else{let c=ps(e[ln]);Xc(c[Q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jR(t,e){for(let n=Ft;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&Xc(r[Q],r,i,e)}t[Lr]!==t[jn]&&e.push(t[Lr])}var PE=[];function UR(t){return t[Vr]??BR(t)}function BR(t){let e=PE.pop()??Object.create(HR);return e.lView=t,e}function $R(t){t.lView[Vr]!==t&&(t.lView=null,PE.push(t))}var HR=he(S({},x_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fs(t.lView)},consumerOnSignalRead(){this.lView[Vr]=this}}),OE=100;function kE(t,e=!0,n=0){let r=t[Yt],i=r.rendererFactory,o=!1;o||i.begin?.();try{qR(t,n)}catch(s){throw e&&NE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function qR(t,e){gf(t,e);let n=0;for(;Gf(t);){if(n===OE)throw new M(103,!1);n++,gf(t,1)}}function zR(t,e,n,r){let i=e[F];if((i&256)===256)return;let o=!1;!o&&e[Yt].inlineEffectRunner?.flush(),Wf(e);let s=null,a=null;!o&&GR(t)&&(a=UR(e),s=R_(a));try{AI(e),YM(t.bindingStartIndex),n!==null&&IE(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&kc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Fc(e,d,0,null),Fh(e,0)}if(WR(e),FE(e,0),t.contentQueries!==null&&RE(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&kc(e,d)}else{let d=t.contentHooks;d!==null&&Fc(e,d,1),Fh(e,1)}aR(t,e);let u=t.components;u!==null&&LE(e,u,0);let l=t.viewQuery;if(l!==null&&pf(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&kc(e,d)}else{let d=t.viewHooks;d!==null&&Fc(e,d,2),Fh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kh]){for(let d of e[kh])d();e[kh]=null}o||(e[F]&=-73)}catch(c){throw fs(e),c}finally{a!==null&&(N_(a,s),$R(a)),Kf()}}function GR(t){return t.type!==2}function FE(t,e){for(let n=eE(t);n!==null;n=tE(n))for(let r=Ft;r<n.length;r++){let i=n[r];VE(i,e)}}function WR(t){for(let e=eE(t);e!==null;e=tE(e)){if(!(e[F]&Hf.HasTransplantedViews))continue;let n=e[zc];for(let r=0;r<n.length;r++){let i=n[r],o=i[nt];jM(i)}}}function KR(t,e,n){let r=or(e,t);VE(r,n)}function VE(t,e){zf(t)&&gf(t,e)}function gf(t,e){let r=t[Q],i=t[F],o=t[Vr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&lh(o)),o&&(o.dirty=!1),t[F]&=-9217,s)zR(r,t,r.template,t[kn]);else if(i&8192){FE(t,1);let a=r.components;a!==null&&LE(t,a,1)}}function LE(t,e,n){for(let r=0;r<e.length;r++)KR(t,e[r],n)}function pp(t){for(t[Yt].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=ps(t);if(xM(t)&&!e)return t;t=e}return null}var $r=class{get rootNodes(){let e=this._lView,n=e[Q];return Xc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(e){this._lView[kn]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Un(e)){let n=e[qc],r=n?n.indexOf(this):-1;r>-1&&(df(e,r),Bc(n,r))}this._attachedToViewContainer=!1}hE(this._lView[Q],this._lView)}onDestroy(e){MI(this._lView,e)}markForCheck(){pp(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){nf(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,kE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,lE(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e,nf(this._lView)}},Cu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZR;let t=e;return t})(),QR=Cu,YR=class extends QR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=VR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new $r(i)}};function ZR(){return JR(_t(),me())}function JR(t,e){return t.type&4?new YR(e,t,yu(t,e)):null}var r5=new RegExp(`^(\\d+)*(${xx}|${Mx})*(.*)`);var XR=()=>null;function Aw(t,e){return XR(t,e)}var eu=class{},mf=class{},tu=class{};function eN(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[tN]=t,e}var tN="ngComponent";var yf=class{resolveComponentFactory(e){throw eN(e)}},bu=(()=>{let e=class e{};e.NULL=new yf;let t=e;return t})(),gs=class{},Gr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>nN();let t=e;return t})();function nN(){let t=me(),e=_t(),n=or(e.index,t);return(Or(n)?n:t)[je]}var rN=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Bh={};var Mw=new Set;function gp(t){Mw.has(t)||(Mw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function xw(...t){}function iN(){let t=typeof Ve.requestAnimationFrame=="function",e=Ve[t?"requestAnimationFrame":"setTimeout"],n=Ve[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var re=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=iN().nativeRequestAnimationFrame,aN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,oN,xw,xw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},oN={};function mp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vf(t),t.isCheckStableRunning=!0,mp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vf(t))}function aN(t){let e=()=>{sN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(cN(a))return n.invokeTask(i,o,s,a);try{return Rw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Nw(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Rw(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Nw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,vf(t),mp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nw(t){t._nesting--,mp(t)}var _f=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function cN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function uN(t="zone.js",e){return t==="noop"?new _f:t==="zone.js"?new re(e):t}var zi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(zi||{}),lN={destroy(){}};function yp(t,e){!e&&SM(yp);let n=e?.injector??D(dt);if(!Lx(n))return lN;gp("NgAfterNextRender");let r=n.get(vp),i=r.handler??=new If,o=e?.phase??zi.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(tp).onDestroy(s),c=Ln(n,()=>new wf(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var wf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=D(re),this.errorHandler=D(fn,{optional:!0}),D(eu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},If=class{constructor(){this.executingCallbacks=!1,this.buckets={[zi.EarlyRead]:new Set,[zi.Write]:new Set,[zi.MixedReadWrite]:new Set,[zi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},vp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ef(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ow(i,a);else if(o==2){let c=a,u=e[++s];r=ow(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nu=class extends bu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=nr(e);return new eo(n,this.ngModule)}};function Pw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function dN(t){let e=t.toLowerCase();return e==="svg"?bI:e==="math"?OM:null}var Df=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=du(r);let i=this.injector.get(e,Bh,r);return i!==Bh||n===Bh?i:this.parentInjector.get(e,n,r)}},eo=class extends tu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Pw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Pw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=dM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ie(null);try{i=i||this.ngModule;let s=i instanceof Ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Df(e,s):e,c=a.get(gs,null);if(c===null)throw new M(407,!1);let u=a.get(rN,null),l=a.get(vp,null),d=a.get(eu,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",I=r?lR(f,r,this.componentDef.encapsulation,a):uE(f,v,dN(v)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let A=null;I!==null&&(A=ip(I,a,!0));let X=dp(0,null,null,1,0,null,null,null,null,null,null),G=Iu(null,X,null,E,null,null,h,f,a,null,A);Wf(G);let ge,Qe;try{let ce=this.componentDef,et,on=null;ce.findHostDirectiveDefs?(et=[],on=new Map,ce.findHostDirectiveDefs(ce,et,on),et.push(ce)):et=[ce];let Sr=hN(G,I),Si=fN(Sr,I,ce,et,G,h,f);Qe=SI(X,dn),I&&mN(f,ce,I,r),n!==void 0&&yN(Qe,this.ngContentSelectors,n),ge=gN(Si,ce,et,on,G,[vN]),fp(X,G,null)}finally{Kf()}return new Cf(this.componentType,ge,yu(Qe,G),G,Qe)}finally{ie(o)}}},Cf=class extends mf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $r(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;hp(o[Q],o,i,e,n),this.previousInputValues.set(e,n);let s=or(this._tNode.index,o);pp(s)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hN(t,e){let n=t[Q],r=dn;return t[r]=e,Eu(n,r,2,"#host",null)}function fN(t,e,n,r,i,o,s){let a=i[Q];pN(r,t,e,s);let c=null;e!==null&&(c=ip(e,i[Zi]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Iu(i,bE(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&ff(a,t,r.length-1),Du(i,d),i[t.index]=d}function pN(t,e,n,r){for(let i of t)e.mergedAttrs=us(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ef(e,e.mergedAttrs,!0),n!==null&&mE(r,n,e))}function gN(t,e,n,r,i,o){let s=_t(),a=i[Q],c=jt(s,i);AE(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=Xi(i,a,d,s);Br(h,i)}ME(a,i,s),c&&Br(c,i);let u=Xi(i,a,s.directiveStart+s.componentOffset,s);if(t[kn]=i[kn]=u,o!==null)for(let l of o)l(u,e);return EE(a,s,i),u}function mN(t,e,n,r){if(r)Zh(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:o}=hM(e.selectors[0]);i&&Zh(t,n,i),o&&o.length>0&&gE(t,n,o.join(" "))}}function yN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function vN(){let t=_t();Jf(me()[Q],t)}var oo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_N;let t=e;return t})();function _N(){let t=_t();return IN(t,me())}var wN=oo,jE=class extends wN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Xf(this._hostTNode,this._hostLView);if(BI(e)){let n=Kc(e,this._hostLView),r=Wc(e),i=n[Q].data[r+8];return new kr(i,n)}else return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ow(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Aw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Sw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!MM(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new eo(nr(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?u:this.parentInjector).get(Ct,null);I&&(o=I)}let l=nr(c.componentType??{}),d=Aw(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,o);return this.insertImpl(f.hostView,a,Sw(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[nt],u=new jE(c,c[Zt],c[nt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return LR(s,i,o,r),e.attachToViewContainerRef(),eI($h(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ow(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=df(this._lContainer,n);r&&(Bc($h(this._lContainer),n),hE(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=df(this._lContainer,n);return r&&Bc($h(this._lContainer),n)!=null?new $r(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ow(t){return t[qc]}function $h(t){return t[qc]||(t[qc]=[])}function IN(t,e){let n,r=e[t.index];return Un(r)?n=r:(n=xE(r,e,null,t),e[t.index]=n,Du(e,n)),DN(n,e,t,r),new jE(n,t,e)}function EN(t,e){let n=t[je],r=n.createComment(""),i=jt(e,t),o=cp(n,i);return Jc(n,o,r,Jx(n,i),!1),r}var DN=TN,CN=()=>!1;function bN(t,e,n){return CN(t,e,n)}function TN(t,e,n,r){if(t[Lr])return;let i;n.type&8?i=hn(r):i=EN(e,n),t[Lr]=i}function SN(t){return typeof t=="function"&&t[uh]!==void 0}function UE(t){return SN(t)&&typeof t.set=="function"}function AN(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(NN))}return o}return ru.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>PN(o));e.push(c)}),xN(),Promise.all(e).then(()=>{})}var ru=new Map,MN=new Set;function xN(){let t=ru;return ru=new Map,t}function RN(){return ru.size===0}function NN(t){return typeof t=="string"?t:t.text()}function PN(t){MN.delete(t)}function ON(t){return Object.getPrototypeOf(t.prototype).constructor}function so(t){let e=ON(t.type),n=!0,r=[t];for(;e;){let i;if(rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Rc(t.inputs),s.inputTransforms=Rc(t.inputTransforms),s.declaredInputs=Rc(t.declaredInputs),s.outputs=Rc(t.outputs);let a=i.hostBindings;a&&jN(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&VN(t,c),u&&LN(t,u),kN(t,i),PA(t.outputs,i.outputs),rr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===so&&(n=!1)}}e=Object.getPrototypeOf(e)}FN(r)}function kN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function FN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=us(i.hostAttrs,n=us(n,i.hostAttrs))}}function Rc(t){return t===Ki?{}:t===kt?[]:t}function VN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function LN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function jN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function _p(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ir=class{},ms=class{};var iu=class extends ir{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nu(this);let i=lI(e);this._bootstrapComponents=cE(i.bootstrap),this._r3Injector=YI(e,n,[{provide:ir,useValue:this},{provide:bu,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ou=class extends ms{constructor(e){super(),this.moduleType=e}create(e){return new iu(this.moduleType,e,[])}};function UN(t,e,n){return new iu(t,e,n)}var bf=class extends ir{constructor(e){super(),this.componentFactoryResolver=new nu(this),this.instance=null;let n=new ls([...e.providers,{provide:ir,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],e.parent||$f(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Tu(t,e,n=null){return new bf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Su=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BE(t){return $N(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function BN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function $N(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function HN(t,e,n){return t[e]=n}function ao(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function qN(t){return(t.flags&32)===32}function zN(t,e,n,r,i,o,s,a,c){let u=e.consts,l=Eu(e,t,4,s||null,Gc(u,a));SE(e,n,l,Gc(u,c)),Jf(e,l);let d=l.tView=dp(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function wt(t,e,n,r,i,o,s,a){let c=me(),u=vt(),l=t+dn,d=u.firstCreatePass?zN(l,u,c,e,n,r,i,o,s):u.data[l];Es(d,!1);let h=GN(u,c,d,t);Yf()&&up(u,c,h,d),Br(h,c);let f=xE(h,c,h,d);return c[l]=f,Du(c,f),bN(f,d,c),qf(d)&&DE(u,c,d),s!=null&&CE(c,d,a),wt}var GN=WN;function WN(t,e,n,r){return Zf(!0),e[je].createComment("")}function Au(t,e,n,r){let i=me(),o=mu();if(ao(i,o,e)){let s=vt(),a=Qf();SR(a,i,t,e,n,r)}return Au}function KN(t,e,n,r){return ao(t,mu(),n)?e+lu(n)+r:zr}function Nc(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function QN(t){return(t&2)==2}function YN(t,e){return t&131071|e<<17}function Tf(t){return t|2}function to(t){return(t&131068)>>2}function Hh(t,e){return t&-131069|e<<2}function ZN(t){return(t&1)===1}function Sf(t){return t|1}function JN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Hr(s),c=to(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||ws(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Hr(t[a+1]);t[r+1]=Nc(h,a),h!==0&&(t[h+1]=Hh(t[h+1],r)),t[a+1]=YN(t[a+1],r)}else t[r+1]=Nc(a,0),a!==0&&(t[a+1]=Hh(t[a+1],r)),a=r;else t[r+1]=Nc(c,0),a===0?a=r:t[c+1]=Hh(t[c+1],r),c=r;u&&(t[r+1]=Tf(t[r+1])),kw(t,l,r,!0),kw(t,l,r,!1),XN(e,l,t,r,o),s=Nc(a,c),o?e.classBindings=s:e.styleBindings=s}function XN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ws(o,e)>=0&&(n[r+1]=Sf(n[r+1]))}function kw(t,e,n,r){let i=t[n+1],o=e===null,s=r?Hr(i):to(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];eP(c,e)&&(a=!0,t[s+1]=r?Sf(u):Tf(u)),s=r?Hr(u):to(u)}a&&(t[n+1]=r?Tf(i):Sf(i))}function eP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ws(t,e)>=0:!1}function Ue(t,e,n){let r=me(),i=mu();if(ao(r,i,e)){let o=vt(),s=Qf();TE(o,s,r,t,e,r[je],n,!1)}return Ue}function Fw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";hp(t,n,o[s],s,r)}function He(t,e){return tP(t,e,null,!0),He}function tP(t,e,n,r){let i=me(),o=vt(),s=ZM(2);if(o.firstUpdatePass&&rP(o,t,s,r),e!==zr&&ao(i,s,e)){let a=o.data[no()];cP(o,a,i,i[je],t,i[s+1]=uP(e,n),r,s)}}function nP(t,e){return e>=t.expandoStartIndex}function rP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[no()],s=nP(t,n);lP(o,r)&&e===null&&!s&&(e=!1),e=iP(i,o,e,r),JN(i,o,e,n,s,r)}}function iP(t,e,n,r){let i=tx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=qh(null,t,e,n,r),n=ys(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=qh(i,t,e,n,r),o===null){let c=oP(t,e,r);c!==void 0&&Array.isArray(c)&&(c=qh(null,t,e,c[1],r),c=ys(c,e.attrs,r),sP(t,e,r,c))}else o=aP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function oP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(to(r)!==0)return t[Hr(r)]}function sP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Hr(i)]=r}function aP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ys(r,s,n)}return ys(r,e.attrs,n)}function qh(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ys(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),XA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function cP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=ZN(u)?Vw(c,e,n,i,to(u),s):void 0;if(!su(l)){su(o)||QN(u)&&(o=Vw(c,null,n,i,a,s));let d=TI(no(),n);oR(r,s,d,i,o)}}function Vw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===zr&&(h=d?kt:void 0);let f=d?Ph(h,r):l===r?h:void 0;if(u&&!su(f)&&(f=Ph(c,r)),su(f)&&(a=f,s))return a;let v=t[i+1];i=s?Hr(v):to(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ph(c,r))}return a}function su(t){return t!==void 0}function uP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(Cs(t)))),t}function lP(t,e){return(t.flags&(e?8:16))!==0}function dP(t,e,n,r,i,o){let s=e.consts,a=Gc(s,i),c=Eu(e,t,2,r,a);return SE(e,n,c,Gc(s,o)),c.attrs!==null&&Ef(c,c.attrs,!1),c.mergedAttrs!==null&&Ef(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=me(),o=vt(),s=dn+t,a=i[je],c=o.firstCreatePass?dP(s,o,i,e,n,r):o.data[s],u=hP(o,i,c,a,e,t);i[s]=u;let l=qf(c);return Es(c,!0),mE(a,u,c),!qN(c)&&Yf()&&up(o,i,u,c),BM()===0&&Br(u,i),$M(),l&&(DE(o,i,c),EE(o,c,i)),r!==null&&CE(i,c),m}function g(){let t=_t();NI()?KM():(t=t.parent,Es(t,!1));let e=t;zM(e)&&GM(),HM();let n=vt();return n.firstCreatePass&&(Jf(n,t),wI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&cx(e)&&Fw(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ux(e)&&Fw(n,e,me(),e.stylesWithoutHost,!1),g}function j(t,e,n,r){return m(t,e,n,r),g(),j}var hP=(t,e,n,r,i,o)=>(Zf(!0),uE(r,i,ix()));var Pr=void 0;function fP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var pP=["en",[["a","p"],["AM","PM"],Pr],[["AM","PM"],Pr,Pr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pr,"{1} 'at' {0}",Pr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",fP],zh={};function Ut(t){let e=gP(t),n=Lw(e);if(n)return n;let r=e.split("-")[0];if(n=Lw(r),n)return n;if(r==="en")return pP;throw new M(701,!1)}function Lw(t){return t in zh||(zh[t]=Ve.ng&&Ve.ng.common&&Ve.ng.common.locales&&Ve.ng.common.locales[t]),zh[t]}var Ae=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ae||{});function gP(t){return t.toLowerCase().replace(/_/g,"-")}var au="en-US";var mP=au;function yP(t){typeof t=="string"&&(mP=t.toLowerCase().replace(/_/g,"-"))}function Me(t,e,n,r){let i=me(),o=vt(),s=_t();return $E(o,i,i[je],s,t,e,r),Me}function vP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ds],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function $E(t,e,n,r,i,o,s){let a=qf(r),u=t.firstCreatePass&&NR(t),l=e[kn],d=RR(e),h=!0;if(r.type&3||s){let I=jt(r,e),E=s?s(I):I,A=d.length,X=s?ge=>s(hn(ge[r.index])):r.index,G=null;if(!s&&a&&(G=vP(t,e,i,r.index)),G!==null){let ge=G.__ngLastListenerFn__||G;ge.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,h=!1}else{o=Uw(r,e,l,o,!1);let ge=n.listen(E,i,o);d.push(o,ge),u&&u.push(i,X,A,A+1)}}else o=Uw(r,e,l,o,!1);let f=r.outputs,v;if(h&&f!==null&&(v=f[i])){let I=v.length;if(I)for(let E=0;E<I;E+=2){let A=v[E],X=v[E+1],Qe=e[A][X].subscribe(o),ce=d.length;d.push(o,Qe),u&&u.push(i,r.index,ce,-(ce+1))}}}function jw(t,e,n,r){let i=ie(null);try{return an(6,e,n),n(r)!==!1}catch(o){return NE(t,o),!1}finally{an(7,e,n),ie(i)}}function Uw(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?or(t.index,e):e;pp(a);let c=jw(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=jw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function _P(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function _(t,e=""){let n=me(),r=vt(),i=t+dn,o=r.firstCreatePass?Eu(r,i,1,e,null):r.data[i],s=wP(r,n,o,e,t);n[i]=s,Yf()&&up(r,n,s,o),Es(o,!1)}var wP=(t,e,n,r,i)=>(Zf(!0),Ux(e[je],r));function bs(t){return bt("",t,""),bs}function bt(t,e,n){let r=me(),i=KN(r,t,e,n);return i!==zr&&PR(r,no(),i),bt}function Mu(t,e,n){UE(e)&&(e=e());let r=me(),i=mu();if(ao(r,i,e)){let o=vt(),s=Qf();TE(o,s,r,t,e,r[je],n,!1)}return Mu}function wp(t,e){let n=UE(t);return n&&t.set(e),n}function xu(t,e){let n=me(),r=vt(),i=_t();return $E(r,n,n[je],i,t,e),xu}function IP(t,e,n){let r=vt();if(r.firstCreatePass){let i=rr(t);Af(n,r.data,r.blueprint,i,!0),Af(e,r.data,r.blueprint,i,!1)}}function Af(t,e,n,r,i){if(t=ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)Af(t[o],e,n,r,i);else{let o=vt(),s=me(),a=_t(),c=Yi(t)?t:ct(t.provide),u=mI(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Yi(t)||!t.multi){let f=new Ur(u,i,B),v=Wh(c,e,i?l:l+h,d);v===-1?(sf(Yc(a,s),o,c),Gh(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[v]=f,s[v]=f)}else{let f=Wh(c,e,l+h,d),v=Wh(c,e,l,l+h),I=f>=0&&n[f],E=v>=0&&n[v];if(i&&!E||!i&&!I){sf(Yc(a,s),o,c);let A=CP(i?DP:EP,n.length,i,r,u);!i&&E&&(n[v].providerFactory=A),Gh(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=HE(n[i?v:f],u,!i&&r);Gh(o,t,f>-1?f:v,A)}!i&&r&&E&&n[v].componentProviders++}}}function Gh(t,e,n,r){let i=Yi(e),o=wM(e);if(i||o){let c=(o?ct(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function HE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EP(t,e,n,r){return Mf(this.multi,[])}function DP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Xi(n,n[Q],this.providerFactory.index,r);o=a.slice(0,s),Mf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Mf(i,o);return o}function Mf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function CP(t,e,n,r,i){let o=new Ur(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,HE(o,i,r&&!n),o}function Ip(t,e=[]){return n=>{n.providersResolver=(r,i)=>IP(r,i?i(t):t,e)}}var bP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=fI(!1,r.type),o=i.length>0?Tu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(N(Ct))});let t=e;return t})();function qE(t){gp("NgStandalone"),t.getStandaloneInjector=e=>e.get(bP).getOrCreateStandaloneInjector(t)}function TP(t,e){let n=t[e];return n===zr?void 0:n}function SP(t,e,n,r,i,o){let s=e+n;return ao(t,s,i)?HN(t,s+1,o?r.call(o,i):r(i)):TP(t,s+1)}function zE(t,e){let n=vt(),r,i=t+dn;n.firstCreatePass?(r=AP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Fr(r.type,!0)),s,a=yt(B);try{let c=Qc(!1),u=o();return Qc(c),_P(n,me(),i,u),u}finally{yt(a)}}function AP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function GE(t,e,n){let r=t+dn,i=me(),o=VM(i,r);return MP(i,r)?SP(i,QM(),e,o.transform,n,o):o.transform(n)}function MP(t,e){return t[Q].data[e].pure}var Pc=null;function xP(t){Pc!==null&&(t.defaultEncapsulation!==Pc.defaultEncapsulation||t.preserveWhitespaces!==Pc.preserveWhitespaces)||(Pc=t)}var Vn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},WE=new Vn("17.3.1"),Ru=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ep=new x(""),Ts=new x(""),Nu=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Dp||(RP(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(N(re),N(Pu),N(Ts))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Pu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Dp?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function RP(t){Dp=t}var Dp;function Wr(t){return!!t&&typeof t.then=="function"}function KE(t){return!!t&&typeof t.subscribe=="function"}var Ou=new x(""),QE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(Ou,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Wr(s))r.push(s);else if(KE(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cp=new x("");function NP(){O_(()=>{throw new M(600,!1)})}function PP(t){return t.isBoundToModule}function OP(t,e,n){try{let r=n();return Wr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function YE(t,e){return Array.isArray(e)?e.reduce(YE,t):S(S({},t),e)}var co=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(ZI),this.afterRenderEffectManager=D(vp),this.externalTestViews=new Set,this.beforeRender=new tt,this.afterTick=new tt,this.componentTypes=[],this.components=[],this.isStable=D(Su).hasPendingTasks.pipe(K(r=>!r)),this._injector=D(Ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof tu;if(!this._injector.get(QE).done){let f=!o&&uI(r),v=!1;throw new M(405,v)}let a;o?a=r:a=this._injector.get(bu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=PP(a)?void 0:this._injector.get(ir),u=i||a.selector,l=a.create(dt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(Ep,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Lc(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new M(101,!1);let i=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ie(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===OE)throw new M(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)kP(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>xf(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>xf(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Lc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Cp,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Lc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new M(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kP(t,e,n){!e&&!xf(t)||FP(t,n,e)}function xf(t){return Gf(t)}function FP(t,e,n){let r;n?(r=0,t[F]|=1024):t[F]&64?r=0:r=1,kE(t,e,r)}var Rf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ku=(()=>{let e=class e{compileModuleSync(r){return new ou(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=lI(r),s=cE(o.declarations).reduce((a,c)=>{let u=nr(c);return u&&a.push(new eo(u)),a},[]);return new Rf(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VP=new x("");function LP(t,e,n){let r=new ou(n);return Promise.resolve(r)}function Bw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var jP=(()=>{let e=class e{constructor(){this.zone=D(re),this.applicationRef=D(co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UP(t){return[{provide:re,useFactory:t},{provide:Qi,multi:!0,useFactory:()=>{let e=D(jP,{optional:!0});return()=>e.initialize()}},{provide:Qi,multi:!0,useFactory:()=>{let e=D(HP);return()=>{e.initialize()}}},{provide:ZI,useFactory:BP}]}function BP(){let t=D(re),e=D(fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function $P(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var HP=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=D(re),this.pendingTasks=D(Su)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qP(){return typeof $localize<"u"&&$localize.locale||au}var Fu=new x("",{providedIn:"root",factory:()=>D(Fu,z.Optional|z.SkipSelf)||qP()});var ZE=new x(""),JE=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=uN(i?.ngZone,$P({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=UN(r.moduleType,this.injector,UP(()=>o)),a=s.injector.get(fn,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Lc(this._modules,s),c.unsubscribe()})}),OP(a,o,()=>{let c=s.injector.get(QE);return c.runInitializers(),c.donePromise.then(()=>{let u=s.injector.get(Fu,au);return yP(u||au),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=YE({},i);return LP(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(co);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new M(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(ZE,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(N(dt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),as=null,XE=new x("");function zP(t){if(as&&!as.get(XE,!1))throw new M(400,!1);NP(),as=t;let e=t.get(JE);return KP(t),e}function bp(t,e,n=[]){let r=`Platform: ${e}`,i=new x(r);return(o=[])=>{let s=e0();if(!s||s.injector.get(XE,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):zP(GP(a,r))}return WP(i)}}function GP(t=[],e){return dt.create({name:e,providers:[{provide:hu,useValue:"platform"},{provide:ZE,useValue:new Set([()=>as=null])},...t]})}function WP(t){let e=e0();if(!e)throw new M(401,!1);return e}function e0(){return as?.get(JE)??null}function KP(t){t.get(np,null)?.forEach(n=>n())}var Kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QP;let t=e;return t})();function QP(t){return YP(_t(),me(),(t&16)===16)}function YP(t,e,n){if(gu(t)&&!n){let r=or(t.index,e);return new $r(r,r)}else if(t.type&47){let r=e[ln];return new $r(r,e)}return null}var Nf=class{constructor(){}supports(e){return BE(e)}create(e){return new Pf(e)}},ZP=(t,e)=>e,Pf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ZP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<$w(r,i,o)?n:r,a=$w(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<o.length?o[h]:o[h]=0,v=f+h;l<=v&&v<u&&(o[h]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!BE(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,BN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Of(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new cu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new cu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Of=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},kf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},cu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new kf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $w(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Hw(){return new Tp([new Nf])}var Tp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Hw()),deps:[[e,new Lf,new Vt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new M(901,!1)}};e.\u0275prov=R({token:e,providedIn:"root",factory:Hw});let t=e;return t})();var t0=bp(null,"core",[]),n0=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(N(co))},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})();function Qr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function r0(t){let e=nr(t);if(!e)return null;let n=new eo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var u0=null;function gn(){return u0}function l0(t){u0??=t}var zu=class{};var It=new x(""),Op=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>D(JP),providedIn:"platform"});let t=e;return t})(),d0=new x(""),JP=(()=>{let e=class e extends Op{constructor(){super(),this._doc=D(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function kp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function i0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function $n(t){return t&&t[0]!=="?"?"?"+t:t}var qn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>D(Fp),providedIn:"root"});let t=e;return t})(),h0=new x(""),Fp=(()=>{let e=class e extends qn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return kp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+$n(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+$n(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+$n(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Op),N(h0,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f0=(()=>{let e=class e extends qn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=kp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+$n(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+$n(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Op),N(h0,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),uo=(()=>{let e=class e{constructor(r){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=t1(i0(o0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+$n(i))}normalize(r){return e.stripTrailingSlash(e1(this._basePath,o0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$n(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$n(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=$n,e.joinWithSlash=kp,e.stripTrailingSlash=i0,e.\u0275fac=function(i){return new(i||e)(N(qn))},e.\u0275prov=R({token:e,factory:()=>XP(),providedIn:"root"});let t=e;return t})();function XP(){return new uo(N(qn))}function e1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function o0(t){return t.replace(/\/index.html$/,"")}function t1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ht=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ht||{}),pe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(pe||{}),Tt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Tt||{}),ar={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function n1(t){return Ut(t)[Ae.LocaleId]}function r1(t,e,n){let r=Ut(t),i=[r[Ae.DayPeriodsFormat],r[Ae.DayPeriodsStandalone]],o=Bt(i,e);return Bt(o,n)}function i1(t,e,n){let r=Ut(t),i=[r[Ae.DaysFormat],r[Ae.DaysStandalone]],o=Bt(i,e);return Bt(o,n)}function o1(t,e,n){let r=Ut(t),i=[r[Ae.MonthsFormat],r[Ae.MonthsStandalone]],o=Bt(i,e);return Bt(o,n)}function s1(t,e){let r=Ut(t)[Ae.Eras];return Bt(r,e)}function Vu(t,e){let n=Ut(t);return Bt(n[Ae.DateFormat],e)}function Lu(t,e){let n=Ut(t);return Bt(n[Ae.TimeFormat],e)}function ju(t,e){let r=Ut(t)[Ae.DateTimeFormat];return Bt(r,e)}function Ku(t,e){let n=Ut(t),r=n[Ae.NumberSymbols][e];if(typeof r>"u"){if(e===ar.CurrencyDecimal)return n[Ae.NumberSymbols][ar.Decimal];if(e===ar.CurrencyGroup)return n[Ae.NumberSymbols][ar.Group]}return r}function p0(t){if(!t[Ae.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ae.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function a1(t){let e=Ut(t);return p0(e),(e[Ae.ExtraData][2]||[]).map(r=>typeof r=="string"?Sp(r):[Sp(r[0]),Sp(r[1])])}function c1(t,e,n){let r=Ut(t);p0(r);let i=[r[Ae.ExtraData][0],r[Ae.ExtraData][1]],o=Bt(i,e)||[];return Bt(o,n)||[]}function Bt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Sp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var u1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uu={},l1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Hn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Hn||{}),se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(se||{}),oe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(oe||{});function d1(t,e,n,r){let i=w1(t);e=Bn(n,e)||e;let s=[],a;for(;e;)if(a=l1.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=m0(r,c),i=_1(i,r,!0));let u="";return s.forEach(l=>{let d=y1(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Gu(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Bn(t,e){let n=n1(t);if(Uu[n]??={},Uu[n][e])return Uu[n][e];let r="";switch(e){case"shortDate":r=Vu(t,Tt.Short);break;case"mediumDate":r=Vu(t,Tt.Medium);break;case"longDate":r=Vu(t,Tt.Long);break;case"fullDate":r=Vu(t,Tt.Full);break;case"shortTime":r=Lu(t,Tt.Short);break;case"mediumTime":r=Lu(t,Tt.Medium);break;case"longTime":r=Lu(t,Tt.Long);break;case"fullTime":r=Lu(t,Tt.Full);break;case"short":let i=Bn(t,"shortTime"),o=Bn(t,"shortDate");r=Bu(ju(t,Tt.Short),[i,o]);break;case"medium":let s=Bn(t,"mediumTime"),a=Bn(t,"mediumDate");r=Bu(ju(t,Tt.Medium),[s,a]);break;case"long":let c=Bn(t,"longTime"),u=Bn(t,"longDate");r=Bu(ju(t,Tt.Long),[c,u]);break;case"full":let l=Bn(t,"fullTime"),d=Bn(t,"fullDate");r=Bu(ju(t,Tt.Full),[l,d]);break}return r&&(Uu[n][e]=r),r}function Bu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Jt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function h1(t,e){return Jt(t,3).substring(0,e)}function Ne(t,e,n=0,r=!1,i=!1){return function(o,s){let a=f1(t,o);if((n>0||a>-n)&&(a+=n),t===se.Hours)a===0&&n===-12&&(a=12);else if(t===se.FractionalSeconds)return h1(a,e);let c=Ku(s,ar.MinusSign);return Jt(a,e,c,r,i)}}function f1(t,e){switch(t){case se.FullYear:return e.getFullYear();case se.Month:return e.getMonth();case se.Date:return e.getDate();case se.Hours:return e.getHours();case se.Minutes:return e.getMinutes();case se.Seconds:return e.getSeconds();case se.FractionalSeconds:return e.getMilliseconds();case se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ve(t,e,n=ht.Format,r=!1){return function(i,o){return p1(i,o,t,e,n,r)}}function p1(t,e,n,r,i,o){switch(n){case oe.Months:return o1(e,i,r)[t.getMonth()];case oe.Days:return i1(e,i,r)[t.getDay()];case oe.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let u=a1(e),l=c1(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,v]=h,I=s>=f.hours&&a>=f.minutes,E=s<v.hours||s===v.hours&&a<v.minutes;if(f.hours<v.hours){if(I&&E)return!0}else if(I||E)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return r1(e,i,r)[s<12?0:1];case oe.Eras:return s1(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function $u(t){return function(e,n,r){let i=-1*r,o=Ku(n,ar.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Hn.Short:return(i>=0?"+":"")+Jt(s,2,o)+Jt(Math.abs(i%60),2,o);case Hn.ShortGMT:return"GMT"+(i>=0?"+":"")+Jt(s,1,o);case Hn.Long:return"GMT"+(i>=0?"+":"")+Jt(s,2,o)+":"+Jt(Math.abs(i%60),2,o);case Hn.Extended:return r===0?"Z":(i>=0?"+":"")+Jt(s,2,o)+":"+Jt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var g1=0,qu=4;function m1(t){let e=Gu(t,g1,1).getDay();return Gu(t,0,1+(e<=qu?qu:qu+7)-e)}function g0(t){let e=t.getDay(),n=e===0?-3:qu-e;return Gu(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ap(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=g0(n),s=m1(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Jt(i,t,Ku(r,ar.MinusSign))}}function Hu(t,e=!1){return function(n,r){let o=g0(n).getFullYear();return Jt(o,t,Ku(r,ar.MinusSign),e)}}var Mp={};function y1(t){if(Mp[t])return Mp[t];let e;switch(t){case"G":case"GG":case"GGG":e=ve(oe.Eras,pe.Abbreviated);break;case"GGGG":e=ve(oe.Eras,pe.Wide);break;case"GGGGG":e=ve(oe.Eras,pe.Narrow);break;case"y":e=Ne(se.FullYear,1,0,!1,!0);break;case"yy":e=Ne(se.FullYear,2,0,!0,!0);break;case"yyy":e=Ne(se.FullYear,3,0,!1,!0);break;case"yyyy":e=Ne(se.FullYear,4,0,!1,!0);break;case"Y":e=Hu(1);break;case"YY":e=Hu(2,!0);break;case"YYY":e=Hu(3);break;case"YYYY":e=Hu(4);break;case"M":case"L":e=Ne(se.Month,1,1);break;case"MM":case"LL":e=Ne(se.Month,2,1);break;case"MMM":e=ve(oe.Months,pe.Abbreviated);break;case"MMMM":e=ve(oe.Months,pe.Wide);break;case"MMMMM":e=ve(oe.Months,pe.Narrow);break;case"LLL":e=ve(oe.Months,pe.Abbreviated,ht.Standalone);break;case"LLLL":e=ve(oe.Months,pe.Wide,ht.Standalone);break;case"LLLLL":e=ve(oe.Months,pe.Narrow,ht.Standalone);break;case"w":e=Ap(1);break;case"ww":e=Ap(2);break;case"W":e=Ap(1,!0);break;case"d":e=Ne(se.Date,1);break;case"dd":e=Ne(se.Date,2);break;case"c":case"cc":e=Ne(se.Day,1);break;case"ccc":e=ve(oe.Days,pe.Abbreviated,ht.Standalone);break;case"cccc":e=ve(oe.Days,pe.Wide,ht.Standalone);break;case"ccccc":e=ve(oe.Days,pe.Narrow,ht.Standalone);break;case"cccccc":e=ve(oe.Days,pe.Short,ht.Standalone);break;case"E":case"EE":case"EEE":e=ve(oe.Days,pe.Abbreviated);break;case"EEEE":e=ve(oe.Days,pe.Wide);break;case"EEEEE":e=ve(oe.Days,pe.Narrow);break;case"EEEEEE":e=ve(oe.Days,pe.Short);break;case"a":case"aa":case"aaa":e=ve(oe.DayPeriods,pe.Abbreviated);break;case"aaaa":e=ve(oe.DayPeriods,pe.Wide);break;case"aaaaa":e=ve(oe.DayPeriods,pe.Narrow);break;case"b":case"bb":case"bbb":e=ve(oe.DayPeriods,pe.Abbreviated,ht.Standalone,!0);break;case"bbbb":e=ve(oe.DayPeriods,pe.Wide,ht.Standalone,!0);break;case"bbbbb":e=ve(oe.DayPeriods,pe.Narrow,ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=ve(oe.DayPeriods,pe.Abbreviated,ht.Format,!0);break;case"BBBB":e=ve(oe.DayPeriods,pe.Wide,ht.Format,!0);break;case"BBBBB":e=ve(oe.DayPeriods,pe.Narrow,ht.Format,!0);break;case"h":e=Ne(se.Hours,1,-12);break;case"hh":e=Ne(se.Hours,2,-12);break;case"H":e=Ne(se.Hours,1);break;case"HH":e=Ne(se.Hours,2);break;case"m":e=Ne(se.Minutes,1);break;case"mm":e=Ne(se.Minutes,2);break;case"s":e=Ne(se.Seconds,1);break;case"ss":e=Ne(se.Seconds,2);break;case"S":e=Ne(se.FractionalSeconds,1);break;case"SS":e=Ne(se.FractionalSeconds,2);break;case"SSS":e=Ne(se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$u(Hn.Short);break;case"ZZZZZ":e=$u(Hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$u(Hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$u(Hn.Long);break;default:return null}return Mp[t]=e,e}function m0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function v1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function _1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=m0(e,i);return v1(t,r*(o-i))}function w1(t){if(s0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Gu(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(u1))return I1(r)}let e=new Date(t);if(!s0(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function I1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function s0(t){return t instanceof Date&&!isNaN(t.valueOf())}function y0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var xp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new xp(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),a0(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);a0(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(oo),B(Cu),B(Tp))},e.\u0275dir=Lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function a0(t,e){t.context.$implicit=e.item}var v0=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Rp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){c0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){c0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(oo),B(Cu))},e.\u0275dir=Lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Rp=class{constructor(){this.$implicit=null,this.ngIf=null}};function c0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}function E1(t,e){return new M(2100,!1)}var D1="mediumDate",C1=new x(""),b1=new x(""),_0=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??D1,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return d1(r,a,s||this.locale,c)}catch(a){throw E1(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(B(Fu,16),B(C1,24),B(b1,24))},e.\u0275pipe=sI({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Qu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})(),Vp="browser",T1="server";function S1(t){return t===Vp}function Lp(t){return t===T1}var w0=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>S1(D(pn))?new Np(D(It),window):new Pp});let t=e;return t})(),Np=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=A1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function A1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Pp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Wu=class{};var Bp=class extends zu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$p=class t extends Bp{static makeCurrent(){l0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=x1();return n==null?null:R1(n)}resetBaseElement(){Ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return y0(document.cookie,e)}},Ss=null;function x1(){return Ss=Ss||document.querySelector("base"),Ss?Ss.getAttribute("href"):null}function R1(t){return new URL(t,document.baseURI).pathname}var Hp=class{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new M(5103,!1);return o},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ve.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?gn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},N1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),qp=new x(""),C0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new M(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(N(qp),N(re))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Yu=class{constructor(e){this._doc=e}},jp="ng-app-id",b0=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lp(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${jp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(jp),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(jp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(It),N(vu),N(rp,8),N(pn))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Up={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gp=/%COMP%/g,T0="%COMP%",P1=`_nghost-${T0}`,O1=`_ngcontent-${T0}`,k1=!0,F1=new x("",{providedIn:"root",factory:()=>k1});function V1(t){return O1.replace(Gp,t)}function L1(t){return P1.replace(Gp,t)}function S0(t,e){return e.map(n=>n.replace(Gp,t))}var I0=(()=>{let e=class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Lp(c),this.defaultRenderer=new As(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===un.ShadowDom&&(i=he(S({},i),{encapsulation:un.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Zu?o.applyToHost(r):o instanceof Ms&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case un.Emulated:s=new Zu(u,l,i,this.appId,d,a,c,h);break;case un.ShadowDom:return new zp(u,l,r,i,a,c,this.nonce,h);default:s=new Ms(u,l,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(C0),N(b0),N(vu),N(F1),N(It),N(pn),N(re),N(rp))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),As=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Up[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(E0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(E0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Up[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Up[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fn.DashCase|Fn.Important)?e.style.setProperty(n,r,i&Fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function E0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zp=class extends As{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=S0(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ms=class extends As{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?S0(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zu=class extends Ms{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=V1(u),this.hostAttr=L1(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},j1=(()=>{let e=class e extends Yu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(N(It))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),D0=["alt","control","meta","shift"],U1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$1=(()=>{let e=class e extends Yu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),D0.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=U1[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),D0.forEach(a=>{if(a!==o){let c=B1[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(N(It))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function H1(){$p.makeCurrent()}function q1(){return new fn}function z1(){return rE(document),document}var G1=[{provide:pn,useValue:Vp},{provide:np,useValue:H1,multi:!0},{provide:It,useFactory:z1,deps:[]}],A0=bp(t0,"browser",G1),W1=new x(""),K1=[{provide:Ts,useClass:Hp,deps:[]},{provide:Ep,useClass:Nu,deps:[re,Pu,Ts]},{provide:Nu,useClass:Nu,deps:[re,Pu,Ts]}],Q1=[{provide:hu,useValue:"root"},{provide:fn,useFactory:q1,deps:[]},{provide:qp,useClass:j1,multi:!0,deps:[It,re,pn]},{provide:qp,useClass:$1,multi:!0,deps:[It]},I0,b0,C0,{provide:gs,useExisting:I0},{provide:Wu,useClass:N1,deps:[]},[]],M0=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:vu,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(N(W1,12))},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({providers:[...Q1,...K1],imports:[Qu,n0]});let t=e;return t})();var x0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(N(It))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yr={production:!1,firebase:{apiKey:"AIzaSyCFVQMcS5V9HU13QkGcXWIMnA3TXgbj2Xw",authDomain:"anime-app-9e6c9.firebaseapp.com",projectId:"anime-app-9e6c9",storageBucket:"anime-app-9e6c9.appspot.com",messagingSenderId:"81006773389",appId:"1:81006773389:web:091b8e1472a1b06f498ec4",measurementId:"G-1ZVL26ZZGS"}};var P0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Y1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,s||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Y1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Kp;let h=o<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Kp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Z1=function(t){let e=P0(t);return O0.encodeByteArray(e,!0)},xs=function(t){return Z1(t).replace(/\./g,"")},Yp=function(t){try{return O0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var X1=()=>J1().__FIREBASE_DEFAULTS__,eO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Yp(t[1]);return e&&JSON.parse(e)},Xu=()=>{try{return X1()||eO()||tO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k0=t=>{var e,n;return(n=(e=Xu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F0=t=>{let e=k0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zp=()=>{var t;return(t=Xu())===null||t===void 0?void 0:t.config},V0=t=>{var e;return(e=Xu())===null||e===void 0?void 0:e[`_${t}`]};var Ju=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function L0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xs(JSON.stringify(n)),xs(JSON.stringify(s)),""].join(".")}function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function nO(){var t;let e=(t=Xu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $0(){return!nO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function el(){try{return typeof indexedDB=="object"}catch{return!1}}function H0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var rO="FirebaseError",$t=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zn.prototype.create)}},zn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iO(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $t(i,a,r)}};function iO(t,e){return t.replace(oO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oO=/\{\$([^}]+)}/g;function ho(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(N0(o)&&N0(s)){if(!ho(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function N0(t){return t!==null&&typeof t=="object"}function Jp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function q0(t,e){let n=new Qp(t,e);return n.subscribe.bind(n)}var Qp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wp(){}var K5=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var Ht=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zr="[DEFAULT]";var Xp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ju;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cO(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aO(t){return t===Zr?void 0:t}function cO(t){return t.instantiationMode==="EAGER"}var tl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Xp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uO=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),lO={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},dO=Y.INFO,hO={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},fO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cr=class{constructor(e){this.name=e,this._logLevel=dO,this._logHandler=fO,this._userLogHandler=null,uO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var pO=(t,e)=>e.some(n=>t instanceof n),z0,G0;function gO(){return z0||(z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mO(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var W0=new WeakMap,tg=new WeakMap,K0=new WeakMap,eg=new WeakMap,rg=new WeakMap;function yO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(yn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&W0.set(n,t)}).catch(()=>{}),rg.set(e,t),e}function vO(t){if(tg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});tg.set(t,e)}var ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q0(t){ng=t(ng)}function _O(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(nl(this),e,...n);return K0.set(r,e.sort?e.sort():[e]),yn(r)}:mO().includes(t)?function(...e){return t.apply(nl(this),e),yn(W0.get(this))}:function(...e){return yn(t.apply(nl(this),e))}}function wO(t){return typeof t=="function"?_O(t):(t instanceof IDBTransaction&&vO(t),pO(t,gO())?new Proxy(t,ng):t)}function yn(t){if(t instanceof IDBRequest)return yO(t);if(eg.has(t))return eg.get(t);let e=wO(t);return e!==t&&(eg.set(t,e),rg.set(e,t)),e}var nl=t=>rg.get(t);function Z0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=yn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(yn(s.result),c.oldVersion,c.newVersion,yn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var IO=["get","getKey","getAll","getAllKeys","count"],EO=["put","add","delete","clear"],ig=new Map;function Y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=EO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IO.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return ig.set(e,o),o}Q0(t=>he(S({},t),{get:(e,n,r)=>Y0(e,n)||t.get(e,n,r),has:(e,n)=>!!Y0(e,n)||t.has(e,n)}));var sg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DO(t){let e=t.getComponent();return e?.type==="VERSION"}var ag="@firebase/app",J0="0.9.29";var Jr=new cr("@firebase/app"),CO="@firebase/app-compat",bO="@firebase/analytics-compat",TO="@firebase/analytics",SO="@firebase/app-check-compat",AO="@firebase/app-check",MO="@firebase/auth",xO="@firebase/auth-compat",RO="@firebase/database",NO="@firebase/database-compat",PO="@firebase/functions",OO="@firebase/functions-compat",kO="@firebase/installations",FO="@firebase/installations-compat",VO="@firebase/messaging",LO="@firebase/messaging-compat",jO="@firebase/performance",UO="@firebase/performance-compat",BO="@firebase/remote-config",$O="@firebase/remote-config-compat",HO="@firebase/storage",qO="@firebase/storage-compat",zO="@firebase/firestore",GO="@firebase/firestore-compat",WO="firebase",KO="10.9.0";var cg="[DEFAULT]",QO={[ag]:"fire-core",[CO]:"fire-core-compat",[TO]:"fire-analytics",[bO]:"fire-analytics-compat",[AO]:"fire-app-check",[SO]:"fire-app-check-compat",[MO]:"fire-auth",[xO]:"fire-auth-compat",[RO]:"fire-rtdb",[NO]:"fire-rtdb-compat",[PO]:"fire-fn",[OO]:"fire-fn-compat",[kO]:"fire-iid",[FO]:"fire-iid-compat",[VO]:"fire-fcm",[LO]:"fire-fcm-compat",[jO]:"fire-perf",[UO]:"fire-perf-compat",[BO]:"fire-rc",[$O]:"fire-rc-compat",[HO]:"fire-gcs",[qO]:"fire-gcs-compat",[zO]:"fire-fst",[GO]:"fire-fst-compat","fire-js":"fire-js",[WO]:"fire-js-all"};var Rs=new Map,ug=new Map;function YO(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){let e=t.name;if(ug.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;ug.set(e,t);for(let n of Rs.values())YO(n,t);return!0}function fg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var ZO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new zn("app","Firebase",ZO);var lg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}};var fo=KO;function dr(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:cg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(n||(n=Zp()),!n)throw ur.create("no-options");let o=Rs.get(i);if(o){if(ho(n,o.options)&&ho(r,o.config))return o;throw ur.create("duplicate-app",{appName:i})}let s=new tl(i);for(let c of ug.values())s.addComponent(c);let a=new lg(n,r,s);return Rs.set(i,a),a}function Ps(t=cg){let e=Rs.get(t);if(!e&&t===cg&&Zp())return dr();if(!e)throw ur.create("no-app",{appName:t});return e}function rl(){return Array.from(Rs.values())}function qe(t,e,n){var r;let i=(r=QO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(a.join(" "));return}lr(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var JO="firebase-heartbeat-database",XO=1,Ns="firebase-heartbeat-store",og=null;function nD(){return og||(og=Z0(JO,XO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ns)}catch(n){console.warn(n)}}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),og}function ek(t){return p(this,null,function*(){try{let n=(yield nD()).transaction(Ns),r=yield n.objectStore(Ns).get(rD(t));return yield n.done,r}catch(e){if(e instanceof $t)Jr.warn(e.message);else{let n=ur.create("idb-get",{originalErrorMessage:e?.message});Jr.warn(n.message)}}})}function X0(t,e){return p(this,null,function*(){try{let r=(yield nD()).transaction(Ns,"readwrite");yield r.objectStore(Ns).put(e,rD(t)),yield r.done}catch(n){if(n instanceof $t)Jr.warn(n.message);else{let r=ur.create("idb-set",{originalErrorMessage:n?.message});Jr.warn(r.message)}}})}function rD(t){return`${t.name}!${t.options.appId}`}var tk=1024,nk=30*24*60*60*1e3,dg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new hg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=nk}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eD(),{heartbeatsToSend:r,unsentEntries:i}=rk(this._heartbeatsCache.heartbeats),o=xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function eD(){return new Date().toISOString().substring(0,10)}function rk(t,e=tk){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var hg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return el()?H0().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ek(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tD(t){return xs(JSON.stringify({version:2,heartbeats:t})).length}function ik(t){lr(new Ht("platform-logger",e=>new sg(e),"PRIVATE")),lr(new Ht("heartbeat",e=>new dg(e),"PRIVATE")),qe(ag,J0,t),qe(ag,J0,"esm2017"),qe("fire-js","")}ik("");var ok="firebase",sk="10.9.0";qe(ok,sk,"app");var go=new Vn("ANGULARFIRE2_VERSION");function gg(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ks=(t,e)=>{let n=e?[e]:rl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Os=class{constructor(){return ks(ak)}},ak="app-check";function po(){}var il=class{zone;delegate;constructor(e,n=Ch){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},pg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",po,{},po,po)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new il(Zone.current)),this.insideAngular=n.run(()=>new il(Zone.current,Dh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(N(re))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ol(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ck(t){return ol().ngZone.runOutsideAngular(()=>t())}function Xr(t){return ol().ngZone.run(()=>t())}function uk(t){return lk(ol())(t)}function lk(t){return function(n){return n=n.lift(new pg(t.ngZone)),n.pipe(Zn(t.outsideAngular),Yn(t.insideAngular))}}var dk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Xr(()=>t.apply(void 0,r))},vn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Xr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",po,{},po,po))),r[o]=dk(r[o],n));let i=ck(()=>t.apply(this,r));if(!e)if(i instanceof ee){let o=ol();return i.pipe(Zn(o.outsideAngular),Yn(o.insideAngular))}else return Xr(()=>i);return i instanceof ee?i.pipe(uk):i instanceof Promise?Xr(()=>new Promise((o,s)=>i.then(a=>Xr(()=>o(a)),a=>Xr(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Xr(()=>i)};var ei=class{constructor(e){return e}},Vs=class{constructor(){return rl()}};function hk(t){return t&&t.length===1?t[0]:new ei(Ps())}var mg=new x("angularfire2._apps"),fk={provide:ei,useFactory:hk,deps:[[new Vt,mg]]},pk={provide:Vs,deps:[[new Vt,mg]]};function gk(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ei(r)}}var mk=(()=>{class t{constructor(n){qe("angularfire",go.full,"core"),qe("angularfire",go.full,"app"),qe("angular",WE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(N(pn))};static \u0275mod=$e({type:t});static \u0275inj=Be({providers:[fk,pk]})}return t})();function iD(t,...e){return{ngModule:mk,providers:[{provide:mg,useFactory:gk(t),multi:!0,deps:[re,dt,Fs,...e]}]}}var oD=vn(dr,!0);function hD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fD=hD,pD=new zn("auth","Firebase",hD());var cl=new cr("@firebase/auth");function vk(t,...e){cl.logLevel<=Y.WARN&&cl.warn(`Auth (${fo}): ${t}`,...e)}function al(t,...e){cl.logLevel<=Y.ERROR&&cl.error(`Auth (${fo}): ${t}`,...e)}function sD(t,...e){throw Ag(t,...e)}function Sg(t,...e){return Ag(t,...e)}function _k(t,e,n){let r=Object.assign(Object.assign({},fD()),{[e]:n});return new zn("auth","Firebase",r).create(e,{appName:t.name})}function Ag(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pD.create(t,...e)}function le(t,e,...n){if(!t)throw Ag(e,...n)}function Ls(t){let e="INTERNAL ASSERTION FAILED: "+t;throw al(e),new Error(e)}function ul(t,e){t||Ls(e)}function wk(){return aD()==="http:"||aD()==="https:"}function aD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wk()||U0()||"connection"in navigator)?navigator.onLine:!0}function Ek(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ni=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ul(n>e,"Short delay should be less than long delay!"),this.isMobile=j0()||B0()}get(){return Ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dk(t,e){ul(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ll=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ck={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bk=new ni(3e4,6e4);function gD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function yl(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return mD(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Jp(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ll.fetch()(yD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function mD(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Ck),e);try{let i=new _g(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw sl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sl(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw sl(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw sl(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _k(t,l,u);sD(t,l)}}catch(i){if(i instanceof $t)throw i;sD(t,"network-request-failed",{message:String(i)})}})}function yD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Dk(t.config,i):`${t.config.apiScheme}://${i}`}var _g=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sg(this.auth,"network-request-failed")),bk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function sl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Sg(t,e,r);return i.customData._tokenResponse=n,i}function Tk(t,e){return p(this,null,function*(){return yl(t,"POST","/v1/accounts:delete",e)})}function Sk(t,e){return p(this,null,function*(){return yl(t,"POST","/v1/accounts:lookup",e)})}function js(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Mg(t,e=!1){return p(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=vD(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:js(yg(i.auth_time)),issuedAtTime:js(yg(i.iat)),expirationTime:js(yg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function yg(t){return Number(t)*1e3}function vD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return al("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yp(n);return i?JSON.parse(i):(al("Failed to decode base64 JWT payload"),null)}catch(i){return al("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ak(t){let e=vD(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wg(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof $t&&Mk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Mk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ig=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=js(this.lastLoginAt),this.creationTime=js(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function hl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield wg(t,Sk(n,{idToken:r}));le(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rk(o.providerUserInfo):[],a=xk(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dl(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function xg(t){return p(this,null,function*(){let e=ft(t);yield hl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rk(t){return t.map(e=>{var{providerId:n}=e,r=bh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Nk(t,e){return p(this,null,function*(){let n=yield mD(t,{},()=>p(this,null,function*(){let r=Jp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yD(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ll.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Pk(t,e){return p(this,null,function*(){return yl(t,"POST","/v2/accounts:revokeToken",gD(t,e))})}var fl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ak(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Nk(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ls("not implemented")}};function hr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var pl=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ig(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield wg(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Mg(this,e)}reload(){return xg(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield hl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield wg(this,Tk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,X=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:G,emailVerified:ge,isAnonymous:Qe,providerData:ce,stsTokenManager:et}=n;le(G&&et,e,"internal-error");let on=fl.fromJSON(this.name,et);le(typeof G=="string",e,"internal-error"),hr(d,e.name),hr(h,e.name),le(typeof ge=="boolean",e,"internal-error"),le(typeof Qe=="boolean",e,"internal-error"),hr(f,e.name),hr(v,e.name),hr(I,e.name),hr(E,e.name),hr(A,e.name),hr(X,e.name);let Sr=new t({uid:G,auth:e,email:h,emailVerified:ge,displayName:d,isAnonymous:Qe,photoURL:v,phoneNumber:f,tenantId:I,stsTokenManager:on,createdAt:A,lastLoginAt:X});return ce&&Array.isArray(ce)&&(Sr.providerData=ce.map(Si=>Object.assign({},Si))),E&&(Sr._redirectEventId=E),Sr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new fl;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hl(o),o})}};var cD=new Map;function ti(t){ul(t instanceof Function,"Expected a class definition");let e=cD.get(t);return e?(ul(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cD.set(t,e),e)}var Ok=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Eg=Ok;function vg(t,e,n){return`firebase:${t}:${e}:${n}`}var gl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=vg(this.userKey,i.apiKey,o),this.fullPersistenceKey=vg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?pl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(ti(Eg),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||ti(Eg),s=vg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(s);if(l){let d=pl._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function uD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uk(e))return"Blackberry";if(Bk(e))return"Webos";if(Fk(e))return"Safari";if((e.includes("chrome/")||Vk(e))&&!e.includes("edge/"))return"Chrome";if(jk(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function kk(t=rt()){return/firefox\//i.test(t)}function Fk(t=rt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vk(t=rt()){return/crios\//i.test(t)}function Lk(t=rt()){return/iemobile/i.test(t)}function jk(t=rt()){return/android/i.test(t)}function Uk(t=rt()){return/blackberry/i.test(t)}function Bk(t=rt()){return/webos/i.test(t)}function _D(t,e=[]){let n;switch(t){case"Browser":n=uD(rt());break;case"Worker":n=`${uD(rt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${r}`}var Dg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $k(n){return p(this,arguments,function*(t,e={}){return yl(t,"GET","/v2/passwordPolicy",gD(t,e))})}var Hk=6,Cg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Hk,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ml(this),this.idTokenSubscription=new ml(this),this.beforeStateQueue=new Dg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield hl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ek()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?ft(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(ti(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield $k(this),n=new Cg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Pk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ti(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=yield gl.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_D(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function qk(t){return ft(t)}var ml=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=q0(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var zk={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gk(t){zk=t}function Wk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Kk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var $9=Wk("rcb"),H9=new ni(3e4,6e4);var q9=new ni(2e3,1e4);var z9=10*60*1e3;var G9=new ni(3e4,6e4);var W9=new ni(5e3,15e3);var K9=encodeURIComponent("fac");var lD="@firebase/auth",dD="1.6.2";var Tg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Qk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yk(t){lr(new Ht("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_D(t)},u=new bg(r,i,o,c);return Kk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lr(new Ht("auth-internal",e=>{let n=qk(e.getProvider("auth").getImmediate());return(r=>new Tg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(lD,dD,Qk(t)),qe(lD,dD,"esm2017")}var Zk=5*60,Q9=V0("authIdTokenMaxAge")||Zk;function Jk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Gk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Sg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Jk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yk("Browser");var ZF="auth";var vl=class{constructor(){return ks(ZF)}};var JF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},en={},C,Jg=Jg||{},V=JF||self;function Nl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function XF(t){return Object.prototype.hasOwnProperty.call(t,Rg)&&t[Rg]||(t[Rg]=++eV)}var Rg="closure_uid_"+(1e9*Math.random()>>>0),eV=0;function tV(t,e,n){return t.call.apply(t.bind,arguments)}function nV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function it(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?it=tV:it=nV,it.apply(null,arguments)}function _l(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ge(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function fr(){this.s=this.s,this.o=this.o}var rV=0;fr.prototype.s=!1;fr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),rV!=0)&&XF(this)};fr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ND=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Xg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Nl(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var iV=function(){if(!V.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};V.addEventListener("test",n,e),V.removeEventListener("test",n,e)}catch{}return t}();function zs(t){return/^[\s\xa0]*$/.test(t)}function Pl(){var t=V.navigator;return t&&(t=t.userAgent)?t:""}function _n(t){return Pl().indexOf(t)!=-1}function em(t){return em[" "](t),t}em[" "]=function(){};function oV(t,e){var n=WV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var sV=_n("Opera"),_o=_n("Trident")||_n("MSIE"),PD=_n("Edge"),Fg=PD||_o,OD=_n("Gecko")&&!(Pl().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),aV=Pl().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge");function kD(){var t=V.document;return t?t.documentMode:void 0}var Vg;e:{if(wl="",Il=function(){var t=Pl();if(OD)return/rv:([^\);]+)(\)|;)/.exec(t);if(PD)return/Edge\/([\d\.]+)/.exec(t);if(_o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(aV)return/WebKit\/(\S+)/.exec(t);if(sV)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Il&&(wl=Il?Il[1]:""),_o&&(El=kD(),El!=null&&El>parseFloat(wl))){Vg=String(El);break e}Vg=wl}var wl,Il,El,Lg;V.document&&_o?(Ng=kD(),Lg=Ng||parseInt(Vg,10)||void 0):Lg=void 0;var Ng,cV=Lg;function Gs(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OD){e:{try{em(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gs.$.h.call(this)}}Ge(Gs,ot);var uV={2:"touch",3:"pen",4:"mouse"};Gs.prototype.h=function(){Gs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ea="closure_listenable_"+(1e6*Math.random()|0),lV=0;function dV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lV,this.fa=this.ia=!1}function Ol(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function hV(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function FD(t){let e={};for(let n in t)e[n]=t[n];return e}var ID="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<ID.length;o++)n=ID[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kl(t){this.src=t,this.g={},this.h=0}kl.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ug(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new dV(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function jg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ND(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ol(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ug(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var nm="closure_lm_"+(1e6*Math.random()|0),Pg={};function LD(t,e,n,r,i){if(r&&r.once)return UD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)LD(t,e[o],n,r,i);return null}return n=om(n),t&&t[ea]?t.O(e,n,Xs(r)?!!r.capture:!!r,i):jD(t,e,n,!1,r,i)}function jD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xs(i)?!!i.capture:!!i,a=im(t);if(a||(t[nm]=a=new kl(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=fV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iV||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($D(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function fV(){function t(n){return e.call(t.src,t.listener,n)}let e=pV;return t}function UD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)UD(t,e[o],n,r,i);return null}return n=om(n),t&&t[ea]?t.P(e,n,Xs(r)?!!r.capture:!!r,i):jD(t,e,n,!0,r,i)}function BD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)BD(t,e[o],n,r,i);else r=Xs(r)?!!r.capture:!!r,n=om(n),t&&t[ea]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ug(o,n,r,i),-1<n&&(Ol(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=im(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ug(e,n,r,i)),(n=-1<t?e[t]:null)&&rm(n))}function rm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ea])jg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($D(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=im(e))?(jg(n,t),n.h==0&&(n.src=null,e[nm]=null)):Ol(t)}}}function $D(t){return t in Pg?Pg[t]:Pg[t]="on"+t}function pV(t,e){if(t.fa)t=!0;else{e=new Gs(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rm(t),t=n.call(r,e)}return t}function im(t){return t=t[nm],t instanceof kl?t:null}var Og="__closure_events_fn_"+(1e9*Math.random()>>>0);function om(t){return typeof t=="function"?t:(t[Og]||(t[Og]=function(e){return t.handleEvent(e)}),t[Og])}function ze(){fr.call(this),this.i=new kl(this),this.S=this,this.J=null}Ge(ze,fr);ze.prototype[ea]=!0;ze.prototype.removeEventListener=function(t,e,n,r){BD(this,t,e,n,r)};function Je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;e=new ot(r,t),VD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Dl(s,r,!0,e)&&i}if(s=e.g=t,i=Dl(s,r,!0,e)&&i,i=Dl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Dl(s,r,!1,e)&&i}ze.prototype.N=function(){if(ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ol(n[r]);delete t.g[e],t.h--}}this.J=null};ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&jg(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var sm=V.JSON.stringify,Bg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function gV(){var t=am;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $g=class{constructor(){this.h=this.g=null}add(e,n){let r=HD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},HD=new Bg(()=>new Hg,t=>t.reset()),Hg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function mV(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yV(t){V.setTimeout(()=>{throw t},0)}var Ws,Ks=!1,am=new $g,qD=()=>{let t=V.Promise.resolve(void 0);Ws=()=>{t.then(vV)}},vV=()=>{for(var t;t=gV();){try{t.h.call(t.g)}catch(n){yV(n)}var e=HD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ks=!1};function Fl(t,e){ze.call(this),this.h=t||1,this.g=e||V,this.j=it(this.qb,this),this.l=Date.now()}Ge(Fl,ze);C=Fl.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(cm(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}C.N=function(){Fl.$.N.call(this),cm(this),delete this.g};function um(t,e,n){if(typeof t=="function")n&&(t=it(t,n));else if(t&&typeof t.handleEvent=="function")t=it(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:V.setTimeout(t,e||0)}function zD(t){t.g=um(()=>{t.g=null,t.i&&(t.i=!1,zD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var qg=class extends fr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zD(this)}N(){super.N(),this.g&&(V.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Qs(t){fr.call(this),this.h=t,this.g={}}Ge(Qs,fr);var ED=[];function GD(t,e,n,r){Array.isArray(n)||(n&&(ED[0]=n.toString()),n=ED);for(var i=0;i<n.length;i++){var o=LD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function WD(t){tm(t.g,function(e,n){this.g.hasOwnProperty(n)&&rm(e)},t),t.g={}}Qs.prototype.N=function(){Qs.$.N.call(this),WD(this)};Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Vl(){this.g=!0}Vl.prototype.Ea=function(){this.g=!1};function _V(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function wV(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+EV(t,n)+(r?" "+r:"")})}function IV(t,e){t.info(function(){return"TIMEOUT: "+e})}Vl.prototype.info=function(){};function EV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return sm(n)}catch{return e}}var si={},DD=null;function Ll(){return DD=DD||new ze}si.Ta="serverreachability";function KD(t){ot.call(this,si.Ta,t)}Ge(KD,ot);function Ys(t){let e=Ll();Je(e,new KD(e))}si.STAT_EVENT="statevent";function QD(t,e){ot.call(this,si.STAT_EVENT,t),this.stat=e}Ge(QD,ot);function pt(t){let e=Ll();Je(e,new QD(e,t))}si.Ua="timingevent";function YD(t,e){ot.call(this,si.Ua,t),this.size=e}Ge(YD,ot);function ta(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return V.setTimeout(function(){t()},e)}var jl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lm(){}lm.prototype.h=null;function CD(t){return t.h||(t.h=t.i())}function JD(){}var na={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dm(){ot.call(this,"d")}Ge(dm,ot);function hm(){ot.call(this,"c")}Ge(hm,ot);var zg;function Ul(){}Ge(Ul,lm);Ul.prototype.g=function(){return new XMLHttpRequest};Ul.prototype.i=function(){return{}};zg=new Ul;function ra(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qs(this),this.P=DV,t=Fg?125:void 0,this.V=new Fl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XD}function XD(){this.i=null,this.g="",this.h=!1}var DV=45e3,eC={},Gg={};C=ra.prototype;C.setTimeout=function(t){this.P=t};function Wg(t,e,n){t.L=1,t.A=$l(Wn(e)),t.u=n,t.S=!0,tC(t,null)}function tC(t,e){t.G=Date.now(),ia(t),t.B=Wn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new XD,t.g=xC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new qg(it(t.Pa,t,t.g),t.O)),GD(t.U,t.g,"readystatechange",t.nb),e=t.I?FD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ys(),_V(t.j,t.v,t.B,t.m,t.W,t.u)}C.nb=function(t){t=t.target;let e=this.M;e&&wn(t)==3?e.l():this.Pa(t)};C.Pa=function(t){try{if(t==this.g)e:{let l=wn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Fg||this.g&&(this.h.h||this.g.ja()||AD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ys(3):Ys(2)),Bl(this);var n=this.g.da();this.ca=n;t:if(nC(this)){var r=AD(this.g);t="";var i=r.length,o=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),qs(this);var s="";break t}this.h.i=new V.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,wV(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zs(a)){var u=a;break t}}u=null}if(n=u)yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kg(this,n);else{this.i=!1,this.s=3,pt(12),ri(this),qs(this);break e}}this.S?(rC(this,l,s),Fg&&this.i&&l==3&&(GD(this.U,this.V,"tick",this.mb),this.V.start())):(yo(this.j,this.m,s,null),Kg(this,s)),l==4&&ri(this),this.i&&!this.J&&(l==4?TC(this.l,this):(this.i=!1,ia(this)))}else qV(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),ri(this),qs(this)}}}catch{}finally{}};function nC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function rC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=CV(t,n),i==Gg){e==4&&(t.s=4,pt(14),r=!1),yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==eC){t.s=4,pt(15),yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else yo(t.j,t.m,i,null),Kg(t,i);nC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vm(e),e.M=!0,pt(11))):(yo(t.j,t.m,n,"[Invalid Chunked Response]"),ri(t),qs(t))}C.mb=function(){if(this.g){var t=wn(this.g),e=this.g.ja();this.o<e.length&&(Bl(this),rC(this,t,e),this.i&&t!=4&&ia(this))}};function CV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Gg:(n=Number(e.substring(n,r)),isNaN(n)?eC:(r+=1,r+n>e.length?Gg:(e=e.slice(r,r+n),t.o=r+n,e)))}C.cancel=function(){this.J=!0,ri(this)};function ia(t){t.Y=Date.now()+t.P,iC(t,t.P)}function iC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ta(it(t.lb,t),e)}function Bl(t){t.C&&(V.clearTimeout(t.C),t.C=null)}C.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(IV(this.j,this.B),this.L!=2&&(Ys(),pt(17)),ri(this),this.s=2,qs(this)):iC(this,this.Y-t)};function qs(t){t.l.H==0||t.J||TC(t.l,t)}function ri(t){Bl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,cm(t.V),WD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Kg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Qg(n.i,t))){if(!t.K&&Qg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Al(n),zl(n);else break e;ym(n),pt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ta(it(n.ib,n),6e3));if(1>=hC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ii(n,11)}else if((t.K||n.g==t)&&Al(n),!zs(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(fm(o,o.h),o.h=null))}if(r.F){let I=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,we(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=MC(r,r.J?r.pa:null,r.Y),s.K){fC(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Bl(a),ia(a)),r.g=s}else CC(r);0<n.j.length&&Gl(n)}else u[0]!="stop"&&u[0]!="close"||ii(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ii(n,7):mm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ys(4)}catch{}}function bV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Nl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function TV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Nl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function oC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Nl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=TV(t),r=bV(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var sC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function oi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof oi){this.h=t.h,Tl(this,t.j),this.s=t.s,this.g=t.g,Sl(this,t.m),this.l=t.l;var e=t.i,n=new Zs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bD(this,n),this.o=t.o}else t&&(e=String(t).match(sC))?(this.h=!1,Tl(this,e[1]||"",!0),this.s=$s(e[2]||""),this.g=$s(e[3]||"",!0),Sl(this,e[4]),this.l=$s(e[5]||"",!0),bD(this,e[6]||"",!0),this.o=$s(e[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}oi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hs(e,TD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Hs(e,TD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Hs(n,n.charAt(0)=="/"?xV:MV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hs(n,NV)),t.join("")};function Wn(t){return new oi(t)}function Tl(t,e,n){t.j=n?$s(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bD(t,e,n){e instanceof Zs?(t.i=e,PV(t.i,t.h)):(n||(e=Hs(e,RV)),t.i=new Zs(e,t.h))}function we(t,e,n){t.i.set(e,n)}function $l(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $s(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,AV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function AV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TD=/[#\/\?@]/g,MV=/[#\?:]/g,xV=/[#\?]/g,RV=/[#\?@]/g,NV=/#/g;function Zs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pr(t){t.g||(t.g=new Map,t.h=0,t.i&&SV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}C=Zs.prototype;C.add=function(t,e){pr(this),this.i=null,t=wo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aC(t,e){pr(t),e=wo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cC(t,e){return pr(t),e=wo(t,e),t.g.has(e)}C.forEach=function(t,e){pr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};C.ta=function(){pr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};C.Z=function(t){pr(this);let e=[];if(typeof t=="string")cC(this,t)&&(e=e.concat(this.g.get(wo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};C.set=function(t,e){return pr(this),this.i=null,t=wo(this,t),cC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};C.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uC(t,e,n){aC(t,e),0<n.length&&(t.i=null,t.g.set(wo(t,e),Xg(n)),t.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function wo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function PV(t,e){e&&!t.j&&(pr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aC(this,r),uC(this,i,n))},t)),t.j=e}var OV=class{constructor(t,e){this.g=t,this.map=e}};function lC(t){this.l=t||kV,V.PerformanceNavigationTiming?(t=V.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(V.g&&V.g.Ka&&V.g.Ka()&&V.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kV=10;function dC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hC(t){return t.h?1:t.g?t.g.size:0}function Qg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fm(t,e){t.g?t.g.add(e):t.h=e}function fC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lC.prototype.cancel=function(){if(this.i=pC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function pC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Xg(t.i)}var FV=class{stringify(t){return V.JSON.stringify(t,void 0)}parse(t){return V.JSON.parse(t,void 0)}};function VV(){this.g=new FV}function LV(t,e,n){let r=n||"";try{oC(t,function(i,o){let s=i;Xs(i)&&(s=sm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jV(t,e){let n=new Vl;if(V.Image){let r=new Image;r.onload=_l(Cl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_l(Cl,n,r,"TestLoadImage: error",!1,e),r.onabort=_l(Cl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_l(Cl,n,r,"TestLoadImage: timeout",!1,e),V.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Cl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function oa(t){this.l=t.ec||null,this.j=t.ob||!1}Ge(oa,lm);oa.prototype.g=function(){return new Hl(this.l,this.j)};oa.prototype.i=function(t){return function(){return t}}({});function Hl(t,e){ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(Hl,ze);var pm=0;C=Hl.prototype;C.open=function(t,e){if(this.readyState!=pm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Js(this)};C.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||V).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=pm};C.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof V.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function gC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}C.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sa(this):Js(this),this.readyState==3&&gC(this)}};C.Za=function(t){this.g&&(this.response=this.responseText=t,sa(this))};C.Ya=function(t){this.g&&(this.response=t,sa(this))};C.ka=function(){this.g&&sa(this)};function sa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Js(t)}C.setRequestHeader=function(t,e){this.v.append(t,e)};C.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Js(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var UV=V.JSON.parse;function Ce(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mC,this.L=this.M=!1}Ge(Ce,ze);var mC="",BV=/^https?$/i,$V=["POST","PUT"];C=Ce.prototype;C.Oa=function(t){this.M=t};C.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zg.g(),this.C=this.u?CD(this.u):CD(zg),this.g.onreadystatechange=it(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){SD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=V.FormData&&t instanceof V.FormData,!(0<=ND($V,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_C(this),0<this.B&&((this.L=HV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.ua,this)):this.A=um(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){SD(this,o)}};function HV(t){return _o&&typeof t.timeout=="number"&&t.ontimeout!==void 0}C.ua=function(){typeof Jg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function SD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yC(t),ql(t)}function yC(t){t.F||(t.F=!0,Je(t,"complete"),Je(t,"error"))}C.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),ql(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ql(this,!0)),Ce.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?vC(this):this.kb())};C.kb=function(){vC(this)};function vC(t){if(t.h&&typeof Jg<"u"&&(!t.C[1]||wn(t)!=4||t.da()!=2)){if(t.v&&wn(t)==4)um(t.La,0,t);else if(Je(t,"readystatechange"),wn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(sC)[1]||null;!i&&V.self&&V.self.location&&(i=V.self.location.protocol.slice(0,-1)),r=!BV.test(i?i.toLowerCase():"")}n=r}if(n)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var o=2<wn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",yC(t)}}finally{ql(t)}}}}function ql(t,e){if(t.g){_C(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=r}catch{}}}function _C(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(V.clearTimeout(t.A),t.A=null)}C.isActive=function(){return!!this.g};function wn(t){return t.g?t.g.readyState:0}C.da=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),UV(e)}};function AD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qV(t){let e={};t=(t.g&&2<=wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(zs(t[r]))continue;var n=mV(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}hV(e,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wC(t){let e="";return tm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function Us(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IC(t){this.Ga=0,this.j=[],this.l=new Vl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Us("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Us("baseRetryDelayMs",5e3,t),this.hb=Us("retryDelaySeedMs",1e4,t),this.eb=Us("forwardChannelMaxRetries",2,t),this.xa=Us("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lC(t&&t.concurrentRequestLimit),this.Ja=new VV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=IC.prototype;C.ra=8;C.H=1;function mm(t){if(EC(t),t.H==3){var e=t.W++,n=Wn(t.I);if(we(n,"SID",t.K),we(n,"RID",e),we(n,"TYPE","terminate"),aa(t,n),e=new ra(t,t.l,e),e.L=2,e.A=$l(Wn(n)),n=!1,V.navigator&&V.navigator.sendBeacon)try{n=V.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&V.Image&&(new Image().src=e.A,n=!0),n||(e.g=xC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ia(e)}AC(t)}function zl(t){t.g&&(vm(t),t.g.cancel(),t.g=null)}function EC(t){zl(t),t.u&&(V.clearTimeout(t.u),t.u=null),Al(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&V.clearTimeout(t.m),t.m=null)}function Gl(t){if(!dC(t.i)&&!t.m){t.m=!0;var e=t.Na;Ws||qD(),Ks||(Ws(),Ks=!0),am.add(e,t),t.C=0}}function zV(t,e){return hC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ta(it(t.Na,t,e),SC(t,t.C)),t.C++,!0)}C.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ra(this,this.l,t),o=this.s;if(this.U&&(o?(o=FD(o),VD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=DC(this,i,e),n=Wn(this.I),we(n,"RID",t),we(n,"CVER",22),this.F&&we(n,"X-HTTP-Session-Id",this.F),aa(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(wC(o)))+"&"+e:this.o&&gm(n,this.o,o)),fm(this.i,i),this.bb&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),i.aa=!0,Wg(i,n,null)):Wg(i,n,e),this.H=2}}else this.H==3&&(t?MD(this,t):this.j.length==0||dC(this.i)||MD(this))};function MD(t,e){var n;e?n=e.m:n=t.W++;let r=Wn(t.I);we(r,"SID",t.K),we(r,"RID",n),we(r,"AID",t.V),aa(t,r),t.o&&t.s&&gm(r,t.o,t.s),n=new ra(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=DC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fm(t.i,n),Wg(n,r,e)}function aa(t,e){t.na&&tm(t.na,function(n,r){we(e,r,n)}),t.h&&oC({},function(n,r){we(e,r,n)})}function DC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?it(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{LV(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function CC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ws||qD(),Ks||(Ws(),Ks=!0),am.add(e,t),t.A=0}}function ym(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ta(it(t.Ma,t),SC(t,t.A)),t.A++,!0)}C.Ma=function(){if(this.u=null,bC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ta(it(this.jb,this),t)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pt(10),zl(this),bC(this))};function vm(t){t.B!=null&&(V.clearTimeout(t.B),t.B=null)}function bC(t){t.g=new ra(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Wn(t.wa);we(e,"RID","rpc"),we(e,"SID",t.K),we(e,"AID",t.V),we(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&we(e,"TO",t.qa),we(e,"TYPE","xmlhttp"),aa(t,e),t.o&&t.s&&gm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=$l(Wn(e)),n.u=null,n.S=!0,tC(n,t)}C.ib=function(){this.v!=null&&(this.v=null,zl(this),ym(this),pt(19))};function Al(t){t.v!=null&&(V.clearTimeout(t.v),t.v=null)}function TC(t,e){var n=null;if(t.g==e){Al(t),vm(t),t.g=null;var r=2}else if(Qg(t.i,e))n=e.F,fC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ll(),Je(r,new YD(r,n)),Gl(t)}else CC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&zV(t,e)||r==2&&ym(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ii(t,5);break;case 4:ii(t,10);break;case 3:ii(t,6);break;default:ii(t,2)}}}function SC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ii(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=it(t.pb,t);n||(n=new oi("//www.google.com/images/cleardot.gif"),V.location&&V.location.protocol=="http"||Tl(n,"https"),$l(n)),jV(n.toString(),r)}else pt(2);t.H=0,t.h&&t.h.za(e),AC(t),EC(t)}C.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pt(2)):(this.l.info("Failed to ping google.com"),pt(1))};function AC(t){if(t.H=0,t.ma=[],t.h){let e=pC(t.i);(e.length!=0||t.j.length!=0)&&(wD(t.ma,e),wD(t.ma,t.j),t.i.i.length=0,Xg(t.j),t.j.length=0),t.h.ya()}}function MC(t,e,n){var r=n instanceof oi?Wn(n):new oi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sl(r,r.m);else{var i=V.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new oi(null);r&&Tl(o,r),e&&(o.g=e),i&&Sl(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&we(r,n,e),we(r,"VER",t.ra),aa(t,r),r}function xC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ce(new oa({ob:n})):new Ce(t.va),e.Oa(t.J),e}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function RC(){}C=RC.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function Ml(){if(_o&&!(10<=Number(cV)))throw Error("Environmental error: no available transport.")}Ml.prototype.g=function(t,e){return new St(t,e)};function St(t,e){ze.call(this),this.g=new IC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Io(this)}Ge(St,ze);St.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=MC(t,null,t.Y),Gl(t)};St.prototype.close=function(){mm(this.g)};St.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sm(t),t=n);e.j.push(new OV(e.fb++,t)),e.H==3&&Gl(e)};St.prototype.N=function(){this.g.h=null,delete this.j,mm(this.g),delete this.g,St.$.N.call(this)};function NC(t){dm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ge(NC,dm);function PC(){hm.call(this),this.status=1}Ge(PC,hm);function Io(t){this.g=t}Ge(Io,RC);Io.prototype.Ba=function(){Je(this.g,"a")};Io.prototype.Aa=function(t){Je(this.g,new NC(t))};Io.prototype.za=function(t){Je(this.g,new PC)};Io.prototype.ya=function(){Je(this.g,"b")};function GV(){this.blockSize=-1}function Xt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ge(Xt,GV);Xt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function kg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Xt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)kg(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){kg(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){kg(this,r),i=0;break}}this.h=i,this.i+=e};Xt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function de(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var WV={};function _m(t){return-128<=t&&128>t?oV(t,function(e){return new de([e|0],0>e?-1:0)}):new de([t|0],0>t?-1:0)}function In(t){if(isNaN(t)||!isFinite(t))return vo;if(0>t)return Ze(In(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Yg;return new de(e,0)}function OC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ze(OC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=In(Math.pow(e,8)),r=vo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=In(Math.pow(e,o)),r=r.R(o).add(In(s))):(r=r.R(n),r=r.add(In(s)))}return r}var Yg=4294967296,vo=_m(0),Zg=_m(1),xD=_m(16777216);C=de.prototype;C.ea=function(){if(qt(this))return-Ze(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Yg+r)*e,e*=Yg}return t};C.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gn(this))return"0";if(qt(this))return"-"+Ze(this).toString(t);for(var e=In(Math.pow(t,6)),n=this,r="";;){var i=Rl(n,e).g;n=xl(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Gn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};C.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qt(t){return t.h==-1}C.X=function(t){return t=xl(this,t),qt(t)?-1:Gn(t)?0:1};function Ze(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new de(n,~t.h).add(Zg)}C.abs=function(){return qt(this)?Ze(this):this};C.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new de(n,n[n.length-1]&-2147483648?-1:0)};function xl(t,e){return t.add(Ze(e))}C.R=function(t){if(Gn(this)||Gn(t))return vo;if(qt(this))return qt(t)?Ze(this).R(Ze(t)):Ze(Ze(this).R(t));if(qt(t))return Ze(this.R(Ze(t)));if(0>this.X(xD)&&0>t.X(xD))return In(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,bl(n,2*r+2*i),n[2*r+2*i+1]+=o*c,bl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,bl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,bl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new de(n,0)};function bl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bs(t,e){this.g=t,this.h=e}function Rl(t,e){if(Gn(e))throw Error("division by zero");if(Gn(t))return new Bs(vo,vo);if(qt(t))return e=Rl(Ze(t),e),new Bs(Ze(e.g),Ze(e.h));if(qt(e))return e=Rl(t,Ze(e)),new Bs(Ze(e.g),e.h);if(30<t.g.length){if(qt(t)||qt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Zg,r=e;0>=r.X(t);)n=RD(n),r=RD(r);var i=mo(n,1),o=mo(r,1);for(r=mo(r,2),n=mo(n,2);!Gn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=mo(r,1),n=mo(n,1)}return e=xl(t,i.R(e)),new Bs(i,e)}for(i=vo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=In(n),s=o.R(e);qt(s)||0<s.X(t);)n-=r,o=In(n),s=o.R(e);Gn(o)&&(o=Zg),i=i.add(o),t=xl(t,s)}return new Bs(i,t)}C.gb=function(t){return Rl(this,t).h};C.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new de(n,this.h&t.h)};C.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new de(n,this.h|t.h)};C.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new de(n,this.h^t.h)};function RD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new de(n,t.h)}function mo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new de(i,t.h)}Ml.prototype.createWebChannel=Ml.prototype.g;St.prototype.send=St.prototype.u;St.prototype.open=St.prototype.m;St.prototype.close=St.prototype.close;jl.NO_ERROR=0;jl.TIMEOUT=8;jl.HTTP_ERROR=6;ZD.COMPLETE="complete";JD.EventType=na;na.OPEN="a";na.CLOSE="b";na.ERROR="c";na.MESSAGE="d";ze.prototype.listen=ze.prototype.O;Ce.prototype.listenOnce=Ce.prototype.P;Ce.prototype.getLastError=Ce.prototype.Sa;Ce.prototype.getLastErrorCode=Ce.prototype.Ia;Ce.prototype.getStatus=Ce.prototype.da;Ce.prototype.getResponseJson=Ce.prototype.Wa;Ce.prototype.getResponseText=Ce.prototype.ja;Ce.prototype.send=Ce.prototype.ha;Ce.prototype.setWithCredentials=Ce.prototype.Oa;Xt.prototype.digest=Xt.prototype.l;Xt.prototype.reset=Xt.prototype.reset;Xt.prototype.update=Xt.prototype.j;de.prototype.add=de.prototype.add;de.prototype.multiply=de.prototype.R;de.prototype.modulo=de.prototype.gb;de.prototype.compare=de.prototype.X;de.prototype.toNumber=de.prototype.ea;de.prototype.toString=de.prototype.toString;de.prototype.getBits=de.prototype.D;de.fromNumber=In;de.fromString=OC;var kC=en.createWebChannelTransport=function(){return new Ml},FC=en.getStatEventTarget=function(){return Ll()},Wl=en.ErrorCode=jl,VC=en.EventType=ZD,LC=en.Event=si,wm=en.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jG=en.FetchXmlHttpFactory=oa,ca=en.WebChannel=JD,jC=en.XhrIo=Ce,UC=en.Md5=Xt,ai=en.Integer=de;var BC="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var Ho="10.9.0";var hi=new cr("@firebase/firestore");function ua(){return hi.logLevel}function b(t,...e){if(hi.logLevel<=Y.DEBUG){let n=e.map(hv);hi.debug(`Firestore (${Ho}): ${t}`,...n)}}function Tn(t,...e){if(hi.logLevel<=Y.ERROR){let n=e.map(hv);hi.error(`Firestore (${Ho}): ${t}`,...n)}}function Mo(t,...e){if(hi.logLevel<=Y.WARN){let n=e.map(hv);hi.warn(`Firestore (${Ho}): ${t}`,...n)}}function hv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function O(t="Unexpected state"){let e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+t;throw Tn(e),new Error(e)}function _e(t,e){t||O()}function U(t,e){return t}var y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends $t{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},Tm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Sm=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new Jl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new We(e)}},Am=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Mm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Am(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,b("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new xm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function KV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=KV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Xe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var $=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Xe(0,0))}static max(){return new t(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ed=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&O(),r===void 0?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ee=class t extends ed{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new T(y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},QV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mt=class t extends ed{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return QV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new T(y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new T(y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new T(y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var P=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ee.fromString(e))}static fromName(e){return new t(Ee.fromString(e).popFirst(5))}static empty(){return new t(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ee(e.slice()))}};var Nm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Nm.UNKNOWN_ID=-1;function YV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new fi(i,P.empty(),e)}function ZV(t){return new fi(t.readTime,t.key,-1)}var fi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t($.min(),P.empty(),-1)}static max(){return new t($.max(),P.empty(),-1)}};function JV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=P.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var XV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ta(t){return p(this,null,function*(){if(t.code!==y.FAILED_PRECONDITION||t.message!==XV)throw t;b("LocalStore","Unexpectedly lost primary lease")})}var w=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var Om=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new tn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new di(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=fv(r.target.error);this.V.reject(new di(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new di(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Fm(n)}},td=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(rt())===12.2&&Tn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b("SimpleDb","Removing database:",e),ci(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!el())return!1;if(t.C())return!0;let e=rt(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(b("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new di(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new T(y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new T(y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new di(e,s))},i.onupgradeneeded=o=>{b("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{b("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=Om.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),w.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(b("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},km=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ci(this.k.delete())}},di=class extends T{constructor(e,n){super(y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Sa(t){return t.name==="IndexedDbTransactionError"}var Fm=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(b("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ci(r)}add(e){return b("SimpleDb","ADD",this.store.name,e,e),ci(this.store.add(e))}get(e){return ci(this.store.get(e)).next(n=>(n===void 0&&(n=null),b("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return b("SimpleDb","DELETE",this.store.name,e),ci(this.store.delete(e))}count(){return b("SimpleDb","COUNT",this.store.name),ci(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new w((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new w((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){b("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new w((r,i)=>{n.onerror=o=>{let s=fv(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new w((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new km(a),u=n(a.primaryKey,a.value,c);if(u instanceof w){let l=u.catch(d=>(c.done(),w.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>w.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ci(t){return new w((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=fv(r.target.error);n(i)}})}var $C=!1;function fv(t){let e=td.S(rt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $C||($C=!0,setTimeout(()=>{throw r},0)),r}}return t}var _b=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Md(t){return t==null}function ga(t){return t===0&&1/t==-1/0}function eL(t){return typeof t=="number"&&Number.isInteger(t)&&!ga(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QG=[...tL,"documentOverlays"],nL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rL=nL,YG=[...rL,"indexConfiguration","indexState","indexEntries"];function HC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Te=class t{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bo(this.root,e,this.comparator,!0)}},bo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();let e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nd(this.data.getIterator())}getIteratorFrom(e){return new nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},nd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zt=class t{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(Mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var rd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var iL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(t){if(_e(!!t),typeof t=="string"){let e=0,n=iL.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vr(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}function pv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gv(t){let e=t.mapValue.fields.__previous_value__;return pv(e)?gv(e):e}function ma(t){let e=yr(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var Vm=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},id=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pv(t)?4:Ib(t)?9007199254740991:10:O()}function Sn(t,e){if(t===e)return!0;let n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ma(t).isEqual(ma(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=yr(i.timestampValue),a=yr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return vr(i.bytesValue).isEqual(vr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=be(i.doubleValue),a=be(o.doubleValue);return s===a?ga(s)===ga(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(HC(s)!==HC(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Sn(s[c],a[c])))return!1;return!0}(t,e);default:return O()}}function ya(t,e){return(t.values||[]).find(n=>Sn(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;let n=pi(t),r=pi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=be(o.integerValue||o.doubleValue),c=be(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return qC(t.timestampValue,e.timestampValue);case 4:return qC(ma(t),ma(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(o,s){let a=vr(o),c=vr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ae(a[u],c[u]);if(l!==0)return l}return ae(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ae(be(o.latitude),be(s.latitude));return a!==0?a:ae(be(o.longitude),be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Ro(a[u],c[u]);if(l)return l}return ae(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Kl.mapValue&&s===Kl.mapValue)return 0;if(o===Kl.mapValue)return 1;if(s===Kl.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ae(c[d],l[d]);if(h!==0)return h;let f=Ro(a[c[d]],u[l[d]]);if(f!==0)return f}return ae(c.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function qC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=yr(t),r=yr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function No(t){return Lm(t)}function Lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return P.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Lm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Lm(n.fields[s])}`;return i+"}"}(t.mapValue):O()}function zC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jm(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function GC(t){return!!t&&"nullValue"in t}function WC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yl(t){return!!t&&"mapValue"in t}function da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=da(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ib(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var At=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=da(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Yl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(da(this.value))}};function Eb(t){let e=[];return wi(t.fields,(n,r)=>{let i=new Mt([n]);if(Yl(r)){let o=Eb(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new zt(e)}var nn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,$.min(),$.min(),$.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,$.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,$.min(),$.min(),At.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,$.min(),$.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Po=class{constructor(e,n){this.position=e,this.inclusive=n}};function KC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=P.comparator(P.fromName(s.referenceValue),n.key):r=Ro(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sn(t.position[n],e.position[n]))return!1;return!0}var gi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function oL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var od=class{},ke=class t extends od{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bm(e,n,r):n==="array-contains"?new qm(e,r):n==="in"?new zm(e,r):n==="not-in"?new Gm(e,r):n==="array-contains-any"?new Wm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $m(e,r):new Hm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ro(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rn=class t extends od{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Db(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Db(t){return t.op==="and"}function Cb(t){return sL(t)&&Db(t)}function sL(t){for(let e of t.filters)if(e instanceof rn)return!1;return!0}function Um(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+No(t.value);if(Cb(t))return t.filters.map(e=>Um(e)).join(",");{let e=t.filters.map(n=>Um(n)).join(",");return`${t.op}(${e})`}}function bb(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&Sn(r.value,i.value)}(t,e):t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bb(s,i.filters[a]),!0):!1}(t,e):void O()}function Tb(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof rn?function(n){return n.op.toString()+" {"+n.getFilters().map(Tb).join(" ,")+"}"}(t):"Filter"}var Bm=class extends ke{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){let n=P.comparator(e.key,this.key);return this.matchesComparison(n)}},$m=class extends ke{constructor(e,n){super(e,"in",n),this.keys=Sb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Hm=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=Sb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Sb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}var qm=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mv(n)&&ya(n.arrayValue,this.value)}},zm=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ya(this.value.arrayValue,n)}},Gm=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ya(this.value.arrayValue,n)}},Wm=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ya(this.value.arrayValue,r))}};var Km=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function YC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Km(t,e,n,r,i,o,s)}function yv(t){let e=U(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Um(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ce=n}return e.ce}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QC(t.startAt,e.startAt)&&QC(t.endAt,e.endAt)}function Qm(t){return P.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var _r=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function aL(t,e,n,r,i,o,s,a){return new _r(t,e,n,r,i,o,s,a)}function Ab(t){return new _r(t)}function ZC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Mb(t){return t.collectionGroup!==null}function ha(t){let e=U(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new at(Mt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new gi(o,r))}),n.has(Mt.keyField().canonicalString())||e.le.push(new gi(Mt.keyField(),r))}return e.le}function Cn(t){let e=U(t);return e.he||(e.he=cL(e,ha(t))),e.he}function cL(t,e){if(t.limitType==="F")return YC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new gi(i.field,o)});let n=t.endAt?new Po(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Po(t.startAt.position,t.startAt.inclusive):null;return YC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ym(t,e){let n=t.filters.concat([e]);return new _r(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zm(t,e,n){return new _r(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return vv(Cn(t),Cn(e))&&t.limitType===e.limitType}function xb(t){return`${yv(Cn(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Tb(i)).join(", ")}]`),Md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(Cn(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):P.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ha(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=KC(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,ha(r),i)||r.endAt&&!function(s,a,c){let u=KC(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,ha(r),i))}(t,e)}function uL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rb(t){return(e,n)=>{let r=!1;for(let i of ha(t)){let o=lL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lL(t,e,n){let r=t.field.isKeyField()?P.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Ro(c,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}var wr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return wb(this.inner)}size(){return this.innerSize}};var dL=new Te(P.comparator);function Kn(){return dL}var Nb=new Te(P.comparator);function la(...t){let e=Nb;for(let n of t)e=e.insert(n.key,n);return e}function Pb(t){let e=Nb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ui(){return fa()}function Ob(){return fa()}function fa(){return new wr(t=>t.toString(),(t,e)=>t.isEqual(e))}var hL=new Te(P.comparator),fL=new at(P.comparator);function Z(...t){let e=fL;for(let n of t)e=e.add(n);return e}var pL=new at(ae);function gL(){return pL}function kb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ga(e)?"-0":e}}function Fb(t){return{integerValue:""+t}}function mL(t,e){return eL(e)?Fb(e):kb(t,e)}var Oo=class{constructor(){this._=void 0}};function yL(t,e,n){return t instanceof ko?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pv(o)&&(o=gv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof mi?Lb(t,e):t instanceof yi?jb(t,e):function(i,o){let s=Vb(i,o),a=JC(s)+JC(i.Ie);return jm(s)&&jm(i.Ie)?Fb(a):kb(i.serializer,a)}(t,e)}function vL(t,e,n){return t instanceof mi?Lb(t,e):t instanceof yi?jb(t,e):n}function Vb(t,e){return t instanceof Fo?function(r){return jm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ko=class extends Oo{},mi=class extends Oo{constructor(e){super(),this.elements=e}};function Lb(t,e){let n=Ub(e);for(let r of t.elements)n.some(i=>Sn(i,r))||n.push(r);return{arrayValue:{values:n}}}var yi=class extends Oo{constructor(e){super(),this.elements=e}};function jb(t,e){let n=Ub(e);for(let r of t.elements)n=n.filter(i=>!Sn(i,r));return{arrayValue:{values:n}}}var Fo=class extends Oo{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function JC(t){return be(t.integerValue||t.doubleValue)}function Ub(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _L(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mi&&i instanceof mi||r instanceof yi&&i instanceof yi?xo(r.elements,i.elements,Sn):r instanceof Fo&&i instanceof Fo?Sn(r.Ie,i.Ie):r instanceof ko&&i instanceof ko}(t.transform,e.transform)}var Jm=class{constructor(e,n){this.version=e,this.transformResults=n}},gr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Zl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Vo=class{};function Bb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sd(t.key,gr.none()):new vi(t.key,t.data,gr.none());{let n=t.data,r=At.empty(),i=new at(Mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new An(t.key,r,new zt(i.toArray()),gr.none())}}function wL(t,e,n){t instanceof vi?function(i,o,s){let a=i.value.clone(),c=eb(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof An?function(i,o,s){if(!Zl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=eb(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll($b(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function pa(t,e,n,r){return t instanceof vi?function(o,s,a,c){if(!Zl(o.precondition,s))return a;let u=o.value.clone(),l=tb(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof An?function(o,s,a,c){if(!Zl(o.precondition,s))return a;let u=tb(o.fieldTransforms,c,s),l=s.data;return l.setAll($b(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Zl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function IL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Vb(r.transform,i||null);o!=null&&(n===null&&(n=At.empty()),n.set(r.field,o))}return n||null}function XC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(o,s)=>_L(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var vi=class extends Vo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},An=class extends Vo{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function $b(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eb(t,e,n){let r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vL(s,a,n[i]))}return r}function tb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,yL(o,s,e))}return r}var sd=class extends Vo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xm=class extends Vo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ey=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&wL(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Ob();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=Bb(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument($.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>XC(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>XC(n,r))}},ty=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return hL}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var ny=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ry=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,ne;function EL(t){switch(t){default:return O();case y.CANCELLED:case y.UNKNOWN:case y.DEADLINE_EXCEEDED:case y.RESOURCE_EXHAUSTED:case y.INTERNAL:case y.UNAVAILABLE:case y.UNAUTHENTICATED:return!1;case y.INVALID_ARGUMENT:case y.NOT_FOUND:case y.ALREADY_EXISTS:case y.PERMISSION_DENIED:case y.FAILED_PRECONDITION:case y.ABORTED:case y.OUT_OF_RANGE:case y.UNIMPLEMENTED:case y.DATA_LOSS:return!0}}function Hb(t){if(t===void 0)return Tn("GRPC error has no .code"),y.UNKNOWN;switch(t){case Pe.OK:return y.OK;case Pe.CANCELLED:return y.CANCELLED;case Pe.UNKNOWN:return y.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return y.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return y.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return y.INTERNAL;case Pe.UNAVAILABLE:return y.UNAVAILABLE;case Pe.UNAUTHENTICATED:return y.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return y.INVALID_ARGUMENT;case Pe.NOT_FOUND:return y.NOT_FOUND;case Pe.ALREADY_EXISTS:return y.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return y.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return y.FAILED_PRECONDITION;case Pe.ABORTED:return y.ABORTED;case Pe.OUT_OF_RANGE:return y.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return y.UNIMPLEMENTED;case Pe.DATA_LOSS:return y.DATA_LOSS;default:return O()}}(ne=Pe||(Pe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";var nb=null;function DL(){return new TextEncoder}var CL=new ai([4294967295,4294967295],0);function rb(t){let e=DL().encode(t),n=new UC;return n.update(e),new Uint8Array(n.digest())}function ib(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ai([n,r],0),new ai([i,o],0)]}var iy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new li(`Invalid padding: ${n}`);if(r<0)throw new li(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new li(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new li(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ai.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ai.fromNumber(r)));return i.compare(CL)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=rb(e),[r,i]=ib(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=rb(e),[r,i]=ib(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},li=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ad=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t($.min(),i,new Te(ae),Kn(),Z())}},va=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Z(),Z(),Z())}};var So=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},cd=class{constructor(e,n){this.targetId=e,this.fe=n}},ud=class{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ld=class{constructor(){this.ge=0,this.pe=sb(),this.ye=gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Z(),n=Z(),r=Z();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new va(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=sb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,_e(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},oy=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Kn(),this.Qe=ob(),this.Ke=new Te(ae)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(Qm(o))if(r===0){let s=new P(o.path);this.We(n,s,nn.newNoDocument(s,$.min()))}else _e(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}nb?.tt(function(l,d,h,f,v){var I,E,A,X,G,ge;let Qe={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ce=d.unchangedNames;return ce&&(Qe.bloomFilter={applied:v===0,hashCount:(I=ce?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(X=(A=(E=ce?.bits)===null||E===void 0?void 0:E.bitmap)===null||A===void 0?void 0:A.length)!==null&&X!==void 0?X:0,padding:(ge=(G=ce?.bits)===null||G===void 0?void 0:G.padding)!==null&&ge!==void 0?ge:0,mightContain:et=>{var on;return(on=f?.mightContain(et))!==null&&on!==void 0&&on}}),Qe}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=vr(r).toUint8Array()}catch(c){if(c instanceof rd)return Mo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new iy(s,i,o)}catch(c){return Mo(c instanceof li?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Qm(a.target)){let c=new P(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,nn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Z();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new ad(e,n,this.Ke,this.qe,r);return this.qe=Kn(),this.Qe=ob(),this.Ke=new Te(ae),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new ld,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new at(ae),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new ld),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function ob(){return new Te(P.comparator)}function sb(){return new Te(P.comparator)}var bL={asc:"ASCENDING",desc:"DESCENDING"},TL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SL={and:"AND",or:"OR"},sy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ay(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AL(t,e){return dd(t,e.toTimestamp())}function bn(t){return _e(!!t),$.fromTimestamp(function(n){let r=yr(n);return new Xe(r.seconds,r.nanos)}(t))}function _v(t,e){return cy(t,e).canonicalString()}function cy(t,e){let n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zb(t){let e=Ee.fromString(t);return _e(Yb(e)),e}function uy(t,e){return _v(t.databaseId,e.path)}function Im(t,e){let n=zb(e);if(n.get(1)!==t.databaseId.projectId)throw new T(y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(Wb(n))}function Gb(t,e){return _v(t.databaseId,e)}function ML(t){let e=zb(t);return e.length===4?Ee.emptyPath():Wb(e)}function ly(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wb(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ab(t,e,n){return{name:uy(t,e),fields:n.value.mapValue.fields}}function xL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(_e(l===void 0||typeof l=="string"),gt.fromBase64String(l||"")):(_e(l===void 0||l instanceof Uint8Array),gt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let l=u.code===void 0?y.UNKNOWN:Hb(u.code);return new T(l,u.message||"")}(s);n=new ud(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Im(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):$.min(),a=new At({mapValue:{fields:r.document.fields}}),c=nn.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new So(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Im(t,r.document),o=r.readTime?bn(r.readTime):$.min(),s=nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new So([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Im(t,r.document),o=r.removedTargetIds||[];n=new So([],o,i,null)}else{if(!("filter"in e))return O();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ry(i,o),a=r.targetId;n=new cd(a,s)}}return n}function RL(t,e){let n;if(e instanceof vi)n={update:ab(t,e.key,e.value)};else if(e instanceof sd)n={delete:uy(t,e.key)};else if(e instanceof An)n={update:ab(t,e.key,e.data),updateMask:UL(e.fieldMask)};else{if(!(e instanceof Xm))return O();n={verify:uy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ko)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:AL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:O()}(t,e.precondition)),n}function NL(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual($.min())&&(s=bn(o)),new Jm(s,i.transformResults||[])}(n,e))):[]}function PL(t,e){return{documents:[Gb(t,e.path)]}}function OL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gb(t,i);let o=function(u){if(u.length!==0)return Qb(rn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Do(h.field),direction:VL(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=ay(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function kL(t){let e=ML(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=Kb(d);return h instanceof rn&&Cb(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new gi(Co(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Md(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Po(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Po(f,h)}(n.endAt)),aL(e,i,s,o,a,"F",c,u)}function FL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Co(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Co(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Co(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Co(n.unaryFilter.field);return ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(Co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rn.create(n.compositeFilter.filters.map(r=>Kb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O()}function VL(t){return bL[t]}function LL(t){return TL[t]}function jL(t){return SL[t]}function Do(t){return{fieldPath:t.canonicalString()}}function Co(t){return Mt.fromServerFormat(t.fieldPath)}function Qb(t){return t instanceof ke?function(n){if(n.op==="=="){if(WC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(GC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(GC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:LL(n.op),value:n.value}}}(t):t instanceof rn?function(n){let r=n.getFilters().map(i=>Qb(i));return r.length===1?r[0]:{compositeFilter:{op:jL(n.op),filters:r}}}(t):O()}function UL(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var _a=class t{constructor(e,n,r,i,o=$.min(),s=$.min(),a=gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dy=class{constructor(e){this.ct=e}};function BL(t){let e=kL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zm(e,e.limit,"L"):e}var hd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ga(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(vr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Ib(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):O()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),P.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};hd.bt=new hd;var hy=class{constructor(){this._n=new fy}addToCollectionParentIndex(e,n){return this._n.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(fi.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}},fy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Ee.comparator)).toArray()}};var JG=new Uint8Array(0);var En=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);var wa=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var py=class{constructor(){this.changes=new wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var my=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pa(r.mutation,i,zt.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){let i=ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=la();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Kn(),s=fa(),a=function(){return fa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof An)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),pa(l.mutation,u,l.mutation.getFieldMask(),Xe.now())):s.set(u.key,zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new gy(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=fa(),i=new Te((s,a)=>s-a),o=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||zt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Z()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Ob();l.forEach(h=>{if(!o.has(h)){let f=Bb(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return P.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Mb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):w.resolve(ui()),a=-1,c=o;return s.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Z())).next(l=>({batchId:a,changes:Pb(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=la();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=la();return this.indexManager.getCollectionParents(e,o).next(a=>w.forEach(a,c=>{let u=function(d,h){return new _r(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,nn.newInvalidDocument(l)))});let a=la();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&pa(l.mutation,u,zt.empty(),Xe.now()),Rd(n,u)&&(a=a.insert(c,u))}),a})}};var yy=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return w.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),w.resolve()}getNamedQuery(e,n){return w.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:BL(i.bundledQuery),readTime:bn(i.readTime)}}(n)),w.resolve()}};var vy=class{constructor(){this.overlays=new Te(P.comparator),this.hr=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ui();return w.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),w.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){let i=ui(),o=n.length+1,s=new P(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Te((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=ui(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=ui(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ny(n,r));let o=this.hr.get(n);o===void 0&&(o=Z(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Ia=class{constructor(){this.Pr=new at(Oe.Ir),this.Tr=new at(Oe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Oe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new P(new Ee([])),r=new Oe(n,e),i=new Oe(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new P(new Ee([])),r=new Oe(n,e),i=new Oe(n,e+1),o=Z();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Oe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return P.comparator(e.key,n.key)||ae(e.pr,n.pr)}static Er(e,n){return ae(e.pr,n.pr)||P.comparator(e.key,n.key)}};var _y=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new at(Oe.Ir)}checkEmpty(e){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ey(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Oe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(s)}lookupMutationBatch(e,n){return w.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return w.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),w.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(ae);return n.forEach(i=>{let o=new Oe(i,0),s=new Oe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),w.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;P.isDocumentKey(o)||(o=o.child(""));let s=new Oe(new P(o),0),a=new at(ae);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},s),w.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return w.forEach(n.mutations,i=>{let o=new Oe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Oe(n,0),i=this.wr.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,w.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wy=class{constructor(e){this.vr=e,this.docs=function(){return new Te(P.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Kn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Kn(),s=n.path,a=new P(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||JV(ZV(l),r)<=0||(i.has(l.key)||Rd(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return w.resolve(o)}getAllFromCollectionGroup(e,n,r,i){O()}Fr(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Iy(this)}getSize(e){return w.resolve(this.size)}},Iy=class extends py{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Ey=class{constructor(e){this.persistence=e,this.Mr=new wr(n=>yv(n),vv),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ia,this.targetCount=0,this.Lr=wa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),w.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.qn(n),w.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(o).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),w.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),w.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Nr.containsKey(n))}};var Dy=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new _b(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ey(this),this.indexManager=new hy,this.remoteDocumentCache=function(i){return new wy(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new dy(n),this.$r=new yy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new _y(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);let i=new Cy(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return w.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Cy=class extends Pm{constructor(e){super(),this.currentSequenceNumber=e}},by=class t{constructor(e){this.persistence=e,this.zr=new Ia,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw O()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),w.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Jr,r=>{let i=P.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,$.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return w.or([()=>w.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Ty=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Z(),i=Z();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Sy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ay=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return $0()?8:td.v(rt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Sy;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ua()<=Y.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),w.resolve()):(ua()<=Y.DEBUG&&b("QueryEngine","Query:",Eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ua()<=Y.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):w.resolve())}ji(e,n){if(ZC(n))return w.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zm(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Z(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,s,c.readTime)?this.ji(e,Zm(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return ZC(n)||i.isEqual($.min())?w.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?w.resolve(null):(ua()<=Y.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eo(n)),this.es(e,s,n,YV(i,-1)).next(a=>a))})}Zi(e,n){let r=new at(Rb(e));return n.forEach((i,o)=>{Rd(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return ua()<=Y.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.zi.getDocumentsMatchingQuery(e,n,fi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var My=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Te(ae),this.rs=new wr(o=>yv(o),vv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new my(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function $L(t,e,n,r){return new My(t,e,n,r)}function Zb(t,e){return p(this,null,function*(){let n=U(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Z();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})})}function HL(t,e){let n=U(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=w.resolve();return h.forEach(v=>{f=f.next(()=>l.getEntry(c,v)).next(I=>{let E=u.docVersions.get(v);_e(E!==null),I.version.compareTo(E)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),l.addEntry(I)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Z();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Jb(t){let e=U(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function qL(t,e){let n=U(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(gt.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(I,E,A){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(o,f))});let c=Kn(),u=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(zL(o,s,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual($.min())){let l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ns=i,o))}function zL(t,e,n){let r=Z(),i=Z();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Kn();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual($.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:s,ls:i}})}function GL(t,e){let n=U(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WL(t,e){let n=U(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,w.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new _a(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function xy(t,e,n){return p(this,null,function*(){let r=U(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sa(s))throw s;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function cb(t,e,n){let r=U(t),i=$.min(),o=Z();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=U(c),h=d.rs.get(l);return h!==void 0?w.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,s,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:$.min(),n?o:Z())).next(a=>(KL(r,uL(e),a),{documents:a,hs:o})))}function KL(t,e,n){let r=t.ss.get(e)||$.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var fd=class{constructor(){this.activeTargetIds=gL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ry=class{constructor(){this.no=new fd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new fd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ny=class{io(e){}shutdown(){}};var pd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ql=null;function Em(){return Ql===null?Ql=function(){return 268435456+Math.round(2147483648*Math.random())}():Ql++,"0x"+Ql.toString(16)}var QL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Py=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var st="WebChannelConnection",Oy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=Em(),c=this.bo(n,r.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,c,u,i).then(l=>(b("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Mo("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=QL[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=Em();return new Promise((s,a)=>{let c=new jC;c.setWithCredentials(!0),c.listenOnce(VC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Wl.NO_ERROR:let l=c.getResponseJson();b(st,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Wl.TIMEOUT:b(st,`RPC '${e}' ${o} timed out`),a(new T(y.DEADLINE_EXCEEDED,"Request time out"));break;case Wl.HTTP_ERROR:let d=c.getStatus();if(b(st,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let v=function(E){let A=E.toLowerCase().replace(/_/g,"-");return Object.values(y).indexOf(A)>=0?A:y.UNKNOWN}(f.status);a(new T(v,f.message))}else a(new T(y.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(y.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{b(st,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);b(st,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Em(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kC(),a=FC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");b(st,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),h=!1,f=!1,v=new Py({lo:E=>{f?b(st,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(b(st,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(st,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},ho:()=>d.close()}),I=(E,A,X)=>{E.listen(A,G=>{try{X(G)}catch(ge){setTimeout(()=>{throw ge},0)}})};return I(d,ca.EventType.OPEN,()=>{f||b(st,`RPC '${e}' stream ${i} transport opened.`)}),I(d,ca.EventType.CLOSE,()=>{f||(f=!0,b(st,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),I(d,ca.EventType.ERROR,E=>{f||(f=!0,Mo(st,`RPC '${e}' stream ${i} transport errored:`,E),v.Vo(new T(y.UNAVAILABLE,"The operation could not be completed")))}),I(d,ca.EventType.MESSAGE,E=>{var A;if(!f){let X=E.data[0];_e(!!X);let G=X,ge=G.error||((A=G[0])===null||A===void 0?void 0:A.error);if(ge){b(st,`RPC '${e}' stream ${i} received error:`,ge);let Qe=ge.status,ce=function(Sr){let Si=Pe[Sr];if(Si!==void 0)return Hb(Si)}(Qe),et=ge.message;ce===void 0&&(ce=y.INTERNAL,et="Unknown error status: "+Qe+" with message "+ge.message),f=!0,v.Vo(new T(ce,et)),d.close()}else b(st,`RPC '${e}' stream ${i} received:`,X),v.mo(X)}}),I(a,LC.STAT_EVENT,E=>{E.stat===wm.PROXY?b(st,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===wm.NOPROXY&&b(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}};function Dm(){return typeof document<"u"?document:null}function Nd(t){return new sy(t,!0)}var gd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var md=class{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new gd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===y.RESOURCE_EXHAUSTED?(Tn(n.toString()),Tn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new T(y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ky=class extends md{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=xL(this.serializer,e),r=function(o){if(!("targetChange"in o))return $.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?bn(s.readTime):$.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=ly(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Qm(c)?{documents:PL(o,c)}:{query:OL(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qb(o,s.resumeToken);let u=ay(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo($.min())>0){a.readTime=dd(o,s.snapshotVersion.toTimestamp());let u=ay(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=FL(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=ly(this.serializer),n.removeTarget=e,this.t_(n)}},Fy=class extends md{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=NL(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.T_(r,n)}return _e(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=ly(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>RL(this.serializer,r))};this.t_(n)}};var Vy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new T(y.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,cy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(y.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,cy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(y.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Ly=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Tn(n),this.g_=!1):b("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var jy=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>p(this,null,function*(){Ii(this)&&(b("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=U(c);u.v_.add(4),yield Aa(u),u.x_.set("Unknown"),u.v_.delete(4),yield Pd(u)})}(this))}))}),this.x_=new Ly(r,i)}};function Pd(t){return p(this,null,function*(){if(Ii(t))for(let e of t.F_)yield e(!0)})}function Aa(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function Xb(t,e){let n=U(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Dv(n)?Ev(n):qo(n).Jo()&&Iv(n,e))}function wv(t,e){let n=U(t),r=qo(n);n.C_.delete(e),r.Jo()&&eT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ii(n)&&n.x_.set("Unknown"))}function Iv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(t).c_(e)}function eT(t,e){t.O_.Oe(e),qo(t).l_(e)}function Ev(t){t.O_=new oy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),qo(t).start(),t.x_.p_()}function Dv(t){return Ii(t)&&!qo(t).Ho()&&t.C_.size>0}function Ii(t){return U(t).v_.size===0}function tT(t){t.O_=void 0}function YL(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{Iv(t,e)})})}function ZL(t,e){return p(this,null,function*(){tT(t),Dv(t)?(t.x_.S_(e),Ev(t)):t.x_.set("Unknown")})}function JL(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof ud&&e.state===2&&e.cause)try{yield function(i,o){return p(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yd(t,r)}else if(e instanceof So?t.O_.$e(e):e instanceof cd?t.O_.Je(e):t.O_.Ge(e),!n.isEqual($.min()))try{let r=yield Jb(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.C_.get(u);l&&o.C_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.C_.get(c);if(!l)return;o.C_.set(c,l.withResumeToken(gt.EMPTY_BYTE_STRING,l.snapshotVersion)),eT(o,c);let d=new _a(l.target,c,u,l.sequenceNumber);Iv(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield yd(t,r)}})}function yd(t,e,n){return p(this,null,function*(){if(!Sa(e))throw e;t.v_.add(1),yield Aa(t),t.x_.set("Offline"),n||(n=()=>Jb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Pd(t)}))})}function nT(t,e){return e().catch(n=>yd(t,n,e))}function Od(t){return p(this,null,function*(){let e=U(t),n=Ir(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;XL(e);)try{let i=yield GL(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,e2(e,i)}catch(i){yield yd(e,i)}rT(e)&&iT(e)})}function XL(t){return Ii(t)&&t.D_.length<10}function e2(t,e){t.D_.push(e);let n=Ir(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function rT(t){return Ii(t)&&!Ir(t).Ho()&&t.D_.length>0}function iT(t){Ir(t).start()}function t2(t){return p(this,null,function*(){Ir(t).d_()})}function n2(t){return p(this,null,function*(){let e=Ir(t);for(let n of t.D_)e.I_(n.mutations)})}function r2(t,e,n){return p(this,null,function*(){let r=t.D_.shift(),i=ty.from(r,e,n);yield nT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Od(t)})}function i2(t,e){return p(this,null,function*(){e&&Ir(t).P_&&(yield function(r,i){return p(this,null,function*(){if(function(s){return EL(s)&&s!==y.ABORTED}(i.code)){let o=r.D_.shift();Ir(r).Zo(),yield nT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Od(r)}})}(t,e)),rT(t)&&iT(t)})}function ub(t,e){return p(this,null,function*(){let n=U(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");let r=Ii(n);n.v_.add(3),yield Aa(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Pd(n)})}function o2(t,e){return p(this,null,function*(){let n=U(t);e?(n.v_.delete(2),yield Pd(n)):e||(n.v_.add(2),yield Aa(n),n.x_.set("Unknown"))})}function qo(t){return t.N_||(t.N_=function(n,r,i){let o=U(n);return o.R_(),new ky(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:YL.bind(null,t),To:ZL.bind(null,t),u_:JL.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),Dv(t)?Ev(t):t.x_.set("Unknown")):(yield t.N_.stop(),tT(t))}))),t.N_}function Ir(t){return t.L_||(t.L_=function(n,r,i){let o=U(n);return o.R_(),new Fy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:t2.bind(null,t),To:i2.bind(null,t),E_:n2.bind(null,t),T_:r2.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.L_.Zo(),yield Od(t)):(yield t.L_.stop(),t.D_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var Uy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Cv(t,e){if(Tn("AsyncQueue",`${e}: ${t}`),Sa(t))return new T(y.UNAVAILABLE,`${e}: ${t}`);throw t}var vd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=la(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var _d=class{constructor(){this.B_=new Te(P.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):O():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Lo=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,vd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var By=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},$y=class{constructor(){this.queries=new wr(e=>xb(e),xd),this.onlineState="Unknown",this.W_=new Set}};function s2(t,e){return p(this,null,function*(){let n=U(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new By,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Cv(s,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&bv(n)})}function a2(t,e){return p(this,null,function*(){let n=U(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function c2(t,e){let n=U(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&bv(n)}function u2(t,e,n){let r=U(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function bv(t){t.W_.forEach(e=>{e.next()})}var Hy,lb;(lb=Hy||(Hy={})).j_="default",lb.Cache="cache";var qy=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Hy.Cache}};var wd=class{constructor(e){this.key=e}},Id=class{constructor(e){this.key=e}},zy=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Z(),this.mutatedKeys=Z(),this.ha=Rb(e),this.Pa=new vd(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new _d,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Rd(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),I=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),E=!1;h&&f?h.data.isEqual(f.data)?v!==I&&(r.track({type:3,doc:f}),E=!0):this.da(h,f)||(r.track({type:2,doc:f}),E=!0,(c&&this.ha(f,c)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(c||u)&&(a=!0)),E&&(f?(s=s.add(f),o=I?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((l,d)=>function(f,v){let I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return I(f)-I(v)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,s.length!==0||u?{snapshot:new Lo(this.query,e.Pa,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new _d,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=Z(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Id(r))}),this.la.forEach(r=>{e.has(r)||n.push(new wd(r))}),n}fa(e){this.ua=e.hs,this.la=Z();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Lo.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},Gy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Wy=class{constructor(e){this.key=e,this.pa=!1}},Ky=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new wr(a=>xb(a),xd),this.Sa=new Map,this.ba=new Set,this.Da=new Te(P.comparator),this.Ca=new Map,this.va=new Ia,this.Fa={},this.Ma=new Map,this.xa=wa.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function l2(t,e,n=!0){return p(this,null,function*(){let r=lT(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield oT(r,e,n,!0),i})}function d2(t,e){return p(this,null,function*(){let n=lT(t);yield oT(n,e,!0,!1)})}function oT(t,e,n,r){return p(this,null,function*(){let i=yield WL(t.localStore,Cn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield h2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Xb(t.remoteStore,i),a})}function h2(t,e,n,r,i){return p(this,null,function*(){t.Na=(d,h,f)=>function(I,E,A,X){return p(this,null,function*(){let G=E.view.Ta(A);G.Xi&&(G=yield cb(I.localStore,E.query,!1).then(({documents:et})=>E.view.Ta(et,G)));let ge=X&&X.targetChanges.get(E.targetId),Qe=X&&X.targetMismatches.get(E.targetId)!=null,ce=E.view.applyChanges(G,I.isPrimaryClient,ge,Qe);return hb(I,E.targetId,ce.Va),ce.snapshot})}(t,d,h,f);let o=yield cb(t.localStore,e,!0),s=new zy(e,o.hs),a=s.Ta(o.documents),c=va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);hb(t,n,u.Va);let l=new Gy(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function f2(t,e,n){return p(this,null,function*(){let r=U(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!xd(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wv(r.remoteStore,i.targetId),Qy(r,i.targetId)}).catch(Ta))):(Qy(r,i.targetId),yield xy(r.localStore,i.targetId,!0))})}function p2(t,e){return p(this,null,function*(){let n=U(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wv(n.remoteStore,r.targetId))})}function g2(t,e,n){return p(this,null,function*(){let r=E2(t);try{let i=yield function(s,a){let c=U(s),u=Xe.now(),l=a.reduce((f,v)=>f.add(v.key),Z()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Kn(),I=Z();return c.os.getEntries(f,l).next(E=>{v=E,v.forEach((A,X)=>{X.isValidDocument()||(I=I.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,v)).next(E=>{d=E;let A=[];for(let X of a){let G=IL(X,d.get(X.key).overlayedDocument);G!=null&&A.push(new An(X.key,G,Eb(G.value.mapValue),gr.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,A,a)}).next(E=>{h=E;let A=E.applyToLocalDocumentSet(d,I);return c.documentOverlayCache.saveOverlays(f,E.batchId,A)})}).then(()=>({batchId:h.batchId,changes:Pb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Fa[s.currentUser.toKey()];u||(u=new Te(ae)),u=u.insert(a,c),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ma(r,i.changes),yield Od(r.remoteStore)}catch(i){let o=Cv(i,"Failed to persist write");n.reject(o)}})}function sT(t,e){return p(this,null,function*(){let n=U(t);try{let r=yield qL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?_e(s.pa):i.removedDocuments.size>0&&(_e(s.pa),s.pa=!1))}),yield Ma(n,r,e)}catch(r){yield Ta(r)}})}function db(t,e,n){let r=U(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=U(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&bv(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function m2(t,e,n){return p(this,null,function*(){let r=U(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Te(P.comparator);s=s.insert(o,nn.newNoDocument(o,$.min()));let a=Z().add(o),c=new ad($.min(),new Map,new Te(ae),s,a);yield sT(r,c),r.Da=r.Da.remove(o),r.Ca.delete(e),Tv(r)}else yield xy(r.localStore,e,!1).then(()=>Qy(r,e,n)).catch(Ta)})}function y2(t,e){return p(this,null,function*(){let n=U(t),r=e.batch.batchId;try{let i=yield HL(n.localStore,e);cT(n,r,null),aT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ma(n,i)}catch(i){yield Ta(i)}})}function v2(t,e,n){return p(this,null,function*(){let r=U(t);try{let i=yield function(s,a){let c=U(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(_e(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);cT(r,e,n),aT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ma(r,i)}catch(i){yield Ta(i)}})}function aT(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function cT(t,e,n){let r=U(t),i=r.Fa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Qy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||uT(t,r)})}function uT(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(wv(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Tv(t))}function hb(t,e,n){for(let r of n)r instanceof wd?(t.va.addReference(r.key,e),_2(t,r)):r instanceof Id?(b("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||uT(t,r.key)):O()}function _2(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(b("SyncEngine","New document in limbo: "+n),t.ba.add(r),Tv(t))}function Tv(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new P(Ee.fromString(e)),r=t.xa.next();t.Ca.set(r,new Wy(n)),t.Da=t.Da.insert(n,r),Xb(t.remoteStore,new _a(Cn(Ab(n.path)),r,"TargetPurposeLimboResolution",_b._e))}}function Ma(t,e,n){return p(this,null,function*(){let r=U(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{s.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Ty.Ki(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(c,u){return p(this,null,function*(){let l=U(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Sa(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),v=f.snapshotVersion,I=f.withLastLimboFreeSnapshotVersion(v);l.ns=l.ns.insert(h,I)}}})}(r.localStore,o))})}function w2(t,e){return p(this,null,function*(){let n=U(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());let r=yield Zb(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new T(y.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ma(n,r.us)}})}function I2(t,e){let n=U(t),r=n.Ca.get(e);if(r&&r.pa)return Z().add(r.key);{let i=Z(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function lT(t){let e=U(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m2.bind(null,e),e.ya.u_=c2.bind(null,e.eventManager),e.ya.La=u2.bind(null,e.eventManager),e}function E2(t){let e=U(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,e),e}var Ed=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $L(this.persistence,new Ay,e.initialUser,this.serializer)}createPersistence(e){return new Dy(by.Hr,this.serializer)}createSharedClientState(e){return new Ry}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Yy=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>db(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w2.bind(null,this.syncEngine),yield o2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new $y}()}createDatastore(e){let n=Nd(e.databaseInfo.databaseId),r=function(o){return new Oy(o)}(e.databaseInfo);return function(o,s,a,c){return new Vy(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new jy(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>db(this.syncEngine,n,0),function(){return pd.D()?new pd:new Ny}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){let d=new Ky(i,o,s,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=U(r);b("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Aa(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Zy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Tn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Jy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=Xl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>p(this,null,function*(){b("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Cv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Cm(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield Zb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function fb(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield C2(t);b("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ub(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ub(e.remoteStore,i)),t._onlineComponents=e})}function D2(t){return t.name==="FirebaseError"?t.code===y.FAILED_PRECONDITION||t.code===y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function C2(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Cm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!D2(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),yield Cm(t,new Ed)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Cm(t,new Ed);return t._offlineComponents})}function dT(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield fb(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield fb(t,new Yy))),t._onlineComponents})}function b2(t){return dT(t).then(e=>e.syncEngine)}function T2(t){return p(this,null,function*(){let e=yield dT(t),n=e.eventManager;return n.onListen=l2.bind(null,e.syncEngine),n.onUnlisten=f2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p2.bind(null,e.syncEngine),n})}function S2(t,e,n={}){let r=new tn;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(o,s,a,c,u){let l=new Zy({next:h=>{s.enqueueAndForget(()=>a2(o,d)),h.fromCache&&c.source==="server"?u.reject(new T(y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new qy(a,l,{includeMetadataChanges:!0,ta:!0});return s2(o,d)}(yield T2(t),t.asyncQueue,e,n,r)})),r.promise}function hT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var pb=new Map;function fT(t,e,n){if(!n)throw new T(y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A2(t,e,n,r){if(e===!0&&r===!0)throw new T(y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gb(t){if(!P.isDocumentKey(t))throw new T(y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mb(t){if(P.isDocumentKey(t))throw new T(y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function jo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=kd(t);throw new T(y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Dd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new T(y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new T(y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new T(y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new T(y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Uo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bm;switch(r.type){case"firstParty":return new Mm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=pb.get(n);r&&(b("ComponentProvider","Removing Datastore"),pb.delete(n),r.terminate())}(this),Promise.resolve()}};function pT(t,e,n,r={}){var i;let o=(t=jo(t,Uo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=We.MOCK_USER;else{a=L0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new We(u)}t._authCredentials=new Tm(new Jl(a,c))}}var _i=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},mr=class t extends _i{constructor(e,n,r){super(e,n,Ab(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new P(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function zo(t,e,...n){if(t=ft(t),fT("collection","path",e),t instanceof Uo){let r=Ee.fromString(e,...n);return mb(r),new mr(t,null,r)}{if(!(t instanceof xt||t instanceof mr))throw new T(y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ee.fromString(e,...n));return mb(r),new mr(t.firestore,null,r)}}function Sv(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Xl.newId()),fT("doc","path",e),t instanceof Uo){let r=Ee.fromString(e,...n);return gb(r),new xt(t,null,new P(r))}{if(!(t instanceof xt||t instanceof mr))throw new T(y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ee.fromString(e,...n));return gb(r),new xt(t.firestore,t instanceof mr?t.converter:null,new P(r))}}var Xy=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new gd(this,"async_queue_retry"),this.cu=()=>{let n=Dm();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Dm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new tn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return p(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Sa(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Tn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Uy.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&O()}verifyOperationInProgress(){}Tu(){return p(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Bo=class extends Uo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Xy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mT(this),this._firestoreClient.terminate()}};function Ei(t,e){let n=typeof t=="object"?t:Ps(),r=typeof t=="string"?t:e||"(default)",i=fg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=F0("firestore");o&&pT(i,...o)}return i}function gT(t){return t._firestoreClient||mT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mT(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,l){return new Vm(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,hT(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Jy(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ea=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(gt.fromBase64String(e))}catch(n){throw new T(y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var $o=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Da=class{constructor(e){this._methodName=e}};var Ca=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var M2=/^__.*__$/,ev=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new An(e,this.data,this.fieldMask,n,this.fieldTransforms):new vi(e,this.data,n,this.fieldTransforms)}},Cd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new An(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function yT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}var tv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Td(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(yT(this.Vu)&&M2.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},nv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nd(e)}Cu(e,n,r,i=!1){return new tv({Vu:e,methodName:n,Du:r,path:Mt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Av(t){let e=t._freezeSettings(),n=Nd(t._databaseId);return new nv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x2(t,e,n,r,i,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);Mv("Data must be an object, but it was:",s,r);let a=vT(r,s),c,u;if(o.merge)c=new zt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let h=rv(e,d,n);if(!s.contains(h))throw new T(y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);wT(l,h)||l.push(h)}c=new zt(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new ev(new At(a),c,u)}var bd=class t extends Da{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function R2(t,e,n,r){let i=t.Cu(1,e,n);Mv("Data must be an object, but it was:",i,r);let o=[],s=At.empty();wi(r,(c,u)=>{let l=xv(e,c,n);u=ft(u);let d=i.yu(l);if(u instanceof bd)o.push(l);else{let h=xa(u,d);h!=null&&(o.push(l),s.set(l,h))}});let a=new zt(o);return new Cd(s,a,i.fieldTransforms)}function N2(t,e,n,r,i,o){let s=t.Cu(1,e,n),a=[rv(e,r,n)],c=[i];if(o.length%2!=0)throw new T(y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(rv(e,o[h])),c.push(o[h+1]);let u=[],l=At.empty();for(let h=a.length-1;h>=0;--h)if(!wT(u,a[h])){let f=a[h],v=c[h];v=ft(v);let I=s.yu(f);if(v instanceof bd)u.push(f);else{let E=xa(v,I);E!=null&&(u.push(f),l.set(f,E))}}let d=new zt(u);return new Cd(l,d,s.fieldTransforms)}function P2(t,e,n,r=!1){return xa(n,t.Cu(r?4:3,e))}function xa(t,e){if(_T(t=ft(t)))return Mv("Unsupported field value:",e,t),vT(t,e);if(t instanceof Da)return function(r,i){if(!yT(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=xa(a,i.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Xe.fromDate(r);return{timestampValue:dd(i.serializer,o)}}if(r instanceof Xe){let o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dd(i.serializer,o)}}if(r instanceof Ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ea)return{bytesValue:qb(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_v(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${kd(r)}`)}(t,e)}function vT(t,e){let n={};return wb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wi(t,(r,i)=>{let o=xa(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _T(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Ca||t instanceof Ea||t instanceof xt||t instanceof Da)}function Mv(t,e,n){if(!_T(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=kd(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function rv(t,e,n){if((e=ft(e))instanceof $o)return e._internalPath;if(typeof e=="string")return xv(t,e);throw Td("Field path arguments must be of type string or ",t,!1,void 0,n)}var O2=new RegExp("[~\\*/\\[\\]]");function xv(t,e,n){if(e.search(O2)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $o(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Td(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new T(y.INVALID_ARGUMENT,a+t+c)}function wT(t,e){return t.some(n=>n.isEqual(e))}var Sd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new iv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Rv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},iv=class extends Sd{data(){return super.data()}};function Rv(t,e){return typeof e=="string"?xv(t,e):e instanceof $o?e._internalPath:e._delegate._internalPath}function k2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new T(y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ba=class{},Ad=class extends ba{};function Ra(t,e,...n){let r=[];e instanceof ba&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof sv).length,a=o.filter(c=>c instanceof ov).length;if(s>1||s>0&&a>0)throw new T(y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ov=class t extends Ad{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ET(e._query,n),new _i(e.firestore,e.converter,Ym(e._query,n))}_parse(e){let n=Av(e.firestore);return function(o,s,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new T(y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){vb(d,l);let f=[];for(let v of d)f.push(yb(c,o,v));h={arrayValue:{values:f}}}else h=yb(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||vb(d,l),h=P2(a,s,d,l==="in"||l==="not-in");return ke.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var sv=class t extends ba{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)ET(s,c),s=Ym(s,c)}(e._query,n),new _i(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var av=class t extends Ad{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new T(y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new T(y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gi(o,s)}(e._query,this._field,this._direction);return new _i(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new _r(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function IT(t,e="asc"){let n=e,r=Rv("orderBy",t);return av._create(r,n)}function yb(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new T(y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mb(e)&&n.indexOf("/")!==-1)throw new T(y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ee.fromString(n));if(!P.isDocumentKey(r))throw new T(y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zC(t,new P(r))}if(n instanceof xt)return zC(t,n._key);throw new T(y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kd(n)}.`)}function vb(t,e){if(!Array.isArray(t)||t.length===0)throw new T(y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new T(y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new T(y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var cv=class{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return wi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ca(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=gv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){let n=yr(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ee.fromString(e);_e(Yb(r));let i=new id(r.get(1),r.get(3)),o=new P(r.popFirst(5));return i.isEqual(n)||Tn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function F2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var To=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},uv=class extends Sd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Rv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ao=class extends uv{data(e={}){return super.data(e)}},lv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new To(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ao(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Ao(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Ao(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:V2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function V2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}var dv=class extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}};function Na(t){t=jo(t,_i);let e=jo(t.firestore,Bo),n=gT(e),r=new dv(e);return k2(t._query),S2(n,t._query).then(i=>new lv(e,r,t,i))}function DT(t,e,n,...r){t=jo(t,xt);let i=jo(t.firestore,Bo),o=Av(i),s;return s=typeof(e=ft(e))=="string"||e instanceof $o?N2(o,"updateDoc",t._key,e,n,r):R2(o,"updateDoc",t._key,e),bT(i,[s.toMutation(t._key,gr.exists(!0))])}function CT(t,e){let n=jo(t.firestore,Bo),r=Sv(t),i=F2(t.converter,e);return bT(n,[x2(Av(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function bT(t,e){return function(r,i){let o=new tn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return g2(yield b2(r),i,o)})),o.promise}(gT(t),e)}(function(e,n=!0){(function(i){Ho=i})(fo),lr(new Ht("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Bo(new Sm(r.getProvider("auth-internal")),new Rm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),qe(BC,"4.5.0",e),qe(BC,"4.5.0","esm2017")})();var Di=class{constructor(e){return e}},TT="firestore",Nv=class{constructor(){return ks(TT)}};var Pv=new x("angularfire2.firestore-instances");function L2(t,e){let n=gg(TT,t,e);return n&&new Di(n)}function j2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Di(r)}}var U2={provide:Nv,deps:[[new Vt,Pv]]},B2={provide:Di,useFactory:L2,deps:[[new Vt,Pv],ei]},$2=(()=>{class t{constructor(){qe("angularfire",go.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=Be({providers:[B2,U2]})}return t})();function ST(t,...e){return{ngModule:$2,providers:[{provide:Pv,useFactory:j2(t),multi:!0,deps:[re,dt,Fs,Vs,[new Vt,vl],[new Vt,Os],...e]}]}}var AT=vn(CT,!0);var MT=vn(zo,!0);var xT=vn(Sv,!0);var RT=vn(Ei,!0);var NT=vn(IT,!0);var PT=vn(DT,!0);var Mn=(()=>{let e=class e{constructor(){this.firestore=D(Di),this.db=Ei(dr(Yr.firebase))}getComments(){return p(this,null,function*(){let r=Ra(zo(Ei(dr(Yr.firebase)),"comentarios")),i=yield Na(r),o=[];return i.docs.forEach(s=>{o.push(s.data())}),o})}getCalificacion(){return p(this,null,function*(){let r=yield this.getComments(),i=0;return r.forEach(o=>{i+=o.calificacion}),Math.round(i/r.length)})}getDescargas(){return p(this,null,function*(){let r=Ra(zo(Ei(dr(Yr.firebase)),"descargas")),i=yield Na(r);return i.size>0?i.docs[0].data().cant:0})}addComments(r){return p(this,null,function*(){return yield AT(MT(this.firestore,"comentarios"),r)})}actualizarDescargas(){return p(this,null,function*(){let r=Ra(zo(Ei(dr(Yr.firebase)),"descargas"),NT("timestamp","desc")),i=(yield Na(r)).docs[0],o=yield this.getDescargas();return yield PT(xT(this.firestore,"descargas",i.id),{cant:o+1}),yield this.getDescargas()})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var q="primary",Ka=Symbol("RouteTitle"),Lv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Yo(t){return new Lv(t)}function H2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function q2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xn(t[n],e[n]))return!1;return!0}function xn(t,e){let n=t?jv(t):void 0,r=e?jv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$T(t[i],e[i]))return!1;return!0}function jv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $T(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function HT(t){return t.length>0?t[t.length-1]:null}function Tr(t){return Th(t)?t:Wr(t)?Ie(Promise.resolve(t)):k(t)}var z2={exact:zT,subset:GT},qT={exact:G2,subset:W2,ignored:()=>!0};function OT(t,e,n){return z2[n.paths](t.root,e.root,n.matrixParams)&&qT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function G2(t,e){return xn(t,e)}function zT(t,e,n){if(!bi(t.segments,e.segments)||!Ld(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!zT(t.children[r],e.children[r],n))return!1;return!0}function W2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$T(t[n],e[n]))}function GT(t,e,n){return WT(t,e,e.segments,n)}function WT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!bi(i,n)||e.hasChildren()||!Ld(i,n,r))}else if(t.segments.length===n.length){if(!bi(t.segments,n)||!Ld(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!GT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!bi(t.segments,i)||!Ld(t.segments,i,r)||!t.children[q]?!1:WT(t.children[q],e,o,r)}}function Ld(t,e,n){return e.every((r,i)=>qT[n](t[i].parameters,r.parameters))}var Er=class{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){return Y2.serialize(this)}},ue=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jd(this)}},Ci=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Yo(this.parameters),this._parameterMap}toString(){return QT(this)}};function K2(t,e){return bi(t,e)&&t.every((n,r)=>xn(n.parameters,e[r].parameters))}function bi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Q2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==q&&(n=n.concat(e(i,r)))}),n}var Qa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new Ua,providedIn:"root"});let t=e;return t})(),Ua=class{parse(e){let n=new Bv(e);return new Er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Oa(e.root,!0)}`,r=X2(e.queryParams),i=typeof e.fragment=="string"?`#${Z2(e.fragment)}`:"";return`${n}${r}${i}`}},Y2=new Ua;function jd(t){return t.segments.map(e=>QT(e)).join("/")}function Oa(t,e){if(!t.hasChildren())return jd(t);if(e){let n=t.children[q]?Oa(t.children[q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${Oa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Q2(t,(r,i)=>i===q?[Oa(t.children[q],!1)]:[`${i}:${Oa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[q]!=null?`${jd(t)}/${n[0]}`:`${jd(t)}/(${n.join("//")})`}}function KT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fd(t){return KT(t).replace(/%3B/gi,";")}function Z2(t){return encodeURI(t)}function Uv(t){return KT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ud(t){return decodeURIComponent(t)}function kT(t){return Ud(t.replace(/\+/g,"%20"))}function QT(t){return`${Uv(t.path)}${J2(t.parameters)}`}function J2(t){return Object.entries(t).map(([e,n])=>`;${Uv(e)}=${Uv(n)}`).join("")}function X2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Fd(n)}=${Fd(i)}`).join("&"):`${Fd(n)}=${Fd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ej=/^[^\/()?;#]+/;function Ov(t){let e=t.match(ej);return e?e[0]:""}var tj=/^[^\/()?;=#]+/;function nj(t){let e=t.match(tj);return e?e[0]:""}var rj=/^[^=?&#]+/;function ij(t){let e=t.match(rj);return e?e[0]:""}var oj=/^[^&#]+/;function sj(t){let e=t.match(oj);return e?e[0]:""}var Bv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[q]=new ue(e,n)),r}parseSegment(){let e=Ov(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new Ci(Ud(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=nj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ov(this.remaining);i&&(r=i,this.capture(r))}e[Ud(n)]=Ud(r)}parseQueryParam(e){let n=ij(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=sj(this.remaining);s&&(r=s,this.capture(r))}let i=kT(n),o=kT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ov(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[q]:new ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};function YT(t){return t.segments.length>0?new ue([],{[q]:t}):t}function ZT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ZT(i);if(r===q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ue(t.segments,e);return aj(n)}function aj(t){if(t.numberOfChildren===1&&t.children[q]){let e=t.children[q];return new ue(t.segments.concat(e.segments),e.children)}return t}function Zo(t){return t instanceof Er}function cj(t,e,n=null,r=null){let i=JT(t);return XT(i,e,n,r)}function JT(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new ue(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=YT(r);return e??i}function XT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return kv(i,i,i,n,r);let o=uj(e);if(o.toRoot())return kv(i,i,new ue([],{}),n,r);let s=lj(o,i,t),a=s.processChildren?Va(s.segmentGroup,s.index,o.commands):tS(s.segmentGroup,s.index,o.commands);return kv(i,s.segmentGroup,a,n,r)}function Bd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ba(t){return typeof t=="object"&&t!=null&&t.outlets}function kv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=eS(t,e,n);let a=YT(ZT(s));return new Er(a,o,i)}function eS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=eS(o,e,n)}),new ue(t.segments,r)}var $d=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bd(r[0]))throw new M(4003,!1);let i=r.find(Ba);if(i&&i!==HT(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $d(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $d(n,e,r)}var Ko=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function lj(t,e,n){if(t.isAbsolute)return new Ko(e,!0,0);if(!n)return new Ko(e,!1,NaN);if(n.parent===null)return new Ko(n,!0,0);let r=Bd(t.commands[0])?0:1,i=n.segments.length-1+r;return dj(n,i,t.numberOfDoubleDots)}function dj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Ko(r,!1,i-o)}function hj(t){return Ba(t[0])?t[0].outlets:{[q]:t}}function tS(t,e,n){if(t??=new ue([],{}),t.segments.length===0&&t.hasChildren())return Va(t,e,n);let r=fj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ue(t.segments.slice(0,r.pathIndex),{});return o.children[q]=new ue(t.segments.slice(r.pathIndex),t.children),Va(o,0,i)}else return r.match&&i.length===0?new ue(t.segments,{}):r.match&&!t.hasChildren()?$v(t,e,n):r.match?Va(t,0,i):$v(t,e,n)}function Va(t,e,n){if(n.length===0)return new ue(t.segments,{});{let r=hj(n),i={};if(Object.keys(r).some(o=>o!==q)&&t.children[q]&&t.numberOfChildren===1&&t.children[q].segments.length===0){let o=Va(t.children[q],e,n);return new ue(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=tS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(t.segments,i)}}function fj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ba(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!VT(c,u,s))return o;r+=2}else{if(!VT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $v(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ba(o)){let c=pj(o.outlets);return new ue(r,c)}if(i===0&&Bd(n[0])){let c=t.segments[e];r.push(new Ci(c.path,FT(n[0]))),i++;continue}let s=Ba(o)?o.outlets[q]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bd(a)?(r.push(new Ci(s,FT(a))),i+=2):(r.push(new Ci(s,{})),i++)}return new ue(r,{})}function pj(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=$v(new ue([],{}),0,r))}),e}function FT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function VT(t,e,n){return t==n.path&&xn(e,n.parameters)}var La="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),Gt=class{constructor(e,n){this.id=e,this.url=n}},Jo=class extends Gt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends Gt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Hd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Hd||{}),Dr=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cr=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},$a=class extends Gt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qd=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hv=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class extends Gt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zv=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wv=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kv=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qv=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yv=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jv=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ha=class{},qa=class{constructor(e){this.url=e}};var Xv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ya,this.attachRef=null}},Ya=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Xv,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=e_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=e_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=t_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return t_(e,this._root).map(n=>n.value)}};function e_(t,e){if(t===e.value)return e;for(let n of e.children){let r=e_(t,n);if(r)return r}return null}function t_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=t_(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Wd=class extends Gd{constructor(e,n){super(e),this.snapshot=n,d_(this,e)}toString(){return this.snapshot.toString()}};function nS(t){let e=gj(t),n=new Ye([new Ci("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),a=new Ti(n,r,o,s,i,q,t,e.root);return a.snapshot=e.root,new Wd(new Rt(a,[]),e)}function gj(t){let e={},n={},r={},i="",o=new za([],e,r,i,n,q,t,null,{});return new Kd("",new Rt(o,[]))}var Ti=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(u=>u[Ka]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>Yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>Yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function l_(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&iS(i)&&(r.resolve[Ka]=i.title),r}var za=class{get title(){return this.data?.[Ka]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Kd=class extends Gd{constructor(e,n){super(n),this.url=e,d_(this,n)}toString(){return rS(this._root)}};function d_(t,e){e.value._routerState=t,e.children.forEach(n=>d_(t,n))}function rS(t){let e=t.children.length>0?` { ${t.children.map(rS).join(", ")} } `:"";return`${t.value}${e}`}function Fv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xn(e.params,n.params)||t.paramsSubject.next(n.params),q2(e.url,n.url)||t.urlSubject.next(n.url),xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function n_(t,e){let n=xn(t.params,e.params)&&K2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||n_(t.parent,e.parent))}function iS(t){return typeof t.title=="string"||t.title===null}var h_=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=q,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=D(Ya),this.location=D(oo),this.changeDetector=D(Kr),this.environmentInjector=D(Ct),this.inputBinder=D(Xd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new r_(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qr]});let t=e;return t})(),r_=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ti?this.route:e===Ya?this.childContexts:this.parent.get(e,n)}},Xd=new x(""),LT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=is([i.queryParams,i.params,i.data]).pipe(Ot(([s,a,c],u)=>(c=S(S(S({},s),a),c),u===0?k(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=r0(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function mj(t,e,n){let r=Ga(t,e._root,n?n._root:void 0);return new Wd(r,e)}function Ga(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=yj(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ga(t,a)),s}}let r=vj(e.value),i=e.children.map(o=>Ga(t,o));return new Rt(r,i)}}function yj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ga(t,r,i);return Ga(t,r)})}function vj(t){return new Ti(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var oS="ngNavigationCancelingError";function sS(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aS(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function aS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[oS]=!0,n.cancellationCode=e,n}function _j(t){return cS(t)&&Zo(t.url)}function cS(t){return!!t&&t[oS]}var wj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[qE],decls:1,vars:0,template:function(i,o){i&1&&j(0,"router-outlet")},dependencies:[h_],encapsulation:2});let t=e;return t})();function Ij(t,e){return t.providers&&!t._injector&&(t._injector=Tu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function f_(t){let e=t.children&&t.children.map(f_),n=e?he(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=wj),n}function Nn(t){return t.outlet||q}function Ej(t,e){let n=t.filter(r=>Nn(r)===e);return n.push(...t.filter(r=>Nn(r)!==e)),n}function Za(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Dj=(t,e,n,r)=>K(i=>(new i_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),i_=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Wo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Wo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Fv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Za(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Qd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qo=class{constructor(e,n){this.component=e,this.route=n}};function Cj(t,e,n){let r=t._root,i=e?e._root:null;return ka(r,i,n,[r.value])}function bj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ww(t)?t:e.get(t):r}function ka(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wo(e);return t.children.forEach(s=>{Tj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ja(a,n.getContext(s),i)),i}function Tj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Sj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ka(t,e,a?a.children:null,r,i):ka(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qo(a.outlet.component,s))}else s&&ja(e,a,i),i.canActivateChecks.push(new Qd(r)),o.component?ka(t,null,a?a.children:null,r,i):ka(t,null,n,r,i);return i}function Sj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!bi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bi(t.url,e.url)||!xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n_(t,e)||!xn(t.queryParams,e.queryParams);case"paramsChange":default:return!n_(t,e)}}function ja(t,e,n){let r=Wo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ja(s,e.children.getContext(o),n):ja(s,null,n):ja(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qo(e.outlet.component,i)):n.canDeactivateChecks.push(new Qo(null,i)):n.canDeactivateChecks.push(new Qo(null,i))}function Ja(t){return typeof t=="function"}function Aj(t){return typeof t=="boolean"}function Mj(t){return t&&Ja(t.canLoad)}function xj(t){return t&&Ja(t.canActivate)}function Rj(t){return t&&Ja(t.canActivateChild)}function Nj(t){return t&&Ja(t.canDeactivate)}function Pj(t){return t&&Ja(t.canMatch)}function uS(t){return t instanceof Pn||t?.name==="EmptyError"}var Vd=Symbol("INITIAL_VALUE");function Xo(){return Ot(t=>is(t.map(e=>e.pipe(On(1),Rh(Vd)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===Vd)return Vd;if(n===!1||n instanceof Er)return n}return!0}),Pt(e=>e!==Vd),On(1)))}function Oj(t,e){return Re(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?k(he(S({},n),{guardsResult:!0})):kj(s,r,i,t).pipe(Re(a=>a&&Aj(a)?Fj(r,o,t,e):k(a)),K(a=>he(S({},n),{guardsResult:a})))})}function kj(t,e,n,r){return Ie(t).pipe(Re(i=>Bj(i.component,i.route,n,e,r)),sn(i=>i!==!0,!0))}function Fj(t,e,n,r){return Ie(e).pipe(Nr(i=>Ui(Lj(i.route.parent,r),Vj(i.route,r),Uj(t,i.path,n),jj(t,i.route,n))),sn(i=>i!==!0,!0))}function Vj(t,e){return t!==null&&e&&e(new Zv(t)),k(!0)}function Lj(t,e){return t!==null&&e&&e(new Qv(t)),k(!0)}function jj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(o=>Sc(()=>{let s=Za(e)??n,a=es(o,s),c=xj(a)?a.canActivate(e,t):Ln(s,()=>a(e,t));return Tr(c).pipe(sn())}));return k(i).pipe(Xo())}function Uj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>bj(s)).filter(s=>s!==null).map(s=>Sc(()=>{let a=s.guards.map(c=>{let u=Za(s.node)??n,l=es(c,u),d=Rj(l)?l.canActivateChild(r,t):Ln(u,()=>l(r,t));return Tr(d).pipe(sn())});return k(a).pipe(Xo())}));return k(o).pipe(Xo())}function Bj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return k(!0);let s=o.map(a=>{let c=Za(e)??i,u=es(a,c),l=Nj(u)?u.canDeactivate(t,e,n,r):Ln(c,()=>u(t,e,n,r));return Tr(l).pipe(sn())});return k(s).pipe(Xo())}function $j(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let o=i.map(s=>{let a=es(s,t),c=Mj(a)?a.canLoad(e,n):Ln(t,()=>a(e,n));return Tr(c)});return k(o).pipe(Xo(),lS(r))}function lS(t){return vh(Fe(e=>{if(Zo(e))throw sS(t,e)}),K(e=>e===!0))}function Hj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let o=i.map(s=>{let a=es(s,t),c=Pj(a)?a.canMatch(e,n):Ln(t,()=>a(e,n));return Tr(c)});return k(o).pipe(Xo(),lS(r))}var Wa=class{constructor(e){this.segmentGroup=e||null}},Yd=class extends Error{constructor(e){super(),this.urlTree=e}};function Go(t){return Li(new Wa(t))}function qj(t){return Li(new M(4e3,!1))}function zj(t){return Li(aS(!1,Nt.GuardRejected))}var o_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[q])return qj(e.redirectTo);i=i.children[q]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Yd(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Er(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ue(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},s_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gj(t,e,n,r,i){let o=p_(t,e,n);return o.matched?(r=Ij(e,r),Hj(r,e,n,i).pipe(K(s=>s===!0?o:S({},s_)))):k(o)}function p_(t,e,n){if(e.path==="**")return Wj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},s_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||H2)(n,t,e);if(!i)return S({},s_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Wj(t){return{matched:!0,parameters:t.length>0?HT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function jT(t,e,n,r){return n.length>0&&Yj(t,n,r)?{segmentGroup:new ue(e,Qj(r,new ue(n,t.children))),slicedSegments:[]}:n.length===0&&Zj(t,n,r)?{segmentGroup:new ue(t.segments,Kj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ue(t.segments,t.children),slicedSegments:n}}function Kj(t,e,n,r){let i={};for(let o of n)if(eh(t,e,o)&&!r[Nn(o)]){let s=new ue([],{});i[Nn(o)]=s}return S(S({},r),i)}function Qj(t,e){let n={};n[q]=e;for(let r of t)if(r.path===""&&Nn(r)!==q){let i=new ue([],{});n[Nn(r)]=i}return n}function Yj(t,e,n){return n.some(r=>eh(t,e,r)&&Nn(r)!==q)}function Zj(t,e,n){return n.some(r=>eh(t,e,r))}function eh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Jj(t,e,n,r){return Nn(t)!==r&&(r===q||!eh(e,n,t))?!1:p_(e,t,n).matched}function Xj(t,e,n){return e.length===0&&!t.children[n]}var a_=class{};function eU(t,e,n,r,i,o,s="emptyOnly"){return new c_(t,e,n,r,i,s,o).recognize()}var tU=31,c_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new o_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=jT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(n=>{let r=new za([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},q,this.rootComponentType,null,{}),i=new Rt(r,n),o=new Kd("",i),s=cj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,q).pipe(Jn(r=>{if(r instanceof Yd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=l_(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(K(o=>o instanceof Rt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ie(i).pipe(Nr(o=>{let s=r.children[o],a=Ej(n,o);return this.processSegmentGroup(e,a,s,o)}),xh((o,s)=>(o.push(...s),o)),Xn(null),Mh(),Re(o=>{if(o===null)return Go(r);let s=dS(o);return nU(s),k(s)}))}processSegment(e,n,r,i,o,s){return Ie(n).pipe(Nr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Jn(c=>{if(c instanceof Wa)return k(null);throw c}))),sn(a=>!!a),Jn(a=>{if(uS(a))return Xj(r,i,o)?k(new a_):Go(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return Jj(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Go(i):Go(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=p_(n,i,o);if(!a)return Go(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tU&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Re(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=Gj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ot(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new za(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,iU(r),Nn(r),r.component??r._loadedComponent??null,r,oU(r)),{segmentGroup:v,slicedSegments:I}=jT(n,l,d,c);if(I.length===0&&v.hasChildren())return this.processChildren(u,c,v).pipe(K(A=>A===null?null:new Rt(f,A)));if(c.length===0&&I.length===0)return k(new Rt(f,[]));let E=Nn(r)===o;return this.processSegment(u,c,v,I,E?q:o,!0).pipe(K(A=>new Rt(f,A instanceof Rt?[A]:[])))}))):Go(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):$j(e,n,r,this.urlSerializer).pipe(Re(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zj(n))):k({routes:[],injector:e})}};function nU(t){t.sort((e,n)=>e.value.outlet===q?-1:n.value.outlet===q?1:e.value.outlet.localeCompare(n.value.outlet))}function rU(t){let e=t.value.routeConfig;return e&&e.path===""}function dS(t){let e=[],n=new Set;for(let r of t){if(!rU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=dS(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function iU(t){return t.data||{}}function oU(t){return t.resolve||{}}function sU(t,e,n,r,i,o){return Re(s=>eU(t,e,n,r,s.extractedUrl,i,o).pipe(K(({state:a,tree:c})=>he(S({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function aU(t,e){return Re(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of hS(c))s.add(u);let a=0;return Ie(s).pipe(Nr(c=>o.has(c)?cU(c,r,t,e):(c.data=l_(c,c.parent,t).resolve,k(void 0))),Fe(()=>a++),Bi(1),Re(c=>a===s.size?k(n):Dt))})}function hS(t){let e=t.children.map(n=>hS(n)).flat();return[t,...e]}function cU(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!iS(i)&&(o[Ka]=i.title),uU(o,t,e,r).pipe(K(s=>(t._resolvedData=s,t.data=l_(t,t.parent,n).resolve,null)))}function uU(t,e,n,r){let i=jv(t);if(i.length===0)return k({});let o={};return Ie(i).pipe(Re(s=>lU(t[s],e,n,r).pipe(sn(),Fe(a=>{o[s]=a}))),Bi(1),Ah(o),Jn(s=>uS(s)?Dt:Li(s)))}function lU(t,e,n,r){let i=Za(e)??r,o=es(t,i),s=o.resolve?o.resolve(e,n):Ln(i,()=>o(e,n));return Tr(s)}function Vv(t){return Ot(e=>{let n=t(e);return n?Ie(n).pipe(K(()=>e)):k(e)})}var fS=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===q);return i}getResolvedTitleForRoute(r){return r.data[Ka]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>D(dU),providedIn:"root"});let t=e;return t})(),dU=(()=>{let e=class e extends fS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(x0))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xa=new x("",{providedIn:"root",factory:()=>({})}),Zd=new x(""),g_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(ku)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Tr(r.loadComponent()).pipe(K(pS),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),os(()=>{this.componentLoaders.delete(r)})),o=new Oi(i,()=>new tt).pipe(Pi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=hU(i,this.compiler,r,this.onLoadEndListener).pipe(os(()=>{this.childrenLoaders.delete(i)})),a=new Oi(s,()=>new tt).pipe(Pi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hU(t,e,n,r){return Tr(t.loadChildren()).pipe(K(pS),Re(i=>i instanceof ms||Array.isArray(i)?k(i):Ie(e.compileModuleAsync(i))),K(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Zd,[],{optional:!0,self:!0}).flat()),{routes:s.map(f_),injector:o}}))}function fU(t){return t&&typeof t=="object"&&"default"in t}function pS(t){return fU(t)?t.default:t}var m_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>D(pU),providedIn:"root"});let t=e;return t})(),pU=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gS=new x(""),mS=new x("");function gU(t,e,n){let r=t.get(mS),i=t.get(It);return t.get(re).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),mU(t))),{onViewTransitionCreated:c}=r;return c&&Ln(t,()=>c({transition:a,from:e,to:n})),s})}function mU(t){return new Promise(e=>{yp(e,{injector:t})})}var y_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=D(g_),this.environmentInjector=D(Ct),this.urlSerializer=D(Qa),this.rootContexts=D(Ya),this.location=D(uo),this.inputBindingEnabled=D(Xd,{optional:!0})!==null,this.titleStrategy=D(fS),this.options=D(Xa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(m_),this.createViewTransition=D(gS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Wv(o)),i=o=>this.events.next(new Kv(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(s=>s.id!==0),K(s=>he(S({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ot(s=>{let a=!1,c=!1;return k(s).pipe(Ot(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),Dt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?he(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Cr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Hd.IgnoredSameUrlNavigation)),u.resolve(null),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return k(u).pipe(Ot(h=>{let f=this.transitions?.getValue();return this.events.next(new Jo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Dt:Promise.resolve(h)}),sU(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=he(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new qd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:v,restoredState:I,extras:E}=u,A=new Jo(h,this.urlSerializer.serialize(f),v,I);this.events.next(A);let X=nS(this.rootComponentType).snapshot;return this.currentTransition=s=he(S({},u),{targetSnapshot:X,urlAfterRedirects:f,extras:he(S({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,k(s)}else{let h="";return this.events.next(new Cr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Hd.IgnoredByUrlHandlingStrategy)),u.resolve(null),Dt}}),Fe(u=>{let l=new Hv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),K(u=>(this.currentTransition=s=he(S({},u),{guards:Cj(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),Oj(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(s.guardsResult=u.guardsResult,Zo(u.guardsResult))throw sS(this.urlSerializer,u.guardsResult);let l=new qv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Nt.GuardRejected),!1)),Vv(u=>{if(u.guards.canActivateChecks.length)return k(u).pipe(Fe(l=>{let d=new zv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ot(l=>{let d=!1;return k(l).pipe(aU(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Nt.NoDataFromResolver)}}))}),Fe(l=>{let d=new Gv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Vv(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Fe(f=>{d.component=f}),K(()=>{})));for(let f of d.children)h.push(...l(f));return h};return is(l(u.targetSnapshot.root)).pipe(Xn(null),On(1))}),Vv(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Ie(d).pipe(K(()=>s)):k(s)}),K(u=>{let l=mj(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=he(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Fe(()=>{this.events.next(new Ha)}),Dj(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),On(1),Fe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Nh(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),os(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(u=>{if(c=!0,cS(u))this.events.next(new Dr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),_j(u)?this.events.next(new qa(u.url)):s.resolve(!1);else{this.events.next(new $a(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return Dt}))}))}cancelNavigationTransition(r,i,o){let s=new Dr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yU(t){return t!==La}var vU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>D(_U),providedIn:"root"});let t=e;return t})(),u_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_U=(()=>{let e=class e extends u_{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ds(e)))(o||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>D(wU),providedIn:"root"});let t=e;return t})(),wU=(()=>{let e=class e extends yS{constructor(){super(...arguments),this.location=D(uo),this.urlSerializer=D(Qa),this.options=D(Xa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(m_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Jo)this.stateMemento=this.createStateMemento();else if(r instanceof Cr)this.rawUrlTree=i.initialUrl;else if(r instanceof qd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ha?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Dr&&(r.code===Nt.GuardRejected||r.code===Nt.NoDataFromResolver)?this.restoreHistory(i):r instanceof $a?this.restoreHistory(i,!0):r instanceof Rn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ds(e)))(o||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Fa||{});function vS(t,e){t.events.pipe(Pt(n=>n instanceof Rn||n instanceof Dr||n instanceof $a||n instanceof Cr),K(n=>n instanceof Rn||n instanceof Cr?Fa.COMPLETE:(n instanceof Dr?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?Fa.REDIRECTING:Fa.FAILED),Pt(n=>n!==Fa.REDIRECTING),On(1)).subscribe(()=>{e()})}function IU(t){throw t}var EU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},br=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(Ru),this.stateManager=D(yS),this.options=D(Xa,{optional:!0})||{},this.pendingTasks=D(Su),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(y_),this.urlSerializer=D(Qa),this.location=D(uo),this.urlHandlingStrategy=D(m_),this._events=new tt,this.errorHandler=this.options.errorHandler||IU,this.navigated=!1,this.routeReuseStrategy=D(vU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(Zd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(Xd,{optional:!0}),this.eventsSubscription=new Se,this.isNgZoneEnabled=D(re)instanceof re&&re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Dr&&i.code!==Nt.Redirect&&i.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Rn)this.navigated=!0;else if(i instanceof qa){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||yU(o.source)};this.scheduleNavigation(a,La,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}bU(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),La,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=S({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(f_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=JT(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return XT(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Zo(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,La,null,i)}navigate(r,i={skipLocationChange:!1}){return CU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=S({},EU):i===!1?o=S({},DU):o=i,Zo(r))return OT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return OT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return vS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new M(4008,!1)}function bU(t){return!(t instanceof Ha)&&!(t instanceof qa)}var th=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:sE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(br),B(Ti),ep("tabindex"),B(Gr),B(sr),B(qn))},e.\u0275dir=Lt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Me("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Au("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[lt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Qr],skipLocationChange:[lt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Qr],replaceUrl:[lt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Qr],routerLink:"routerLink"},standalone:!0,features:[_p,qr]});let t=e;return t})();var Jd=class{};var TU=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Pt(r=>r instanceof Rn),Nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Tu(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ie(o).pipe(ji())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=k(null);let s=o.pipe(Re(a=>a===null?k(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ie([s,a]).pipe(ji())}else return s})}};e.\u0275fac=function(i){return new(i||e)(N(br),N(ku),N(Ct),N(Jd),N(g_))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_S=new x(""),SU=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Rn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Cr&&r.code===Hd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){vE()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function AU(t){return t.routerState.root}function ec(t,e){return{\u0275kind:t,\u0275providers:e}}function MU(){let t=D(dt);return e=>{let n=t.get(co);if(e!==n.components[0])return;let r=t.get(br),i=t.get(wS);t.get(v_)===1&&r.initialNavigation(),t.get(IS,null,z.Optional)?.setUpPreloading(),t.get(_S,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wS=new x("",{factory:()=>new tt}),v_=new x("",{providedIn:"root",factory:()=>1});function xU(){return ec(2,[{provide:v_,useValue:0},{provide:Ou,multi:!0,deps:[dt],useFactory:e=>{let n=e.get(d0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(br),o=e.get(wS);vS(i,()=>{r(!0)}),e.get(y_).afterPreactivation=()=>(r(!0),o.closed?k(void 0):o),i.initialNavigation()}))}}])}function RU(){return ec(3,[{provide:Ou,multi:!0,useFactory:()=>{let e=D(br);return()=>{e.setUpLocationChangeListener()}}},{provide:v_,useValue:2}])}var IS=new x("");function NU(t){return ec(0,[{provide:IS,useExisting:TU},{provide:Jd,useExisting:t}])}function PU(){return ec(8,[LT,{provide:Xd,useExisting:LT}])}function OU(t){let e=[{provide:gS,useValue:gU},{provide:mS,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return ec(9,e)}var UT=new x("ROUTER_FORROOT_GUARD"),kU=[uo,{provide:Qa,useClass:Ua},br,Ya,{provide:Ti,useFactory:AU,deps:[br]},g_,[]],__=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[kU,[],{provide:Zd,multi:!0,useValue:r},{provide:UT,useFactory:jU,deps:[[br,new Vt,new Lf]]},{provide:Xa,useValue:i||{}},i?.useHash?VU():LU(),FU(),i?.preloadingStrategy?NU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?UU(i):[],i?.bindToComponentInputs?PU().\u0275providers:[],i?.enableViewTransitions?OU().\u0275providers:[],BU()]}}static forChild(r){return{ngModule:e,providers:[{provide:Zd,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(N(UT,8))},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})();function FU(){return{provide:_S,useFactory:()=>{let t=D(w0),e=D(re),n=D(Xa),r=D(y_),i=D(Qa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new SU(i,r,t,e,n)}}}function VU(){return{provide:qn,useClass:f0}}function LU(){return{provide:qn,useClass:Fp}}function jU(t){return"guarded"}function UU(t){return[t.initialNavigation==="disabled"?RU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?xU().\u0275providers:[]]}var BT=new x("");function BU(){return[{provide:BT,useFactory:MU},{provide:Cp,multi:!0,useExisting:BT}]}var ES=(()=>{let e=class e{constructor(r){this.serice=r,this.isOpen=!1}actualizarDescarga(){this.serice.actualizarDescargas().then(r=>console.log(r))}toogleMenu(){this.isOpen=!this.isOpen}};e.\u0275fac=function(i){return new(i||e)(B(Mn))},e.\u0275cmp=ye({type:e,selectors:[["app-header"]],decls:29,vars:10,consts:[[1,"header"],["href",""],[1,"titulo-logo"],[1,"logo"],["src","assets/logo.png","alt","Logo del gato"],[1,"opciones",3,"click"],["routerLink","informacion"],["routerLink","reproductor"],["routerLink","rese\xF1as"],["routerLink","apoyanos"],[1,"btn-descarga"],["href","assets\\descarga\\my-anime-app.apk",3,"click"],["id","hamburgerBtn",1,"hamburger",3,"click"],[1,"hamburger-top"],[1,"hamburger-middle"],[1,"hamburger-bottom"]],template:function(i,o){i&1&&(m(0,"header",0)(1,"a",1)(2,"div",2)(3,"div",3),j(4,"img",4),g(),m(5,"h1"),_(6,"My anime app"),g()()(),m(7,"div",5),Me("click",function(){return o.toogleMenu()}),m(8,"nav")(9,"ul")(10,"li")(11,"a",6),_(12,"Informacion"),g()(),m(13,"li")(14,"a",7),_(15,"Reproductor"),g()(),m(16,"li")(17,"a",8),_(18,"Rese\xF1as"),g()(),m(19,"li")(20,"a",9),_(21,"Apoyanos"),g()(),m(22,"li",10)(23,"a",11),Me("click",function(){return o.actualizarDescarga()}),_(24,"Descargar ahora"),g()()()()(),m(25,"button",12),Me("click",function(){return o.toogleMenu()}),j(26,"span",13)(27,"span",14)(28,"span",15),g()()),i&2&&(H(7),He("open",o.isOpen),H(18),He("fijo",o.isOpen),H(),He("open",o.isOpen),H(),He("open",o.isOpen),H(),He("open",o.isOpen))},dependencies:[th],styles:[".header[_ngcontent-%COMP%]{background-color:var(--color-principal);padding:15px;display:flex;align-items:center;justify-content:space-between}.titulo-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;font-family:var(--tipografia-titulo)}.logo[_ngcontent-%COMP%]{width:50px;height:auto;margin:0 30px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:20px}.opciones[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:var(--tipografia-opciones);font-size:large}h1[_ngcontent-%COMP%]{color:var(--color-contraste);font-size:xx-large;margin-right:20px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;margin:0;padding:0;align-items:center}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:30px;display:inline-block}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-contraste);transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{color:var(--color-acento-1)}.btn-descarga[_ngcontent-%COMP%]{border-radius:20px;border:3px solid var(--color-contraste);padding:15px 25px;transition:all .3s ease-in-out;text-align:center}.btn-descarga[_ngcontent-%COMP%]:hover{background-color:var(--color-contraste)}.btn-descarga[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--color-acento-1)}.hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-around;width:2rem;height:2rem;background:transparent;border:none;cursor:pointer;padding:0}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:2rem;height:.25rem;background:var(--color-contraste);border-radius:10px;transition:all .3s linear;position:relative;transform-origin:1px}.hamburger-top.open[_ngcontent-%COMP%]{transform:rotate(45deg)}.hamburger-middle.open[_ngcontent-%COMP%]{transform:translate(-50px);opacity:0}.hamburger-bottom.open[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 900px){.opciones[_ngcontent-%COMP%]{display:flex;position:fixed;justify-content:end;background-color:#070707bd;right:-200%;top:0;transition:right .7s ease;width:100%;z-index:1}nav[_ngcontent-%COMP%]{background-color:var(--color-principal);display:inline-block;padding:50px 60px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:start;width:100%;height:100vh}li[_ngcontent-%COMP%]{margin-top:40px;margin-right:30%;font-size:larger}.opciones.open[_ngcontent-%COMP%]{right:0}h1[_ngcontent-%COMP%]{font-size:x-large;margin-right:5px}.logo[_ngcontent-%COMP%]{margin-left:0;margin-right:15px}.hamburger[_ngcontent-%COMP%]{display:flex;z-index:2}.fijo[_ngcontent-%COMP%]{position:fixed;right:15px}}"]});let t=e;return t})();var DS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"info"],[1,"links"],["routerLink","legal/dmca"],[1,"separador"],["routerLink","legal/informacion"]],template:function(i,o){i&1&&(m(0,"footer")(1,"div",0)(2,"h3"),_(3,"\xA9 My anime app"),g()(),m(4,"div",1)(5,"a",2),_(6,"DMCA"),g(),j(7,"div",3),m(8,"a",4),_(9,"Informacion legal"),g()()())},dependencies:[th],styles:["footer[_ngcontent-%COMP%]{background-color:var(--color-secundario-1);display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:30px 40px;color:var(--color-secundario-2);font-family:var(--tipografia-opciones)}a[_ngcontent-%COMP%]{color:var(--color-secundario-2);font-family:var(--tipografia-opciones);text-decoration:none;padding:0 20px}a[_ngcontent-%COMP%]:hover{color:var(--color-acento-2)}.links[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px}.separador[_ngcontent-%COMP%]{display:inline-block;width:2px;height:17px;background-color:var(--color-secundario-2);vertical-align:middle}"]});let t=e;return t})();var CS=(()=>{let e=class e{constructor(r){this.title="my-anime-app"}};e.\u0275fac=function(i){return new(i||e)(B(Mn))},e.\u0275cmp=ye({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(i,o){i&1&&j(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[h_,ES,DS],styles:['[_ngcontent-%COMP%]:root{--color-principal: #000000;--color-contraste: #FFFFFF;--color-acento-1: #fa2c07;--color-secundario-1: #333333;--color-secundario-2: #CCCCCC;--color-acento-2: #F74747;--color-acento-3: #FF69B4;--color-acento-4: #AACCFF;--color-acento-5: #90EE90;--tipografia-titulo: "Lato", sans-serif;--tipografia-opciones: "Raleway", sans-serif}']});let t=e;return t})();var bS=(()=>{let e=class e{constructor(r){this.serice=r}actualizarDescarga(){this.serice.actualizarDescargas().then()}};e.\u0275fac=function(i){return new(i||e)(B(Mn))},e.\u0275cmp=ye({type:e,selectors:[["app-cta"]],decls:15,vars:0,consts:[[1,"container"],[1,"sec-info"],[1,"logo"],["src","assets/logo.png","alt",""],["href","assets\\descarga\\my-anime-app.apk",3,"click"],[1,"sec-imagen"],[1,"imagen"],["src","assets/main.png","alt",""]],template:function(i,o){i&1&&(m(0,"main",0)(1,"div",1)(2,"div",2),j(3,"img",3),g(),m(4,"h1"),_(5," My anime app "),g(),m(6,"p"),_(7," La aplicacion My anime App para Android TV y movil te permite disfrutar de tus animes favoritos sin tener que iniciar sesion y llevar un registro de los animes que has visto, tanto de los capitulos como del anime, y asi mismo llevar un registro de tus animes favoritos de manera local. "),g(),m(8,"a",4),Me("click",function(){return o.actualizarDescarga()}),_(9," Descargar Ahora "),g(),m(10,"p"),_(11,"Version 1.1.0"),g()(),m(12,"div",5)(13,"div",6),j(14,"img",7),g()()())},styles:[".logo[_ngcontent-%COMP%]{width:100px;height:auto;margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:20px;box-shadow:4px 4px 8px #000}.imagen[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 5px rgb(244,219,212));width:100%}p[_ngcontent-%COMP%]{font-family:var(--tipografia-opciones);font-size:large;line-height:2;margin-bottom:20px}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-contraste);border-radius:10px;padding:15px 20px;background-color:var(--color-acento-1);font-size:x-large;margin-bottom:20px;transition:all .5s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:var(--color-acento-2)}h1[_ngcontent-%COMP%]{font-size:50px;margin-bottom:20px}.sec-info[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;align-items:start;font-family:var(--tipografia-titulo);color:var(--color-contraste)}.sec-imagen[_ngcontent-%COMP%]{display:flex;width:50%;flex-direction:column;align-items:start;justify-content:center;font-family:var(--tipografia-titulo);color:var(--color-contraste);padding-left:50px}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:60px}@media (max-width: 900px){.sec-imagen[_ngcontent-%COMP%]{width:100%;padding:0}.sec-info[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{padding:0}}"]});let t=e;return t})();function zU(t,e){if(t&1&&(m(0,"p"),_(1),g()),t&2){let n=e.$implicit;H(),bt(" ",n," ")}}var nh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-seccion"]],inputs:{seccion:"seccion"},decls:8,vars:5,consts:[[1,"container"],[1,"sec-info"],[4,"ngFor","ngForOf"],[1,"sec-imagen"],[1,"imagen"],["alt","",3,"src"]],template:function(i,o){i&1&&(m(0,"section",0)(1,"div",1)(2,"h1"),_(3),g(),wt(4,zU,2,1,"p",2),g(),m(5,"div",3)(6,"div",4),j(7,"img",5),g()()()),i&2&&(He("reversed",o.seccion.reversed),H(3),bt(" ",o.seccion.titulo," "),H(),Ue("ngForOf",o.seccion.parrafos),H(3),Ue("src",o.seccion.imagen,sp))},dependencies:[mn],styles:[".imagen[_ngcontent-%COMP%]{width:100%}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border:1px var(--color-acento-2);border-style:outset;box-shadow:15px 12px 15px #000}p[_ngcontent-%COMP%]{font-family:var(--tipografia-opciones);font-size:15px;line-height:2;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:x-large;margin-bottom:20px}.sec-info[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;align-items:start;justify-content:center;font-family:var(--tipografia-titulo);color:var(--color-contraste)}.sec-imagen[_ngcontent-%COMP%]{display:flex;width:50%;flex-direction:column;align-items:center;justify-content:center;font-family:var(--tipografia-titulo);color:var(--color-contraste)}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding-left:60px;padding-top:100px}.reversed[_ngcontent-%COMP%]{flex-direction:row-reverse}.reversed[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:15px 12px 15px #000}@media (max-width: 900px){.sec-imagen[_ngcontent-%COMP%]{width:100%;padding:0}.sec-info[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{padding-left:0;padding-top:100px}}"]});let t=e;return t})();function GU(t,e){if(t&1&&j(0,"app-seccion",4),t&2){let n=e.$implicit;Ue("seccion",n)}}var SS=(()=>{let e=class e{constructor(){this.secciones=[{reversed:!0,parrafos:["Ofrecemos una amplia selecci\xF3n de servidores para que puedas disfrutar de tus animes y videos favoritos.","Accedemos a las mejores p\xE1ginas web para proporcionarte el contenido m\xE1s reciente y variado. Analizamos sitios web de renombre que son conocidos por su extenso cat\xE1logo de animes y videos de alta calidad. ","Al seleccionar una pagina como servidor, podras acceder a todo su catalogo y disfrutar de su contenido."],titulo:"Servidores",imagen:"assets/servers.jpg"},{titulo:"Explorar",imagen:"assets/explore.jpg",parrafos:["Adentrate y explora el extenso catalago que ofrece cada servidor para encontrar tus animes favoritos.","Ademas, puedes filtrar el catalogo por los distintos generos que ofrece cada servidor y encontrar nuevos animes en dicho genero.","Navega entre las distintas paginas de cada genero de manera sencilla al seleccionar el numero de pagina que se muestra."],reversed:!1},{titulo:"Favoritos",imagen:"assets/fav.jpg",parrafos:["Ahora puedes guardar tus animes favoritos con un solo clic. Nuestra nueva funci\xF3n de Favorito te permite acceder r\xE1pidamente a tus series y episodios preferidos sin tener que buscarlos nuevamente. \xA1Disfruta de tus contenidos favoritos en cualquier momento y en cualquier lugar!","\xBFTienes una lista de animes que adoras? Con nuestra funci\xF3n de Favoritos, puedes organizar f\xE1cilmente tus series y pel\xEDculas de anime en una lista personalizada. Mant\xE9n tus preferencias al d\xEDa y accede r\xE1pidamente a tus contenidos favoritos sin perder tiempo busc\xE1ndolos."],reversed:!0},{titulo:"Historial",imagen:"assets/history.jpg",parrafos:["Con nuestra funci\xF3n de historial, puedes revivir tus momentos favoritos de anime f\xE1cilmente.Nuestro historial te permite acceder r\xE1pidamente a los animes y episodios que has visto recientemente. \xA1No vuelvas a perder la pista de d\xF3nde lo dejaste!","\xBFQuieres ver primero lo m\xE1s reciente? Con nuestra funci\xF3n de ordenamiento, puedes cambiar f\xE1cilmente el orden de tu historial para ver primero los animes y episodios m\xE1s recientes. ","Nunca tendr\xE1s que preocuparte por perder el hilo de tus animes favoritos. Gracias a nuestra funci\xF3n de continuaci\xF3n de reproducci\xF3n, cada vez que vuelvas a ver un anime, comenzar\xE1s exactamente donde lo dejaste. "],reversed:!1}]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-main"]],decls:6,vars:1,consts:[[1,"container-main"],[1,"linea-con-texto"],[1,"texto"],[3,"seccion",4,"ngFor","ngForOf"],[3,"seccion"]],template:function(i,o){i&1&&(m(0,"div",0),j(1,"app-cta"),m(2,"div",1)(3,"span",2),_(4,"Descubre"),g()(),wt(5,GU,1,1,"app-seccion",3),g()),i&2&&(H(5),Ue("ngForOf",o.secciones))},dependencies:[mn,bS,nh],styles:['.container-main[_ngcontent-%COMP%]{background-color:var(--color-secundario-1);background:radial-gradient(circle,var(--color-secundario-1),var(--color-principal));padding:50px}.linea-con-texto[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:100px}.linea-con-texto[_ngcontent-%COMP%]:before, .linea-con-texto[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:3px solid var(--color-secundario-1);margin:0 10px}.texto[_ngcontent-%COMP%]{white-space:nowrap;color:var(--color-contraste);font-size:x-large;font-family:var(--tipografia-titulo)}@media (max-width: 900px){.container-main[_ngcontent-%COMP%]{padding:30px}}']});let t=e;return t})();function WU(t,e){t&1&&j(0,"div",9)}function KU(t,e){t&1&&j(0,"div",10)}function QU(t,e){t&1&&j(0,"div",16)}function YU(t,e){if(t&1&&(m(0,"div",11)(1,"div",12)(2,"div",13),_(3),g(),m(4,"div",14),_(5),g()(),wt(6,QU,1,0,"div",15),g()),t&2){let n=e.$implicit,r=e.last;H(3),bt(" ",n.titulo," "),H(2),bt(" ",n.contenido," "),H(),Ue("ngIf",!r)}}var AS=(()=>{let e=class e{constructor(r){this.serice=r,this.estrellas=3,this.descargas=0,this.arrayEstrellasCal=Array(this.estrellas),this.arrayEstrellas=Array(5-this.estrellas),this.informacion=[],this.refrescarEstrellas(),this.refrescarDescargas(),this.refreshInfo()}refreshInfo(){this.informacion=[{titulo:"Nombre: ",contenido:"My anime app"},{titulo:"Tama\xF1o: ",contenido:"23.7 MB"},{titulo:"Instalacion: ",contenido:"Sencilla"},{titulo:"Tipo Archivo: ",contenido:"APK"},{titulo:"Deteccion: ",contenido:"Seguro"},{titulo:"Version: ",contenido:"1.1.0"},{titulo:"Fecha de actualizaci\xF3n: ",contenido:"23-03-2024"},{titulo:"Descargas:",contenido:this.validarDescargas()},{titulo:"Plataforma: ",contenido:"Movil - Android TV"},{titulo:"OS: ",contenido:"Android"}]}validarDescargas(){let r=this.descargas+"";return this.descargas>1e3&&(r=(this.descargas/1e3).toFixed(1)+" k"),this.descargas>1e6&&(r=(this.descargas/1e6).toFixed(1)+" M"),r}refrescarEstrellas(){this.serice.getCalificacion().then(r=>{this.estrellas=r,this.arrayEstrellasCal=Array(this.estrellas),this.arrayEstrellas=Array(5-this.estrellas)})}refrescarDescargas(){this.serice.getDescargas().then(r=>{this.descargas=r,this.refreshInfo()})}};e.\u0275fac=function(i){return new(i||e)(B(Mn))},e.\u0275cmp=ye({type:e,selectors:[["app-main-info"]],decls:14,vars:4,consts:[[1,"info-logo"],[1,"logo"],["src","assets/logo.png","alt",""],[1,"calificacion"],[1,"estrellas"],["class","star-cal",4,"ngFor","ngForOf"],["class","star-icon",4,"ngFor","ngForOf"],[1,"info"],["style","width: 100%;",4,"ngFor","ngForOf"],[1,"star-cal"],[1,"star-icon"],[2,"width","100%"],[1,"elemento"],[1,"titulo"],[1,"contenido"],["class","separador",4,"ngIf"],[1,"separador"]],template:function(i,o){i&1&&(m(0,"main")(1,"div",0)(2,"div",1),j(3,"img",2),g(),m(4,"div",3)(5,"div",4),wt(6,WU,1,0,"div",5)(7,KU,1,0,"div",6),g(),m(8,"p"),_(9),g()()(),m(10,"div",7)(11,"h1"),_(12,"Detalles"),g(),wt(13,YU,7,3,"div",8),g()()),i&2&&(H(6),Ue("ngForOf",o.arrayEstrellasCal),H(),Ue("ngForOf",o.arrayEstrellas),H(2),bt("",o.estrellas,".0"),H(4),Ue("ngForOf",o.informacion))},dependencies:[mn,v0],styles:["main[_ngcontent-%COMP%]{background-color:var(--color-secundario-1);background:radial-gradient(circle,var(--color-secundario-1),var(--color-principal));padding:100px 20px;display:flex;flex-wrap:wrap;justify-content:space-evenly}.logo[_ngcontent-%COMP%]{width:250px;height:auto;margin:20px 30px}.star-cal[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#ff0;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);display:inline-block;margin:10px 5px}.star-icon[_ngcontent-%COMP%]{width:25px;height:25px;background-color:gray;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);display:inline-block;margin:10px 5px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:20px}p[_ngcontent-%COMP%]{font-size:x-large;font-family:var(--tipografia-opciones)}.info-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:var(--color-contraste);align-items:center}.info-logo[_ngcontent-%COMP%]   .calificacion[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-evenly}.separador[_ngcontent-%COMP%]{width:100%;background-color:var(--color-acento-1);height:1px;margin:5px 0}.info[_ngcontent-%COMP%]{width:800px;margin:40px 0;display:flex;flex-direction:column;align-items:start}h1[_ngcontent-%COMP%]{color:var(--color-contraste);font-family:var(--tipografia-titulo);margin-bottom:30px}.elemento[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:start;color:var(--color-contraste);width:100%}.elemento[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-family:var(--tipografia-opciones);font-size:larger;font-weight:bolder;padding:10px 20px;width:30%}.elemento[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{font-family:var(--tipografia-opciones);font-size:larger;padding:10px}"]});let t=e;return t})();function ZU(t,e){if(t&1&&j(0,"app-seccion",24),t&2){let n=e.$implicit;Ue("seccion",n)}}var MS=(()=>{let e=class e{constructor(){this.secciones=[{titulo:"Vista del capitulo",imagen:"assets/vistaCap.jpg",reversed:!1,parrafos:["Al inicio cargaran los idiomas disponibles, al seleccionar un idioma, este se pondra de color naranja y se cargaran los servidores de video. Por defecto el idioma principal que cargara es latino.","Los servidores de video cargaran automaticamente al ser de un solo idioma. Al seleccionar un servidor de video te llevara a la pagina de ese servidor, este se reproducira automaticamente en la mayoria de los casos, si no debera iniciarlo manualmente.","El reproductor local se abrira una vez encuentre el video dentro de la pagina del servidor, los servidores de video que cuentan con reproductor local estan destacados con el color verde. ","Una vez seleccionado se pondra de color naranja, por defecto se iniciara en el primer servidor que cuente con reproductor local."]}]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-main-rep"]],decls:94,vars:1,consts:[[3,"seccion",4,"ngFor","ngForOf"],[1,"info-rep"],[1,"imagen"],["src","assets/rep.jpg","alt",""],[1,"info"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["fill","#ffffff","d","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],["width","254px","height","254px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill-rule","evenodd","clip-rule","evenodd","d","M12.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L15.586 12l-3.293-3.293a1 1 0 0 1 0-1.414Z","fill","#f5f5f5"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L9.586 12 6.293 8.707a1 1 0 0 1 0-1.414Z","fill","#f5f5f5"],["viewBox","-3 0 28 28","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xmlns","sketch","http://www.bohemiancoding.com/sketch/ns","fill","#000000","stroke","#000000"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["id","Icon-Set-Filled",0,"sketch","type","MSLayerGroup","transform","translate(-419.000000, -571.000000)","fill","#fffafa"],["d","M440.415,583.554 L421.418,571.311 C420.291,570.704 419,570.767 419,572.946 L419,597.054 C419,599.046 420.385,599.36 421.418,598.689 L440.415,586.446 C441.197,585.647 441.197,584.353 440.415,583.554","id","play",0,"sketch","type","MSShapeGroup"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFXklEQVR4nO1aW4gcRRQt34qIGt9RP3xEJCYKiqCIqBAMEUUTNGp+jG5E0WA+sqvih4isGyVkyb8fQRR/9cM3CL42ZmMQ8hejRIlBJQkxOzPd59zeuCW3ZyZ013b3TM92945xDjTMbnXXrdP3dtW5t8qYAQYYYIAB/qeo1+uXiMhjAmwV8jMBfiJwhIAQCPS3AHtbbVtFZHWj0bjU/JdgrV0AYD2BSSFt3ovADMnvtA9r7bmmX+F53kIBxgk0eiGaQr6mfdpa7ULTL7DWnkZypEiiCcSPktxorT3FtS++/4SIrKmELMlFBH7MGOgxkhMCjJJcRXKxtfZ8fUnW2lP1t4gsIblSgE0kd2hIp/ZHbgdw7XGywGstO6yC7IMEplIG9xvJYQ3zvP16nncFyVeEPJDyEo8AWN4m275MmRBgnXovYUB/CTCkHpyrDWvt6SQ3kDycQPof93+mZLIzCeH2jrX2vFImQ/LLTt+5KTGMjzlvWwR40pQIa+3JGuZJni2NMJsTVOyb1ZkZwL2mArjfbKmErS49zmysnu0XsoUTJjkyy0jJYZyHbKGEPc9b6IoKnaBMBRBgbbfipEij4+7So4KhMANZtkXWqKjoqMTIbwpLBOhKRmDInKgAsN55m/tVEJgTFQR2OqEzXIYda+1ZgefdBmCZiNyo666Zj+SdEUWlgqMbbWytPUmAp4X8s5Xs67Ur5d6zU1LKP7QPUyVEKxVx7050mRN/krCE7XXvtdaeQfLrzAkJGDNVQZplmajx0cz7RW4KSzbJA59FmOSrzgv9qvW/fZGomgl8/85SibYh5KfOgFaaDJB8KELwIwK70wi3vHsoQmy3tfZMbQNwDQE/8uyHpgoI+YtDeHEnwlqZaCswIb9IIxz4/l1O3xtitoEPIi8DRaSbHeHmobomd7j/et/3r2z/nUWY5AvRvgPfv91pfzn2SYgs6WK897WKBgdIrujM0EGY9sUJ51p/swgL8Hq072jZptU+5LTf04W9XyPP7DN9RnjUIXTVrMJcvH1Zli2dE2KfSC81LuYMaRcdQnpjLKSD4FanfdgJ6ZuzbGkZ15kTDuWka3TAPztGbyiQ8Apn2VrrtG+LCh4VKJm2RJZ2WgZ7WZZWFUVYdxRiSw/5eaTtnGh0kfy2ky2SDzuEP84z1jTh8YYpiLCC5NtO/5sB3B17rhlZj3e0BWxy+hrPM9YQIvKo4+HtpkDCtla7SMjfE5VZRMCoNu9ka9Y+lsgjJi/q9frFvSQP3RI+rqrI71M21LZpFtVV4T5SzdTfPe9FkdzheHkkx7OLgiC4Ra8s4aCpYOD7d4R1M2As3Hkkr8th56W8SU4qADzfzwUAlZy6rRNb4oBniy7xrDN9AiXnfAq1OdfbBNjihMxhOzV1gZlnhM4gDzrOeHPOHTcajcsI1B3S75p5BoH3He9O6URbTOeMS8H5Du0AeGbWzO6kmEVstexy3mig+7SmYqgsVdvOWCZ1g71QQ2hWIo4mbKYtr5hsfBcE+NvNtoo0+ACBadfTVYS3hnGCZ6c18S/VsABPJW6IA+/lTSG7ga4I7gTVVmOaN5sqIE3S0wkTx0H1RBHiRPvQdTZa7It6tjKybZC83/2mo4qM5Iue511uejvUonJxf1Lf+s2WHsZpAHA1gR/Ssh0V8qEeB8bCnFVkqYa9eq91LdCtlbBNjy0Bk1nHGrS9tAmqW+hyEJ62ST/CNOdLZ2b1euFLz5wPkgKbXVVWwNHDtwpTUGVAxXsAPKd5btapugySmgtP6IRV1cZ7YQirGiKrw1MEuskG7NHko3V8WMLaFbCn1bZFKxV9dZB0gAEGGGAAUy3+BS20Vtw0Gkq5AAAAAElFTkSuQmCC"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSklEQVR4nO1aS4gcVRR9/qIiIhm/8bPwi5BEQREUERECkmBAoya4UuOIn/gl8beRICbxw4zuXWQRceNCF/ETV4pMksFssosRokZRzAQz011d59xK4pPbXSPVd6qruqeramZiHyjo7tf1bp269913P8+5AQYYYIAB/qcIgmCJiKwV4EMhvxbgIIG/CUQERD8L8GM89oGIrKvX65e4hQTv/QUAnic5RuAfIX0vl95Dci+ADd77oTkjIsDmrHFfq12sWiJQ65VkBvm6ACNqKa5qiD5ECmnv/RkkNxGYKopoGnGSG733Z1VLmO2kAVxHck/Gg55sjgPbSD4gIsu894u992fqw+tnEVlKco0AW0juJnAiY759AK6tljBbpAHcS+BYh4f7neQbjUbjyl7lNBqNy0m+IuSvHUhPklztyoakaG/Gb+SEOizv/aJ+5akFCDAs5F8pso8LsN6VCclba8Cn6riKlqtmT3JHmjcvlbRkr9OXShM8LR8Y1v3baprkfeUIZKZ2M7esohD7jcCuaQDXzIVJb3bVkbaa/kE9f6GCpJs9syLSsTOzDvPlYoWwy0ChItIEPjZargVBcFlhAqSX6Ah4x5UMjbNJHjFy33OnMiLgKRuC6jbmTlV4DU7IX5KkI+AZN9/hvT83ajRuB7BCRG7y3p/e7b0kXzPOa4+rEt770wR4Usg/42Rfr30d/nueAKN2bxXyD52jG3mNRuOKZJirEVgZEV/HwF+AL1Oc2EH7X+/92SS/y3F+W10X0IJB230ia13ZEJGbmyWb9AefQZjkm8YUv41/O5TUVhSGd+XKBrYZeaOlEZ0GyfsTAncS2N+JcKzdiQSx/d77c3RM810CYeLez10OSD5oCH/hqiBMYFKAx/W7kN90IhyF4d1Guy8mxwX4LPEykFfp0MJCnkXlguQqTeTjZH5lF/+/MQzDq6a/ZxEm+ULbVhKGd5jx182aXJYl29dqF5kXOOF6hZA/JyY5NIv7OxIW4K3kA2qpyIw/YcbvyZKlS8QEIJxNrCrJSXqtYuQQftsQurptPAwfNeMryidMHjWEe6oR55j0xjaTjqLbzPgmY9K3VGHSPxmhSwskvNI4mcfM+PaEtk5ogJIpS2R5305LyK/MW1tTFGHtTrRtPeSuxNj5Sesi+X2eLJIP9b0tSasflJxkS1GE44f8yMz/frxd7TKW9UglgYeIrDMa3l0k4WZrhvyt7UFnRmg7NTbPk0Vg3Lykh3vl67SLl2yG6VrSWLkowv9FVSmdi7ihtl2zqDw5Wuw3ycNJdWJuNqAJyrUj0MO910dRdKteWYGDpoJRGN7Z7DYAWwE8R/KGPtLDMTdbANhg3v7hIroKJRcAnu5nwqEZuSow7OYJlJxZCrW+SzwCjBiTOeqnpi50c4wORbz+i4dBECxpNqbbSe9wcwwCnxjtThV2XIImFJxr07bVyrQUs2/nQGCfeaORtj1cxdCwNKXVMl54qwWtSsSkERRUSToma5tpx2y2VaTA1c1mtNF0FeatZtyhXbqqVMECrE87jqS9njKOGemOYB3UdDSmebOrAtIifTzFcRxRTRR05GGR7rPJYl9Ss5WRnYZ23u2aTkZkJF/VIrnrEc3YuBUuHk6bW9ds6WbcCdp512Z0znGIvRojN3NWkeVq9qq9+BrS1kpzTI82AeNph2WS3rg0B9UtdDvQPbDkg2mBar3wracf1Ov1SzWJt1FZn0RrArw7rw+ceu8XR8Czmuf2cbh0TB3Wguv1eq1qtI4PjzabbMABTT7io8PSrF0BB+KxEa1UzDp5H2CAAQYYwC18/AuVQlw/zQ0wfgAAAABJRU5ErkJggg=="],["viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","fill","#000000",1,"icon"],["d","M512 1024C229.7 1024 0 794.3 0 512S229.7 0 512 0s512 229.7 512 512-229.7 512-512 512z m0-938.7C276.7 85.3 85.3 276.7 85.3 512S276.7 938.7 512 938.7 938.7 747.3 938.7 512 747.3 85.3 512 85.3z","fill","#f7f9fd"],["d","M640 682.7c-9.6 0-19.3-3.2-27.3-9.9l-128-106.7c-9.7-8.1-15.4-20.1-15.4-32.8V384c0-23.6 19.1-42.7 42.7-42.7s42.7 19.1 42.7 42.7v129.4l112.6 93.9c18.1 15.1 20.5 42 5.5 60.1-8.5 10-20.6 15.3-32.8 15.3z","fill","#edeef3"],["fill","#fcfcfc","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M19.91,15.51H15.38a1,1,0,0,0,0,2h2.4A8,8,0,0,1,4,12a1,1,0,0,0-2,0,10,10,0,0,0,16.88,7.23V21a1,1,0,0,0,2,0V16.5A1,1,0,0,0,19.91,15.51ZM12,2A10,10,0,0,0,5.12,4.77V3a1,1,0,0,0-2,0V7.5a1,1,0,0,0,1,1h4.5a1,1,0,0,0,0-2H6.22A8,8,0,0,1,20,12a1,1,0,0,0,2,0A10,10,0,0,0,12,2Z"],[3,"seccion"]],template:function(i,o){i&1&&(m(0,"main")(1,"h1"),_(2,"Sobre el Reproductor"),g(),wt(3,ZU,1,1,"app-seccion",0),m(4,"h3"),_(5,"Reproductor Local"),g(),m(6,"div",1)(7,"div",2),j(8,"img",3),g(),m(9,"div",4)(10,"h4"),_(11,"General"),g(),m(12,"ul")(13,"li"),ro(),m(14,"svg",5),j(15,"path",6),g(),_(16," Regresar "),g(),io(),m(17,"li"),ro(),m(18,"svg",7),j(19,"g",8)(20,"g",9),m(21,"g",10),j(22,"path",11)(23,"path",12),g()(),_(24," Siguiente Capitulo "),g(),io(),m(25,"li"),ro(),m(26,"svg",13),j(27,"g",8)(28,"g",9),m(29,"g",10)(30,"title"),_(31,"play"),g(),m(32,"desc"),_(33,"Created with Sketch Beta."),g(),j(34,"defs"),m(35,"g",14)(36,"g",15),j(37,"path",16),g()()()(),_(38," Inicia o pausa el video "),g(),io(),m(39,"li"),j(40,"img",17),_(41," Adelanta 10 segundos "),g(),m(42,"li"),j(43,"img",18),_(44," Regresa 10 segundos "),g(),m(45,"li"),ro(),m(46,"svg",19),j(47,"g",8)(48,"g",9),m(49,"g",10),j(50,"path",20)(51,"path",21),g()(),_(52," Salta el opening "),g(),io(),m(53,"li"),ro(),m(54,"svg",22),j(55,"g",8)(56,"g",9),m(57,"g",10),j(58,"path",23),g()(),_(59," Reinicia el video "),g()(),io(),m(60,"h4"),_(61,"En Movil"),g(),m(62,"ul")(63,"li")(64,"b"),_(65,"Double tap en la parte derecha:"),g(),_(66," Adelanta 10 segundos. "),g(),m(67,"li")(68,"b"),_(69,"Double tap en la parte izquierda:"),g(),_(70," Retrocede 10 segundos. "),g(),m(71,"li")(72,"b"),_(73,"Mantener el tap:"),g(),_(74," Inicia o pausa la reproducci\xF3n. "),g()(),m(75,"h4"),_(76,"En TV"),g(),m(77,"ul")(78,"li")(79,"b"),_(80,"Boton direccion derecha:"),g(),_(81," Adelanta 10 segundos. "),g(),m(82,"li")(83,"b"),_(84,"Boton direccion izquierda:"),g(),_(85," Retrocede 10 segundos. "),g(),m(86,"li")(87,"b"),_(88,"Boton select o play/pause:"),g(),_(89," Inicia o pausa la reproducci\xF3n. "),g(),m(90,"li")(91,"b"),_(92,"Boton direccion arriba o abajo:"),g(),_(93," Muestra los botones. "),g()()()()()),i&2&&(H(3),Ue("ngForOf",o.secciones))},dependencies:[mn,nh],styles:["main[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;background:radial-gradient(circle,var(--color-secundario-1),var(--color-principal));padding:30px;color:var(--color-contraste);font-family:var(--tipografia-opciones)}app-seccion[_ngcontent-%COMP%]{padding-right:20px}svg[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;margin-right:20px}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:20px}h1[_ngcontent-%COMP%]{font-family:var(--tipografia-titulo);font-size:xx-large;text-align:center;padding:10px 20px;border-bottom:2px solid var(--color-acento-1);border-top:2px solid var(--color-acento-1)}h3[_ngcontent-%COMP%]{font-size:larger;padding:10px;border-bottom:2px solid var(--color-acento-1);width:90%;margin:40px 0}h4[_ngcontent-%COMP%]{font-size:larger;margin-bottom:20px;font-weight:bolder}li[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;flex-wrap:wrap;align-items:center}li[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{margin-right:10px}ul[_ngcontent-%COMP%]{margin-bottom:30px}.info-rep[_ngcontent-%COMP%]{display:flex;justify-content:start;max-width:90%}.imagen[_ngcontent-%COMP%]{width:50%;margin-right:90px;background-color:transparent}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border:1px solid var(--color-acento-2);box-shadow:15px 12px 15px #000}@media (max-width: 900px){.info-rep[_ngcontent-%COMP%]{padding:0 30px;flex-direction:column;width:100%}.imagen[_ngcontent-%COMP%]{width:100%;margin:0 0 30px;justify-self:center;align-self:center}}"]});let t=e;return t})();var VS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(Gr),B(sr))},e.\u0275dir=Lt({type:e});let t=e;return t})(),JU=(()=>{let e=class e extends VS{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ds(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,features:[so]});let t=e;return t})(),LS=new x("");var XU={provide:LS,useExisting:_s(()=>sh),multi:!0};function eB(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var tB=new x(""),sh=(()=>{let e=class e extends VS{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!eB())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(Gr),B(sr),B(tB,8))},e.\u0275dir=Lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Me("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ip([XU]),so]});let t=e;return t})();var nB=new x(""),rB=new x("");function jS(t){return t!=null}function US(t){return Wr(t)?Ie(t):t}function BS(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function $S(t,e){return e.map(n=>n(t))}function iB(t){return!t.validate}function HS(t){return t.map(e=>iB(e)?e:n=>e.validate(n))}function oB(t){if(!t)return null;let e=t.filter(jS);return e.length==0?null:function(n){return BS($S(n,e))}}function qS(t){return t!=null?oB(HS(t)):null}function sB(t){if(!t)return null;let e=t.filter(jS);return e.length==0?null:function(n){let r=$S(n,e).map(US);return Sh(r).pipe(K(BS))}}function zS(t){return t!=null?sB(HS(t)):null}function xS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aB(t){return t._rawValidators}function cB(t){return t._rawAsyncValidators}function I_(t){return t?Array.isArray(t)?t:[t]:[]}function ih(t,e){return Array.isArray(t)?t.includes(e):t===e}function RS(t,e){let n=I_(e);return I_(t).forEach(i=>{ih(n,i)||n.push(i)}),n}function NS(t,e){return I_(e).filter(n=>!ih(t,n))}var oh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},E_=class extends oh{get formDirective(){return null}get path(){return null}},rc=class extends oh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},D_=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},uB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},d8=he(S({},uB),{"[class.ng-submitted]":"isSubmitted"}),GS=(()=>{let e=class e extends D_{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(rc,2))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&He("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[so]});let t=e;return t})();var tc="VALID",rh="INVALID",ts="PENDING",nc="DISABLED";function lB(t){return(ah(t)?t.validators:t)||null}function dB(t){return Array.isArray(t)?qS(t):t||null}function hB(t,e){return(ah(e)?e.asyncValidators:t)||null}function fB(t){return Array.isArray(t)?zS(t):t||null}function ah(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var C_=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tc}get invalid(){return this.status===rh}get pending(){return this.status==ts}get disabled(){return this.status===nc}get enabled(){return this.status!==nc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NS(e,this._rawAsyncValidators))}hasValidator(e){return ih(this._rawValidators,e)}hasAsyncValidator(e){return ih(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ts,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=nc,this.errors=null,this._forEachChild(r=>{r.disable(he(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=tc,this._forEachChild(r=>{r.enable(he(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tc||this.status===ts)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nc:tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ts,this._hasOwnPendingAsyncValidator=!0;let n=US(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?nc:this.errors?rh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ts)?ts:this._anyControlsHaveStatus(rh)?rh:tc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ah(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fB(this._rawAsyncValidators)}};var WS=new x("CallSetDisabledState",{providedIn:"root",factory:()=>b_}),b_="always";function pB(t,e){return[...e.path,t]}function gB(t,e,n=b_){yB(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),vB(t,e),wB(t,e),_B(t,e),mB(t,e)}function PS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function yB(t,e){let n=aB(t);e.validator!==null?t.setValidators(xS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=cB(t);e.asyncValidator!==null?t.setAsyncValidators(xS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();PS(e._rawValidators,i),PS(e._rawAsyncValidators,i)}function vB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KS(t,e)})}function _B(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function IB(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function EB(t){return Object.getPrototypeOf(t.constructor)===JU}function DB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===sh?n=o:EB(o)?r=o:i=o}),i||r||n||null}function OS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var CB=class extends C_{constructor(e=null,n,r){super(lB(n),hB(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ah(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bB={provide:rc,useExisting:_s(()=>T_)},FS=Promise.resolve(),T_=(()=>{let e=class e extends rc{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new CB,this._registered=!1,this.name="",this.update=new Le,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=DB(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),IB(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gB(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){FS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Qr(i);FS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?pB(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(E_,9),B(nB,10),B(rB,10),B(LS,10),B(Kr,8),B(WS,8))},e.\u0275dir=Lt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[lt.None,"disabled","isDisabled"],model:[lt.None,"ngModel","model"],options:[lt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ip([bB]),so,qr]});let t=e;return t})();var TB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})();var QS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:WS,useValue:r.callSetDisabledState??b_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({imports:[TB]});let t=e;return t})();function AB(t,e){t&1&&j(0,"div",18)}function MB(t,e){t&1&&j(0,"div",19)}function xB(t,e){if(t&1&&(m(0,"div",20)(1,"div",21)(2,"p"),_(3),g(),m(4,"p",22),_(5),zE(6,"date"),g()(),m(7,"div",23),_(8),g(),m(9,"div",24),j(10,"div",25),m(11,"p"),_(12),g()()()),t&2){let n=e.$implicit;H(3),bs(n.alias),H(2),bs(GE(6,4,n.fecha)),H(3),bt(" ",n.contenido," "),H(4),bs(n.calificacion)}}var YS=(()=>{let e=class e{constructor(r){this.fireService=r,this.cal_preview=0,this.validado=!1,this.user_cal=0,this.user_alias="",this.user_contenido="",this.estrellas=0,this.arrayEstrellasCal=Array(this.estrellas),this.arrayEstrellas=Array(5-this.estrellas),this.arrayResenas=[],this.numComentarios=this.arrayResenas.length}ngOnInit(){this.refrescarComentarios(),this.refrescarEstrellas()}guardarCal(r){this.user_cal=r,this.validarFormulario()}validarFormulario(){this.user_alias.trim().length>0&&this.user_contenido.trim().length>0&&this.user_cal>0?this.validado=!0:this.validado=!1}refrescarEstrellas(){this.fireService.getCalificacion().then(r=>{this.estrellas=r,this.arrayEstrellasCal=Array(this.estrellas),this.arrayEstrellas=Array(5-this.estrellas)})}comentar(){this.validado&&(this.fireService.addComments({alias:this.user_alias,contenido:this.user_contenido,calificacion:this.user_cal,fecha:Date.now()}).then(r=>{this.refrescarComentarios()}),this.limpiarFormulario())}limpiarFormulario(){this.user_alias="",this.user_cal=0,this.user_contenido="",this.validado=!1}refrescarComentarios(){this.fireService.getComments().then(r=>{this.arrayResenas=r,this.numComentarios=this.arrayResenas.length})}};e.\u0275fac=function(i){return new(i||e)(B(Mn))},e.\u0275cmp=ye({type:e,selectors:[["app-main-resenas"]],decls:33,vars:31,consts:[[1,"resenas"],[1,"info-logo"],[1,"logo"],["src","assets/logo.png","alt",""],[1,"calificacion"],[1,"estrellas"],["class","star-cal",4,"ngFor","ngForOf"],["class","star-icon",4,"ngFor","ngForOf"],[1,"comentar"],["type","text","placeholder","Ingrese su alias",3,"input","ngModelChange","ngModel"],["type","text","placeholder","A\xF1ade un comentario",3,"input","ngModelChange","ngModel"],[1,"opciones"],[1,"calificar"],[1,"star-comment",3,"click","mouseenter","mouseleave"],[1,"btn-comentario"],[3,"click"],[1,"caja-rese"],["class","comentario",4,"ngFor","ngForOf"],[1,"star-cal"],[1,"star-icon"],[1,"comentario"],[1,"cabezera"],[1,"fecha"],[1,"contenido"],[1,"botones"],[1,"star"]],template:function(i,o){i&1&&(m(0,"main")(1,"div",0)(2,"h1"),_(3,"Recibimiento de la aplicacion"),g(),m(4,"div",1)(5,"div",2),j(6,"img",3),g(),m(7,"div",4)(8,"div",5),wt(9,AB,1,0,"div",6)(10,MB,1,0,"div",7),g(),m(11,"p"),_(12),g()()(),m(13,"div")(14,"h2"),_(15),g()(),m(16,"div",8)(17,"input",9),Me("input",function(){return o.validarFormulario()}),xu("ngModelChange",function(a){return wp(o.user_alias,a)||(o.user_alias=a),a}),g(),m(18,"input",10),Me("input",function(){return o.validarFormulario()}),xu("ngModelChange",function(a){return wp(o.user_contenido,a)||(o.user_contenido=a),a}),g(),m(19,"div",11)(20,"div",12)(21,"div",13),Me("click",function(){return o.guardarCal(1)})("mouseenter",function(){return o.cal_preview=1})("mouseleave",function(){return o.cal_preview=0}),g(),m(22,"div",13),Me("click",function(){return o.guardarCal(2)})("mouseenter",function(){return o.cal_preview=2})("mouseleave",function(){return o.cal_preview=0}),g(),m(23,"div",13),Me("click",function(){return o.guardarCal(3)})("mouseenter",function(){return o.cal_preview=3})("mouseleave",function(){return o.cal_preview=0}),g(),m(24,"div",13),Me("click",function(){return o.guardarCal(4)})("mouseenter",function(){return o.cal_preview=4})("mouseleave",function(){return o.cal_preview=0}),g(),m(25,"div",13),Me("click",function(){return o.guardarCal(5)})("mouseenter",function(){return o.cal_preview=5})("mouseleave",function(){return o.cal_preview=0}),g()(),m(26,"div",14)(27,"button",15),Me("click",function(){return o.comentar()}),_(28,"Comentar"),g(),m(29,"button",15),Me("click",function(){return o.limpiarFormulario()}),_(30,"Cancelar"),g()()()(),m(31,"div",16),wt(32,xB,13,6,"div",17),g()()()),i&2&&(H(9),Ue("ngForOf",o.arrayEstrellasCal),H(),Ue("ngForOf",o.arrayEstrellas),H(2),bt("",o.estrellas,".0"),H(3),bt("",o.numComentarios," rese\xF1as sobre la app"),H(2),Mu("ngModel",o.user_alias),H(),Mu("ngModel",o.user_contenido),H(3),He("selected",1<=o.user_cal)("hovered",1<=o.cal_preview),H(),He("selected",2<=o.user_cal)("hovered",2<=o.cal_preview),H(),He("selected",3<=o.user_cal)("hovered",3<=o.cal_preview),H(),He("selected",4<=o.user_cal)("hovered",4<=o.cal_preview),H(),He("selected",5<=o.user_cal)("hovered",5<=o.cal_preview),H(2),He("activo",o.validado)("inactivo",!o.validado),H(5),Ue("ngForOf",o.arrayResenas))},dependencies:[mn,sh,GS,T_,_0],styles:[".logo[_ngcontent-%COMP%]{width:250px;height:auto;margin:20px 30px}.star-cal[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#ff0;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);display:inline-block;margin:10px 5px}.star-icon[_ngcontent-%COMP%]{width:25px;height:25px;background-color:gray;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);display:inline-block;margin:10px 5px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:20px}p[_ngcontent-%COMP%]{font-size:x-large;font-family:var(--tipografia-opciones)}h2[_ngcontent-%COMP%]{font-family:var(--tipografia-titulo);color:var(--color-contraste);font-size:x-large;text-align:center;font-weight:bolder;margin-bottom:20px;margin-top:30px}h1[_ngcontent-%COMP%]{font-family:var(--tipografia-titulo);color:var(--color-contraste);font-size:xx-large;text-align:center;font-weight:bolder;margin-bottom:20px}.info-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:var(--color-contraste);align-items:center}.info-logo[_ngcontent-%COMP%]   .calificacion[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,var(--color-secundario-1),var(--color-principal));padding:0 20px}.resenas[_ngcontent-%COMP%]{max-width:900px;min-width:800px;display:flex;flex-direction:column;padding:70px 50px}.cabezera[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;color:var(--color-contraste);font-family:var(--tipografia-opciones);font-size:larger;font-weight:700;align-items:end;margin-bottom:20px}.cabezera[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{color:gray;font-size:small;padding-left:30px;padding-bottom:4px}.star[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#ff0;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);display:inline-block}.star-comment[_ngcontent-%COMP%]{width:25px;height:25px;background-color:gray;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);display:inline-block;margin-right:10px;cursor:pointer}.selected[_ngcontent-%COMP%]{background-color:#ff0}.hovered[_ngcontent-%COMP%]{background-color:#f4f48d}.comentario[_ngcontent-%COMP%]{border-radius:20px;display:flex;flex-direction:column;color:var(--color-contraste);font-family:var(--tipografia-opciones);font-weight:lighter;margin-bottom:50px}.comentario[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{padding:10px 0}.comentario[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:var(--color-contraste);padding:10px 20px;border-radius:10px;transition:all .5s ease;cursor:pointer}.comentario[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-secundario-1)}.botones[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;align-items:center}.botones[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:medium;padding-left:5px;padding-right:20px}.comentar[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:50px 0}.comentar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:2px solid var(--color-secundario-1);padding:10px 20px;margin-bottom:10px;outline:none;color:var(--color-contraste);transition:all .5s ease;font-family:var(--tipografia-opciones)}.comentar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9d9d9d;font-family:var(--tipografia-opciones)}.comentar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid var(--color-contraste)}.comentar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:transparent;border:none;color:var(--color-contraste);border-radius:10px;transition:all .2s ease;cursor:pointer;margin-left:10px}.comentar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-secundario-1)}.comentar[_ngcontent-%COMP%]   .activo[_ngcontent-%COMP%]{background-color:var(--color-acento-1)}.comentar[_ngcontent-%COMP%]   .activo[_ngcontent-%COMP%]:hover{background-color:var(--color-acento-2)}.comentar[_ngcontent-%COMP%]   .inactivo[_ngcontent-%COMP%]{background-color:var(--color-secundario-1);color:gray;cursor:auto}.comentar[_ngcontent-%COMP%]   .inactivo[_ngcontent-%COMP%]:hover{background-color:var(--color-secundario-1)}.opciones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;margin-top:20px}@media (max-width: 900px){.resenas[_ngcontent-%COMP%]{min-width:100px;display:flex;flex-direction:column;padding:70px 10px}.opciones[_ngcontent-%COMP%]{justify-content:center}}"]});let t=e;return t})();var ZS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-main-apoyenos"]],decls:27,vars:0,consts:[[1,"principal"],[1,"informacion"],[1,"cuentas"]],template:function(i,o){i&1&&(m(0,"main")(1,"h1"),_(2,"Ap\xF3yanos"),g(),m(3,"div",0)(4,"section",1)(5,"h2"),_(6,"\xBFPor qu\xE9 es importante tu apoyo?"),g(),m(7,"p"),_(8,"Nuestra aplicaci\xF3n se ha creado con pasi\xF3n y dedicaci\xF3n para brindarte el mejor servicio posible. Tu apoyo nos ayuda a mantenernos en funcionamiento y nos impulsa a seguir mejorando y creciendo. Cada contribuci\xF3n, por peque\xF1a que sea, marca la diferencia y nos permite continuar ofreci\xE9ndote un producto de calidad."),g(),m(9,"p"),_(10,"\xA1Tu apoyo significa mucho para nosotros y nos ayuda a alcanzar nuestras metas! Juntos, podemos hacer grandes cosas."),g(),m(11,"h2"),_(12,"\xBFC\xF3mo puedes apoyarnos?"),g(),m(13,"p"),_(14,"Si te gusta nuestra aplicaci\xF3n y deseas apoyar nuestro trabajo, puedes considerar hacer una contribuci\xF3n econ\xF3mica. Aqu\xED te mostramos nuestras cuentas bancarias:"),g()(),m(15,"section",2)(16,"h3"),_(17,"Cuentas para dep\xF3sito:"),g(),m(18,"ul")(19,"li"),_(20,"Banco Pichincha: 2209985522"),g(),m(21,"li"),_(22,"Cooperativa JEP: 406097797303 "),g()(),m(23,"h3"),_(24,"Paypal:"),g(),m(25,"p"),_(26,"andichamba5@gmail.com"),g()()()())},styles:["main[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;background:radial-gradient(circle,var(--color-secundario-1),var(--color-principal));padding:30px;color:var(--color-contraste);font-family:var(--tipografia-opciones)}h1[_ngcontent-%COMP%]{margin:50px 0;font-family:var(--tipografia-titulo);font-size:xx-large}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:20px 0}.informacion[_ngcontent-%COMP%]{width:60%;margin-right:40px;margin-bottom:40px;line-height:2}.cuentas[_ngcontent-%COMP%]{border:1px solid #ccc;padding:30px 60px;display:flex;flex-direction:column;align-items:center}li[_ngcontent-%COMP%]{margin:20px 0}.principal[_ngcontent-%COMP%]{max-width:90%;display:flex;flex-wrap:wrap;margin-bottom:60px;align-items:center;justify-content:center}@media (max-width:900px){.informacion[_ngcontent-%COMP%]{width:100%;margin:0 0 60px}.principal[_ngcontent-%COMP%]{align-items:center;justify-content:center}}"]});let t=e;return t})();var JS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-dmca"]],decls:14,vars:0,consts:[[1,"info"]],template:function(i,o){i&1&&(m(0,"main")(1,"div",0)(2,"h1"),_(3,"Declaraci\xF3n DMCA"),g(),m(4,"p"),_(5,"Nuestra aplicaci\xF3n act\xFAa como un navegador web que permite a los usuarios acceder y visualizar contenido disponible p\xFAblicamente en Internet. No alojamos ni almacenamos ning\xFAn contenido protegido por derechos de autor en nuestros servidores. La funci\xF3n principal de nuestra aplicaci\xF3n es proporcionar una interfaz para que los usuarios accedan a contenido en l\xEDnea de manera conveniente. "),g(),m(6,"p"),_(7,`Entendemos la importancia de respetar los derechos de autor y nos comprometemos a cooperar con cualquier titular de derechos de autor que crea que su contenido ha sido utilizado de manera inapropiada a trav\xE9s de nuestra aplicaci\xF3n. Si eres el propietario de derechos de autor de cualquier contenido que se haya mostrado a trav\xE9s de nuestra aplicaci\xF3n y crees que se ha utilizado sin tu autorizaci\xF3n, te invitamos a que tomes las acciones correspondientes directamente con la p\xE1gina de origen donde se aloja el contenido.
`),g(),m(8,"p"),_(9,`Nuestra aplicaci\xF3n facilita a los usuarios la visualizaci\xF3n de contenido en l\xEDnea, proporcionando enlaces directos a las p\xE1ginas web de origen. No tenemos control sobre el contenido alojado en estos sitios web externos y no asumimos responsabilidad por el mismo. Si consideras que tu contenido ha sido utilizado de manera inapropiada en nuestra aplicaci\xF3n, te recomendamos que te pongas en contacto con el administrador del sitio web de origen para resolver el problema.
`),g(),m(10,"p"),_(11,`Para cualquier consulta relacionada con derechos de autor o para presentar una notificaci\xF3n DMCA, puedes ponerte en contacto con nuestro equipo de soporte a trav\xE9s de correo. Estaremos encantados de ayudarte y cooperar contigo en cualquier asunto relacionado con derechos de autor.
`),g(),m(12,"p"),_(13,`Apreciamos tu comprensi\xF3n y cooperaci\xF3n en el cumplimiento de las leyes de derechos de autor y estamos comprometidos a proteger los derechos de propiedad intelectual de los dem\xE1s.
`),g()()())},styles:["main[_ngcontent-%COMP%]{background-color:var(--color-secundario-1);background:radial-gradient(circle,var(--color-secundario-1),var(--color-principal));display:flex;align-items:center;justify-content:center}.info[_ngcontent-%COMP%]{background-color:var(--color-contraste);padding:150px 60px;max-width:600px}p[_ngcontent-%COMP%]{color:var(--color-secundario-1);font-family:var(--tipografia-opciones);line-height:1.5;margin-bottom:20px;text-align:justify;font-size:medium}h1[_ngcontent-%COMP%]{color:var(--color-principal);font-family:var(--tipografia-titulo);margin-bottom:20px}h4[_ngcontent-%COMP%]{color:var(--color-principal);font-family:var(--tipografia-titulo);margin-bottom:10px;font-size:larger}"]});let t=e;return t})();var XS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-informacion"]],decls:35,vars:0,consts:[[1,"info"],["href","mailto:joseph_0943@outlook.es"]],template:function(i,o){i&1&&(m(0,"main")(1,"div",0)(2,"h1"),_(3,"Informaci\xF3n Legal"),g(),m(4,"p")(5,"b"),_(6,"\xDAltima actualizaci\xF3n:"),g(),_(7," 2024-03-27 "),g(),m(8,"h4"),_(9,"Descargo de responsabilidad"),g(),m(10,"p"),_(11," La aplicaci\xF3n My anime app que descargas desde nuestro sitio web act\xFAa como un navegador web que recopila y muestra datos de diversas p\xE1ginas web p\xFAblicas para proporcionar contenido a los usuarios. Estos datos pueden incluir, entre otros, informaci\xF3n, im\xE1genes y v\xEDdeos que son accesibles p\xFAblicamente en Internet. "),g(),m(12,"h4"),_(13,"Prop\xF3sito de la Aplicaci\xF3n"),g(),m(14,"p"),_(15," La Aplicaci\xF3n tiene como objetivo proporcionar a los usuarios una forma conveniente de acceder a informaci\xF3n disponible p\xFAblicamente en Internet. No es responsable del contenido de las p\xE1ginas web a las que se accede a trav\xE9s de la Aplicaci\xF3n. "),g(),m(16,"h4"),_(17,"Derechos de autor y propiedad intelectual"),g(),m(18,"p"),_(19,"Entendemos la importancia del respeto a los derechos de autor y la propiedad intelectual. Dado que la Aplicaci\xF3n recopila datos de fuentes externas y no controla ni modifica el contenido, no podemos garantizar la exactitud, legalidad o legitimidad de dicho contenido. Si crees que tu contenido se ha utilizado de manera inapropiada en la Aplicaci\xF3n, le recomendamos tomar las medidas necesarias con las p\xE1ginas de origen. "),g(),m(20,"h4"),_(21,"Uso de la Aplicaci\xF3n"),g(),m(22,"p"),_(23,"Al utilizar la Aplicaci\xF3n, aceptas que nosotros no somos responsables de ning\xFAn contenido que puedas encontrar a trav\xE9s de ella. Te recomendamos que verifiques la legalidad del contenido y respetes los derechos de autor y propiedad intelectual al utilizar la Aplicaci\xF3n. "),g(),m(24,"h4"),_(25,"Cambios en la Pol\xEDtica"),g(),m(26,"p"),_(27,"Nos reservamos el derecho de actualizar o cambiar esta Pol\xEDtica de Informaci\xF3n Legal en cualquier momento. Te notificaremos cualquier cambio publicando la nueva Pol\xEDtica en esta p\xE1gina. "),g(),m(28,"h4"),_(29,"Contacto"),g(),m(30,"p"),_(31," Si tienes alguna pregunta sobre esta Pol\xEDtica de Informaci\xF3n Legal, cont\xE1ctanos a trav\xE9s de correo electronico a "),m(32,"a",1),_(33,"joseph_0943@outlook.com"),g(),_(34,"."),g()()())},styles:["main[_ngcontent-%COMP%]{background-color:var(--color-secundario-1);background:radial-gradient(circle,var(--color-secundario-1),var(--color-principal));display:flex;align-items:center;justify-content:center}.info[_ngcontent-%COMP%]{background-color:var(--color-contraste);padding:30px 60px;max-width:600px}p[_ngcontent-%COMP%]{color:var(--color-secundario-1);font-family:var(--tipografia-opciones);line-height:1.5;margin-bottom:20px;text-align:justify;font-size:medium}h1[_ngcontent-%COMP%]{color:var(--color-principal);font-family:var(--tipografia-titulo);margin-bottom:20px}h4[_ngcontent-%COMP%]{color:var(--color-principal);font-family:var(--tipografia-titulo);margin-bottom:10px;font-size:larger}"]});let t=e;return t})();var RB=[{path:"",component:SS},{path:"informacion",component:AS},{path:"reproductor",component:MS},{path:"rese\xF1as",component:YS},{path:"apoyanos",component:ZS},{path:"legal/dmca",component:JS},{path:"legal/informacion",component:XS},{path:"**",redirectTo:""}],eA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({imports:[__.forRoot(RB),Qu,__]});let t=e;return t})();var tA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e,bootstrap:[CS]}),e.\u0275inj=Be({imports:[M0,QS,iD(()=>oD(Yr.firebase)),ST(()=>RT()),eA]});let t=e;return t})();A0().bootstrapModule(tA).catch(t=>console.error(t));
